(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function As(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var Wf={exports:{}},va={},Vf={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Is=Symbol.for("react.element"),vv=Symbol.for("react.portal"),yv=Symbol.for("react.fragment"),xv=Symbol.for("react.strict_mode"),wv=Symbol.for("react.profiler"),kv=Symbol.for("react.provider"),bv=Symbol.for("react.context"),Sv=Symbol.for("react.forward_ref"),Cv=Symbol.for("react.suspense"),Lv=Symbol.for("react.memo"),Pv=Symbol.for("react.lazy"),fd=Symbol.iterator;function Ev(e){return e===null||typeof e!="object"?null:(e=fd&&e[fd]||e["@@iterator"],typeof e=="function"?e:null)}var qf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gf=Object.assign,Kf={};function kr(e,t,n){this.props=e,this.context=t,this.refs=Kf,this.updater=n||qf}kr.prototype.isReactComponent={};kr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jf(){}Jf.prototype=kr.prototype;function sc(e,t,n){this.props=e,this.context=t,this.refs=Kf,this.updater=n||qf}var oc=sc.prototype=new Jf;oc.constructor=sc;Gf(oc,kr.prototype);oc.isPureReactComponent=!0;var pd=Array.isArray,Qf=Object.prototype.hasOwnProperty,ac={current:null},Yf={key:!0,ref:!0,__self:!0,__source:!0};function Xf(e,t,n){var r,a={},s=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)Qf.call(t,r)&&!Yf.hasOwnProperty(r)&&(a[r]=t[r]);var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){for(var h=Array(c),p=0;p<c;p++)h[p]=arguments[p+2];a.children=h}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)a[r]===void 0&&(a[r]=c[r]);return{$$typeof:Is,type:e,key:s,ref:l,props:a,_owner:ac.current}}function jv(e,t){return{$$typeof:Is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Is}function Tv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var md=/\/+/g;function gl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Tv(""+e.key):t.toString(36)}function Mo(e,t,n,r,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Is:case vv:l=!0}}if(l)return l=e,a=a(l),e=r===""?"."+gl(l,0):r,pd(a)?(n="",e!=null&&(n=e.replace(md,"$&/")+"/"),Mo(a,t,n,"",function(p){return p})):a!=null&&(lc(a)&&(a=jv(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(md,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=r===""?".":r+":",pd(e))for(var c=0;c<e.length;c++){s=e[c];var h=r+gl(s,c);l+=Mo(s,t,n,h,a)}else if(h=Ev(e),typeof h=="function")for(e=h.call(e),c=0;!(s=e.next()).done;)s=s.value,h=r+gl(s,c++),l+=Mo(s,t,n,h,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function uo(e,t,n){if(e==null)return e;var r=[],a=0;return Mo(e,r,"","",function(s){return t.call(n,s,a++)}),r}function Nv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gt={current:null},Oo={transition:null},Mv={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:Oo,ReactCurrentOwner:ac};function ep(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:uo,forEach:function(e,t,n){uo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return uo(e,function(){t++}),t},toArray:function(e){return uo(e,function(t){return t})||[]},only:function(e){if(!lc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=kr;ge.Fragment=yv;ge.Profiler=wv;ge.PureComponent=sc;ge.StrictMode=xv;ge.Suspense=Cv;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mv;ge.act=ep;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gf({},e.props),a=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=ac.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(h in t)Qf.call(t,h)&&!Yf.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&c!==void 0?c[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){c=Array(h);for(var p=0;p<h;p++)c[p]=arguments[p+2];r.children=c}return{$$typeof:Is,type:e.type,key:a,ref:s,props:r,_owner:l}};ge.createContext=function(e){return e={$$typeof:bv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kv,_context:e},e.Consumer=e};ge.createElement=Xf;ge.createFactory=function(e){var t=Xf.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:Sv,render:e}};ge.isValidElement=lc;ge.lazy=function(e){return{$$typeof:Pv,_payload:{_status:-1,_result:e},_init:Nv}};ge.memo=function(e,t){return{$$typeof:Lv,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Oo.transition;Oo.transition={};try{e()}finally{Oo.transition=t}};ge.unstable_act=ep;ge.useCallback=function(e,t){return gt.current.useCallback(e,t)};ge.useContext=function(e){return gt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return gt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return gt.current.useEffect(e,t)};ge.useId=function(){return gt.current.useId()};ge.useImperativeHandle=function(e,t,n){return gt.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return gt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return gt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return gt.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return gt.current.useReducer(e,t,n)};ge.useRef=function(e){return gt.current.useRef(e)};ge.useState=function(e){return gt.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return gt.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return gt.current.useTransition()};ge.version="18.3.1";Vf.exports=ge;var F=Vf.exports;const Ql=Hf(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov=F,Av=Symbol.for("react.element"),Iv=Symbol.for("react.fragment"),Rv=Object.prototype.hasOwnProperty,zv=Ov.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dv={key:!0,ref:!0,__self:!0,__source:!0};function tp(e,t,n){var r,a={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Rv.call(t,r)&&!Dv.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Av,type:e,key:s,ref:l,props:a,_owner:zv.current}}va.Fragment=Iv;va.jsx=tp;va.jsxs=tp;Wf.exports=va;var f=Wf.exports,np={exports:{}},Mt={},ip={exports:{}},rp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,V){var Z=I.length;I.push(V);e:for(;0<Z;){var G=Z-1>>>1,J=I[G];if(0<a(J,V))I[G]=V,I[Z]=J,Z=G;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var V=I[0],Z=I.pop();if(Z!==V){I[0]=Z;e:for(var G=0,J=I.length,K=J>>>1;G<K;){var re=2*(G+1)-1,ie=I[re],te=re+1,Se=I[te];if(0>a(ie,Z))te<J&&0>a(Se,ie)?(I[G]=Se,I[te]=Z,G=te):(I[G]=ie,I[re]=Z,G=re);else if(te<J&&0>a(Se,Z))I[G]=Se,I[te]=Z,G=te;else break e}}return V}function a(I,V){var Z=I.sortIndex-V.sortIndex;return Z!==0?Z:I.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],p=[],g=1,_=null,v=3,x=!1,S=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(I){for(var V=n(p);V!==null;){if(V.callback===null)r(p);else if(V.startTime<=I)r(p),V.sortIndex=V.expirationTime,t(h,V);else break;V=n(p)}}function O(I){if(k=!1,C(I),!S)if(n(h)!==null)S=!0,ye(B);else{var V=n(p);V!==null&&oe(O,V.startTime-I)}}function B(I,V){S=!1,k&&(k=!1,w(P),P=-1),x=!0;var Z=v;try{for(C(V),_=n(h);_!==null&&(!(_.expirationTime>V)||I&&!U());){var G=_.callback;if(typeof G=="function"){_.callback=null,v=_.priorityLevel;var J=G(_.expirationTime<=V);V=e.unstable_now(),typeof J=="function"?_.callback=J:_===n(h)&&r(h),C(V)}else r(h);_=n(h)}if(_!==null)var K=!0;else{var re=n(p);re!==null&&oe(O,re.startTime-V),K=!1}return K}finally{_=null,v=Z,x=!1}}var z=!1,R=null,P=-1,j=5,T=-1;function U(){return!(e.unstable_now()-T<j)}function D(){if(R!==null){var I=e.unstable_now();T=I;var V=!0;try{V=R(!0,I)}finally{V?H():(z=!1,R=null)}}else z=!1}var H;if(typeof b=="function")H=function(){b(D)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Le=Y.port2;Y.port1.onmessage=D,H=function(){Le.postMessage(null)}}else H=function(){N(D,0)};function ye(I){R=I,z||(z=!0,H())}function oe(I,V){P=N(function(){I(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){S||x||(S=!0,ye(B))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(I){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var Z=v;v=V;try{return I()}finally{v=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,V){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Z=v;v=I;try{return V()}finally{v=Z}},e.unstable_scheduleCallback=function(I,V,Z){var G=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?G+Z:G):Z=G,I){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Z+J,I={id:g++,callback:V,priorityLevel:I,startTime:Z,expirationTime:J,sortIndex:-1},Z>G?(I.sortIndex=Z,t(p,I),n(h)===null&&I===n(p)&&(k?(w(P),P=-1):k=!0,oe(O,Z-G))):(I.sortIndex=J,t(h,I),S||x||(S=!0,ye(B))),I},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(I){var V=v;return function(){var Z=v;v=V;try{return I.apply(this,arguments)}finally{v=Z}}}})(rp);ip.exports=rp;var Bv=ip.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv=F,Nt=Bv;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sp=new Set,gs={};function ji(e,t){pr(e,t),pr(e+"Capture",t)}function pr(e,t){for(gs[e]=t,e=0;e<t.length;e++)sp.add(t[e])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=Object.prototype.hasOwnProperty,Fv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gd={},_d={};function $v(e){return Yl.call(_d,e)?!0:Yl.call(gd,e)?!1:Fv.test(e)?_d[e]=!0:(gd[e]=!0,!1)}function Zv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hv(e,t,n,r){if(t===null||typeof t>"u"||Zv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _t(e,t,n,r,a,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new _t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new _t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new _t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new _t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new _t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new _t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new _t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new _t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new _t(e,5,!1,e.toLowerCase(),null,!1,!1)});var uc=/[\-:]([a-z])/g;function cc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uc,cc);at[t]=new _t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uc,cc);at[t]=new _t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uc,cc);at[t]=new _t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new _t(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new _t(e,1,!1,e.toLowerCase(),null,!0,!0)});function hc(e,t,n,r){var a=at.hasOwnProperty(t)?at[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hv(t,n,a,r)&&(n=null),r||a===null?$v(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var An=Uv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,co=Symbol.for("react.element"),Gi=Symbol.for("react.portal"),Ki=Symbol.for("react.fragment"),dc=Symbol.for("react.strict_mode"),Xl=Symbol.for("react.profiler"),op=Symbol.for("react.provider"),ap=Symbol.for("react.context"),fc=Symbol.for("react.forward_ref"),eu=Symbol.for("react.suspense"),tu=Symbol.for("react.suspense_list"),pc=Symbol.for("react.memo"),Fn=Symbol.for("react.lazy"),lp=Symbol.for("react.offscreen"),vd=Symbol.iterator;function Hr(e){return e===null||typeof e!="object"?null:(e=vd&&e[vd]||e["@@iterator"],typeof e=="function"?e:null)}var De=Object.assign,_l;function Xr(e){if(_l===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_l=t&&t[1]||""}return`
`+_l+e}var vl=!1;function yl(e,t){if(!e||vl)return"";vl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var a=p.stack.split(`
`),s=r.stack.split(`
`),l=a.length-1,c=s.length-1;1<=l&&0<=c&&a[l]!==s[c];)c--;for(;1<=l&&0<=c;l--,c--)if(a[l]!==s[c]){if(l!==1||c!==1)do if(l--,c--,0>c||a[l]!==s[c]){var h=`
`+a[l].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=l&&0<=c);break}}}finally{vl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xr(e):""}function Wv(e){switch(e.tag){case 5:return Xr(e.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 2:case 15:return e=yl(e.type,!1),e;case 11:return e=yl(e.type.render,!1),e;case 1:return e=yl(e.type,!0),e;default:return""}}function nu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ki:return"Fragment";case Gi:return"Portal";case Xl:return"Profiler";case dc:return"StrictMode";case eu:return"Suspense";case tu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ap:return(e.displayName||"Context")+".Consumer";case op:return(e._context.displayName||"Context")+".Provider";case fc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pc:return t=e.displayName||null,t!==null?t:nu(e.type)||"Memo";case Fn:t=e._payload,e=e._init;try{return nu(e(t))}catch{}}return null}function Vv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nu(t);case 8:return t===dc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ii(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function up(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qv(e){var t=up(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ho(e){e._valueTracker||(e._valueTracker=qv(e))}function cp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=up(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ho(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function iu(e,t){var n=t.checked;return De({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ii(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hp(e,t){t=t.checked,t!=null&&hc(e,"checked",t,!1)}function ru(e,t){hp(e,t);var n=ii(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?su(e,t.type,n):t.hasOwnProperty("defaultValue")&&su(e,t.type,ii(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function su(e,t,n){(t!=="number"||Ho(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var es=Array.isArray;function ar(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ii(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ou(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return De({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(es(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ii(n)}}function dp(e,t){var n=ii(t.value),r=ii(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function au(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fo,pp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fo=fo||document.createElement("div"),fo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _s(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gv=["Webkit","ms","Moz","O"];Object.keys(rs).forEach(function(e){Gv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rs[t]=rs[e]})});function mp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rs.hasOwnProperty(e)&&rs[e]?(""+t).trim():t+"px"}function gp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=mp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var Kv=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lu(e,t){if(t){if(Kv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function uu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=null;function mc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hu=null,lr=null,ur=null;function bd(e){if(e=Ds(e)){if(typeof hu!="function")throw Error(W(280));var t=e.stateNode;t&&(t=ba(t),hu(e.stateNode,e.type,t))}}function _p(e){lr?ur?ur.push(e):ur=[e]:lr=e}function vp(){if(lr){var e=lr,t=ur;if(ur=lr=null,bd(e),t)for(e=0;e<t.length;e++)bd(t[e])}}function yp(e,t){return e(t)}function xp(){}var xl=!1;function wp(e,t,n){if(xl)return e(t,n);xl=!0;try{return yp(e,t,n)}finally{xl=!1,(lr!==null||ur!==null)&&(xp(),vp())}}function vs(e,t){var n=e.stateNode;if(n===null)return null;var r=ba(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var du=!1;if(Tn)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){du=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{du=!1}function Jv(e,t,n,r,a,s,l,c,h){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(g){this.onError(g)}}var ss=!1,Wo=null,Vo=!1,fu=null,Qv={onError:function(e){ss=!0,Wo=e}};function Yv(e,t,n,r,a,s,l,c,h){ss=!1,Wo=null,Jv.apply(Qv,arguments)}function Xv(e,t,n,r,a,s,l,c,h){if(Yv.apply(this,arguments),ss){if(ss){var p=Wo;ss=!1,Wo=null}else throw Error(W(198));Vo||(Vo=!0,fu=p)}}function Ti(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sd(e){if(Ti(e)!==e)throw Error(W(188))}function ey(e){var t=e.alternate;if(!t){if(t=Ti(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Sd(a),e;if(s===r)return Sd(a),t;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=a,r=s;else{for(var l=!1,c=a.child;c;){if(c===n){l=!0,n=a,r=s;break}if(c===r){l=!0,r=a,n=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===n){l=!0,n=s,r=a;break}if(c===r){l=!0,r=s,n=a;break}c=c.sibling}if(!l)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function bp(e){return e=ey(e),e!==null?Sp(e):null}function Sp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sp(e);if(t!==null)return t;e=e.sibling}return null}var Cp=Nt.unstable_scheduleCallback,Cd=Nt.unstable_cancelCallback,ty=Nt.unstable_shouldYield,ny=Nt.unstable_requestPaint,He=Nt.unstable_now,iy=Nt.unstable_getCurrentPriorityLevel,gc=Nt.unstable_ImmediatePriority,Lp=Nt.unstable_UserBlockingPriority,qo=Nt.unstable_NormalPriority,ry=Nt.unstable_LowPriority,Pp=Nt.unstable_IdlePriority,ya=null,pn=null;function sy(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(ya,e,void 0,(e.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:ly,oy=Math.log,ay=Math.LN2;function ly(e){return e>>>=0,e===0?32:31-(oy(e)/ay|0)|0}var po=64,mo=4194304;function ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Go(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~a;c!==0?r=ts(c):(s&=l,s!==0&&(r=ts(s)))}else l=n&~a,l!==0?r=ts(l):s!==0&&(r=ts(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-nn(t),a=1<<n,r|=e[n],t&=~a;return r}function uy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-nn(s),c=1<<l,h=a[l];h===-1?(!(c&n)||c&r)&&(a[l]=uy(c,t)):h<=t&&(e.expiredLanes|=c),s&=~c}}function pu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ep(){var e=po;return po<<=1,!(po&4194240)&&(po=64),e}function wl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nn(t),e[t]=n}function hy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-nn(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}function _c(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-nn(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Ce=0;function jp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Tp,vc,Np,Mp,Op,mu=!1,go=[],Kn=null,Jn=null,Qn=null,ys=new Map,xs=new Map,Hn=[],dy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ld(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(t.pointerId)}}function Vr(e,t,n,r,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Ds(t),t!==null&&vc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function fy(e,t,n,r,a){switch(t){case"focusin":return Kn=Vr(Kn,e,t,n,r,a),!0;case"dragenter":return Jn=Vr(Jn,e,t,n,r,a),!0;case"mouseover":return Qn=Vr(Qn,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return ys.set(s,Vr(ys.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,xs.set(s,Vr(xs.get(s)||null,e,t,n,r,a)),!0}return!1}function Ap(e){var t=yi(e.target);if(t!==null){var n=Ti(t);if(n!==null){if(t=n.tag,t===13){if(t=kp(n),t!==null){e.blockedOn=t,Op(e.priority,function(){Np(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ao(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);cu=r,n.target.dispatchEvent(r),cu=null}else return t=Ds(n),t!==null&&vc(t),e.blockedOn=n,!1;t.shift()}return!0}function Pd(e,t,n){Ao(e)&&n.delete(t)}function py(){mu=!1,Kn!==null&&Ao(Kn)&&(Kn=null),Jn!==null&&Ao(Jn)&&(Jn=null),Qn!==null&&Ao(Qn)&&(Qn=null),ys.forEach(Pd),xs.forEach(Pd)}function qr(e,t){e.blockedOn===t&&(e.blockedOn=null,mu||(mu=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,py)))}function ws(e){function t(a){return qr(a,e)}if(0<go.length){qr(go[0],e);for(var n=1;n<go.length;n++){var r=go[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Kn!==null&&qr(Kn,e),Jn!==null&&qr(Jn,e),Qn!==null&&qr(Qn,e),ys.forEach(t),xs.forEach(t),n=0;n<Hn.length;n++)r=Hn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Hn.length&&(n=Hn[0],n.blockedOn===null);)Ap(n),n.blockedOn===null&&Hn.shift()}var cr=An.ReactCurrentBatchConfig,Ko=!0;function my(e,t,n,r){var a=Ce,s=cr.transition;cr.transition=null;try{Ce=1,yc(e,t,n,r)}finally{Ce=a,cr.transition=s}}function gy(e,t,n,r){var a=Ce,s=cr.transition;cr.transition=null;try{Ce=4,yc(e,t,n,r)}finally{Ce=a,cr.transition=s}}function yc(e,t,n,r){if(Ko){var a=gu(e,t,n,r);if(a===null)Nl(e,t,r,Jo,n),Ld(e,r);else if(fy(a,e,t,n,r))r.stopPropagation();else if(Ld(e,r),t&4&&-1<dy.indexOf(e)){for(;a!==null;){var s=Ds(a);if(s!==null&&Tp(s),s=gu(e,t,n,r),s===null&&Nl(e,t,r,Jo,n),s===a)break;a=s}a!==null&&r.stopPropagation()}else Nl(e,t,r,null,n)}}var Jo=null;function gu(e,t,n,r){if(Jo=null,e=mc(r),e=yi(e),e!==null)if(t=Ti(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jo=e,null}function Ip(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iy()){case gc:return 1;case Lp:return 4;case qo:case ry:return 16;case Pp:return 536870912;default:return 16}default:return 16}}var qn=null,xc=null,Io=null;function Rp(){if(Io)return Io;var e,t=xc,n=t.length,r,a="value"in qn?qn.value:qn.textContent,s=a.length;for(e=0;e<n&&t[e]===a[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===a[s-r];r++);return Io=a.slice(e,1<r?1-r:void 0)}function Ro(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _o(){return!0}function Ed(){return!1}function Ot(e){function t(n,r,a,s,l){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_o:Ed,this.isPropagationStopped=Ed,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),t}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wc=Ot(br),zs=De({},br,{view:0,detail:0}),_y=Ot(zs),kl,bl,Gr,xa=De({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gr&&(Gr&&e.type==="mousemove"?(kl=e.screenX-Gr.screenX,bl=e.screenY-Gr.screenY):bl=kl=0,Gr=e),kl)},movementY:function(e){return"movementY"in e?e.movementY:bl}}),jd=Ot(xa),vy=De({},xa,{dataTransfer:0}),yy=Ot(vy),xy=De({},zs,{relatedTarget:0}),Sl=Ot(xy),wy=De({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),ky=Ot(wy),by=De({},br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sy=Ot(by),Cy=De({},br,{data:0}),Td=Ot(Cy),Ly={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Py={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ey={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ey[e])?!!t[e]:!1}function kc(){return jy}var Ty=De({},zs,{key:function(e){if(e.key){var t=Ly[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ro(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Py[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kc,charCode:function(e){return e.type==="keypress"?Ro(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ro(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ny=Ot(Ty),My=De({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nd=Ot(My),Oy=De({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kc}),Ay=Ot(Oy),Iy=De({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ry=Ot(Iy),zy=De({},xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dy=Ot(zy),By=[9,13,27,32],bc=Tn&&"CompositionEvent"in window,os=null;Tn&&"documentMode"in document&&(os=document.documentMode);var Uy=Tn&&"TextEvent"in window&&!os,zp=Tn&&(!bc||os&&8<os&&11>=os),Md=" ",Od=!1;function Dp(e,t){switch(e){case"keyup":return By.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ji=!1;function Fy(e,t){switch(e){case"compositionend":return Bp(t);case"keypress":return t.which!==32?null:(Od=!0,Md);case"textInput":return e=t.data,e===Md&&Od?null:e;default:return null}}function $y(e,t){if(Ji)return e==="compositionend"||!bc&&Dp(e,t)?(e=Rp(),Io=xc=qn=null,Ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zp&&t.locale!=="ko"?null:t.data;default:return null}}var Zy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zy[e.type]:t==="textarea"}function Up(e,t,n,r){_p(r),t=Qo(t,"onChange"),0<t.length&&(n=new wc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var as=null,ks=null;function Hy(e){Qp(e,0)}function wa(e){var t=Xi(e);if(cp(t))return e}function Wy(e,t){if(e==="change")return t}var Fp=!1;if(Tn){var Cl;if(Tn){var Ll="oninput"in document;if(!Ll){var Id=document.createElement("div");Id.setAttribute("oninput","return;"),Ll=typeof Id.oninput=="function"}Cl=Ll}else Cl=!1;Fp=Cl&&(!document.documentMode||9<document.documentMode)}function Rd(){as&&(as.detachEvent("onpropertychange",$p),ks=as=null)}function $p(e){if(e.propertyName==="value"&&wa(ks)){var t=[];Up(t,ks,e,mc(e)),wp(Hy,t)}}function Vy(e,t,n){e==="focusin"?(Rd(),as=t,ks=n,as.attachEvent("onpropertychange",$p)):e==="focusout"&&Rd()}function qy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wa(ks)}function Gy(e,t){if(e==="click")return wa(t)}function Ky(e,t){if(e==="input"||e==="change")return wa(t)}function Jy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:Jy;function bs(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Yl.call(t,a)||!sn(e[a],t[a]))return!1}return!0}function zd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dd(e,t){var n=zd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zd(n)}}function Zp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hp(){for(var e=window,t=Ho();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ho(e.document)}return t}function Sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qy(e){var t=Hp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zp(n.ownerDocument.documentElement,n)){if(r!==null&&Sc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=r.end===void 0?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=Dd(n,s);var l=Dd(n,r);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yy=Tn&&"documentMode"in document&&11>=document.documentMode,Qi=null,_u=null,ls=null,vu=!1;function Bd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vu||Qi==null||Qi!==Ho(r)||(r=Qi,"selectionStart"in r&&Sc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ls&&bs(ls,r)||(ls=r,r=Qo(_u,"onSelect"),0<r.length&&(t=new wc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qi)))}function vo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yi={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionend:vo("Transition","TransitionEnd")},Pl={},Wp={};Tn&&(Wp=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function ka(e){if(Pl[e])return Pl[e];if(!Yi[e])return e;var t=Yi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wp)return Pl[e]=t[n];return e}var Vp=ka("animationend"),qp=ka("animationiteration"),Gp=ka("animationstart"),Kp=ka("transitionend"),Jp=new Map,Ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(e,t){Jp.set(e,t),ji(t,[e])}for(var El=0;El<Ud.length;El++){var jl=Ud[El],Xy=jl.toLowerCase(),e0=jl[0].toUpperCase()+jl.slice(1);si(Xy,"on"+e0)}si(Vp,"onAnimationEnd");si(qp,"onAnimationIteration");si(Gp,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(Kp,"onTransitionEnd");pr("onMouseEnter",["mouseout","mouseover"]);pr("onMouseLeave",["mouseout","mouseover"]);pr("onPointerEnter",["pointerout","pointerover"]);pr("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function Fd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Xv(r,t,void 0,e),e.currentTarget=null}function Qp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var c=r[l],h=c.instance,p=c.currentTarget;if(c=c.listener,h!==s&&a.isPropagationStopped())break e;Fd(a,c,p),s=h}else for(l=0;l<r.length;l++){if(c=r[l],h=c.instance,p=c.currentTarget,c=c.listener,h!==s&&a.isPropagationStopped())break e;Fd(a,c,p),s=h}}}if(Vo)throw e=fu,Vo=!1,fu=null,e}function Me(e,t){var n=t[bu];n===void 0&&(n=t[bu]=new Set);var r=e+"__bubble";n.has(r)||(Yp(t,e,2,!1),n.add(r))}function Tl(e,t,n){var r=0;t&&(r|=4),Yp(n,e,r,t)}var yo="_reactListening"+Math.random().toString(36).slice(2);function Ss(e){if(!e[yo]){e[yo]=!0,sp.forEach(function(n){n!=="selectionchange"&&(t0.has(n)||Tl(n,!1,e),Tl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yo]||(t[yo]=!0,Tl("selectionchange",!1,t))}}function Yp(e,t,n,r){switch(Ip(t)){case 1:var a=my;break;case 4:a=gy;break;default:a=yc}n=a.bind(null,t,n,e),a=void 0,!du||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Nl(e,t,n,r,a){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(l===4)for(l=r.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===a||h.nodeType===8&&h.parentNode===a))return;l=l.return}for(;c!==null;){if(l=yi(c),l===null)return;if(h=l.tag,h===5||h===6){r=s=l;continue e}c=c.parentNode}}r=r.return}wp(function(){var p=s,g=mc(n),_=[];e:{var v=Jp.get(e);if(v!==void 0){var x=wc,S=e;switch(e){case"keypress":if(Ro(n)===0)break e;case"keydown":case"keyup":x=Ny;break;case"focusin":S="focus",x=Sl;break;case"focusout":S="blur",x=Sl;break;case"beforeblur":case"afterblur":x=Sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=yy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Ay;break;case Vp:case qp:case Gp:x=ky;break;case Kp:x=Ry;break;case"scroll":x=_y;break;case"wheel":x=Dy;break;case"copy":case"cut":case"paste":x=Sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Nd}var k=(t&4)!==0,N=!k&&e==="scroll",w=k?v!==null?v+"Capture":null:v;k=[];for(var b=p,C;b!==null;){C=b;var O=C.stateNode;if(C.tag===5&&O!==null&&(C=O,w!==null&&(O=vs(b,w),O!=null&&k.push(Cs(b,O,C)))),N)break;b=b.return}0<k.length&&(v=new x(v,S,null,n,g),_.push({event:v,listeners:k}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",v&&n!==cu&&(S=n.relatedTarget||n.fromElement)&&(yi(S)||S[Nn]))break e;if((x||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,x?(S=n.relatedTarget||n.toElement,x=p,S=S?yi(S):null,S!==null&&(N=Ti(S),S!==N||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=p),x!==S)){if(k=jd,O="onMouseLeave",w="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(k=Nd,O="onPointerLeave",w="onPointerEnter",b="pointer"),N=x==null?v:Xi(x),C=S==null?v:Xi(S),v=new k(O,b+"leave",x,n,g),v.target=N,v.relatedTarget=C,O=null,yi(g)===p&&(k=new k(w,b+"enter",S,n,g),k.target=C,k.relatedTarget=N,O=k),N=O,x&&S)t:{for(k=x,w=S,b=0,C=k;C;C=$i(C))b++;for(C=0,O=w;O;O=$i(O))C++;for(;0<b-C;)k=$i(k),b--;for(;0<C-b;)w=$i(w),C--;for(;b--;){if(k===w||w!==null&&k===w.alternate)break t;k=$i(k),w=$i(w)}k=null}else k=null;x!==null&&$d(_,v,x,k,!1),S!==null&&N!==null&&$d(_,N,S,k,!0)}}e:{if(v=p?Xi(p):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var B=Wy;else if(Ad(v))if(Fp)B=Ky;else{B=qy;var z=Vy}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(B=Gy);if(B&&(B=B(e,p))){Up(_,B,n,g);break e}z&&z(e,v,p),e==="focusout"&&(z=v._wrapperState)&&z.controlled&&v.type==="number"&&su(v,"number",v.value)}switch(z=p?Xi(p):window,e){case"focusin":(Ad(z)||z.contentEditable==="true")&&(Qi=z,_u=p,ls=null);break;case"focusout":ls=_u=Qi=null;break;case"mousedown":vu=!0;break;case"contextmenu":case"mouseup":case"dragend":vu=!1,Bd(_,n,g);break;case"selectionchange":if(Yy)break;case"keydown":case"keyup":Bd(_,n,g)}var R;if(bc)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ji?Dp(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(zp&&n.locale!=="ko"&&(Ji||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ji&&(R=Rp()):(qn=g,xc="value"in qn?qn.value:qn.textContent,Ji=!0)),z=Qo(p,P),0<z.length&&(P=new Td(P,e,null,n,g),_.push({event:P,listeners:z}),R?P.data=R:(R=Bp(n),R!==null&&(P.data=R)))),(R=Uy?Fy(e,n):$y(e,n))&&(p=Qo(p,"onBeforeInput"),0<p.length&&(g=new Td("onBeforeInput","beforeinput",null,n,g),_.push({event:g,listeners:p}),g.data=R))}Qp(_,t)})}function Cs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qo(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=vs(e,n),s!=null&&r.unshift(Cs(e,s,a)),s=vs(e,t),s!=null&&r.push(Cs(e,s,a))),e=e.return}return r}function $i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $d(e,t,n,r,a){for(var s=t._reactName,l=[];n!==null&&n!==r;){var c=n,h=c.alternate,p=c.stateNode;if(h!==null&&h===r)break;c.tag===5&&p!==null&&(c=p,a?(h=vs(n,s),h!=null&&l.unshift(Cs(n,h,c))):a||(h=vs(n,s),h!=null&&l.push(Cs(n,h,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var n0=/\r\n?/g,i0=/\u0000|\uFFFD/g;function Zd(e){return(typeof e=="string"?e:""+e).replace(n0,`
`).replace(i0,"")}function xo(e,t,n){if(t=Zd(t),Zd(e)!==t&&n)throw Error(W(425))}function Yo(){}var yu=null,xu=null;function wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ku=typeof setTimeout=="function"?setTimeout:void 0,r0=typeof clearTimeout=="function"?clearTimeout:void 0,Hd=typeof Promise=="function"?Promise:void 0,s0=typeof queueMicrotask=="function"?queueMicrotask:typeof Hd<"u"?function(e){return Hd.resolve(null).then(e).catch(o0)}:ku;function o0(e){setTimeout(function(){throw e})}function Ml(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),ws(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);ws(t)}function Yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),fn="__reactFiber$"+Sr,Ls="__reactProps$"+Sr,Nn="__reactContainer$"+Sr,bu="__reactEvents$"+Sr,a0="__reactListeners$"+Sr,l0="__reactHandles$"+Sr;function yi(e){var t=e[fn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nn]||n[fn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wd(e);e!==null;){if(n=e[fn])return n;e=Wd(e)}return t}e=n,n=e.parentNode}return null}function Ds(e){return e=e[fn]||e[Nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function ba(e){return e[Ls]||null}var Su=[],er=-1;function oi(e){return{current:e}}function Oe(e){0>er||(e.current=Su[er],Su[er]=null,er--)}function Ne(e,t){er++,Su[er]=e.current,e.current=t}var ri={},ht=oi(ri),bt=oi(!1),Si=ri;function mr(e,t){var n=e.type.contextTypes;if(!n)return ri;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in n)a[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function St(e){return e=e.childContextTypes,e!=null}function Xo(){Oe(bt),Oe(ht)}function Vd(e,t,n){if(ht.current!==ri)throw Error(W(168));Ne(ht,t),Ne(bt,n)}function Xp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(W(108,Vv(e)||"Unknown",a));return De({},n,r)}function ea(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ri,Si=ht.current,Ne(ht,e),Ne(bt,bt.current),!0}function qd(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=Xp(e,t,Si),r.__reactInternalMemoizedMergedChildContext=e,Oe(bt),Oe(ht),Ne(ht,e)):Oe(bt),Ne(bt,n)}var Ln=null,Sa=!1,Ol=!1;function em(e){Ln===null?Ln=[e]:Ln.push(e)}function u0(e){Sa=!0,em(e)}function ai(){if(!Ol&&Ln!==null){Ol=!0;var e=0,t=Ce;try{var n=Ln;for(Ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ln=null,Sa=!1}catch(a){throw Ln!==null&&(Ln=Ln.slice(e+1)),Cp(gc,ai),a}finally{Ce=t,Ol=!1}}return null}var tr=[],nr=0,ta=null,na=0,Ut=[],Ft=0,Ci=null,Pn=1,En="";function mi(e,t){tr[nr++]=na,tr[nr++]=ta,ta=e,na=t}function tm(e,t,n){Ut[Ft++]=Pn,Ut[Ft++]=En,Ut[Ft++]=Ci,Ci=e;var r=Pn;e=En;var a=32-nn(r)-1;r&=~(1<<a),n+=1;var s=32-nn(t)+a;if(30<s){var l=a-a%5;s=(r&(1<<l)-1).toString(32),r>>=l,a-=l,Pn=1<<32-nn(t)+a|n<<a|r,En=s+e}else Pn=1<<s|n<<a|r,En=e}function Cc(e){e.return!==null&&(mi(e,1),tm(e,1,0))}function Lc(e){for(;e===ta;)ta=tr[--nr],tr[nr]=null,na=tr[--nr],tr[nr]=null;for(;e===Ci;)Ci=Ut[--Ft],Ut[Ft]=null,En=Ut[--Ft],Ut[Ft]=null,Pn=Ut[--Ft],Ut[Ft]=null}var Tt=null,jt=null,Ae=!1,tn=null;function nm(e,t){var n=$t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,jt=Yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ci!==null?{id:Pn,overflow:En}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,jt=null,!0):!1;default:return!1}}function Cu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lu(e){if(Ae){var t=jt;if(t){var n=t;if(!Gd(e,t)){if(Cu(e))throw Error(W(418));t=Yn(n.nextSibling);var r=Tt;t&&Gd(e,t)?nm(r,n):(e.flags=e.flags&-4097|2,Ae=!1,Tt=e)}}else{if(Cu(e))throw Error(W(418));e.flags=e.flags&-4097|2,Ae=!1,Tt=e}}}function Kd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function wo(e){if(e!==Tt)return!1;if(!Ae)return Kd(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wu(e.type,e.memoizedProps)),t&&(t=jt)){if(Cu(e))throw im(),Error(W(418));for(;t;)nm(e,t),t=Yn(t.nextSibling)}if(Kd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jt=Yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=Tt?Yn(e.stateNode.nextSibling):null;return!0}function im(){for(var e=jt;e;)e=Yn(e.nextSibling)}function gr(){jt=Tt=null,Ae=!1}function Pc(e){tn===null?tn=[e]:tn.push(e)}var c0=An.ReactCurrentBatchConfig;function Kr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var a=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var c=a.refs;l===null?delete c[s]:c[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function ko(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jd(e){var t=e._init;return t(e._payload)}function rm(e){function t(w,b){if(e){var C=w.deletions;C===null?(w.deletions=[b],w.flags|=16):C.push(b)}}function n(w,b){if(!e)return null;for(;b!==null;)t(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function a(w,b){return w=ni(w,b),w.index=0,w.sibling=null,w}function s(w,b,C){return w.index=C,e?(C=w.alternate,C!==null?(C=C.index,C<b?(w.flags|=2,b):C):(w.flags|=2,b)):(w.flags|=1048576,b)}function l(w){return e&&w.alternate===null&&(w.flags|=2),w}function c(w,b,C,O){return b===null||b.tag!==6?(b=Ul(C,w.mode,O),b.return=w,b):(b=a(b,C),b.return=w,b)}function h(w,b,C,O){var B=C.type;return B===Ki?g(w,b,C.props.children,O,C.key):b!==null&&(b.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Fn&&Jd(B)===b.type)?(O=a(b,C.props),O.ref=Kr(w,b,C),O.return=w,O):(O=Zo(C.type,C.key,C.props,null,w.mode,O),O.ref=Kr(w,b,C),O.return=w,O)}function p(w,b,C,O){return b===null||b.tag!==4||b.stateNode.containerInfo!==C.containerInfo||b.stateNode.implementation!==C.implementation?(b=Fl(C,w.mode,O),b.return=w,b):(b=a(b,C.children||[]),b.return=w,b)}function g(w,b,C,O,B){return b===null||b.tag!==7?(b=bi(C,w.mode,O,B),b.return=w,b):(b=a(b,C),b.return=w,b)}function _(w,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ul(""+b,w.mode,C),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case co:return C=Zo(b.type,b.key,b.props,null,w.mode,C),C.ref=Kr(w,null,b),C.return=w,C;case Gi:return b=Fl(b,w.mode,C),b.return=w,b;case Fn:var O=b._init;return _(w,O(b._payload),C)}if(es(b)||Hr(b))return b=bi(b,w.mode,C,null),b.return=w,b;ko(w,b)}return null}function v(w,b,C,O){var B=b!==null?b.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return B!==null?null:c(w,b,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case co:return C.key===B?h(w,b,C,O):null;case Gi:return C.key===B?p(w,b,C,O):null;case Fn:return B=C._init,v(w,b,B(C._payload),O)}if(es(C)||Hr(C))return B!==null?null:g(w,b,C,O,null);ko(w,C)}return null}function x(w,b,C,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return w=w.get(C)||null,c(b,w,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case co:return w=w.get(O.key===null?C:O.key)||null,h(b,w,O,B);case Gi:return w=w.get(O.key===null?C:O.key)||null,p(b,w,O,B);case Fn:var z=O._init;return x(w,b,C,z(O._payload),B)}if(es(O)||Hr(O))return w=w.get(C)||null,g(b,w,O,B,null);ko(b,O)}return null}function S(w,b,C,O){for(var B=null,z=null,R=b,P=b=0,j=null;R!==null&&P<C.length;P++){R.index>P?(j=R,R=null):j=R.sibling;var T=v(w,R,C[P],O);if(T===null){R===null&&(R=j);break}e&&R&&T.alternate===null&&t(w,R),b=s(T,b,P),z===null?B=T:z.sibling=T,z=T,R=j}if(P===C.length)return n(w,R),Ae&&mi(w,P),B;if(R===null){for(;P<C.length;P++)R=_(w,C[P],O),R!==null&&(b=s(R,b,P),z===null?B=R:z.sibling=R,z=R);return Ae&&mi(w,P),B}for(R=r(w,R);P<C.length;P++)j=x(R,w,P,C[P],O),j!==null&&(e&&j.alternate!==null&&R.delete(j.key===null?P:j.key),b=s(j,b,P),z===null?B=j:z.sibling=j,z=j);return e&&R.forEach(function(U){return t(w,U)}),Ae&&mi(w,P),B}function k(w,b,C,O){var B=Hr(C);if(typeof B!="function")throw Error(W(150));if(C=B.call(C),C==null)throw Error(W(151));for(var z=B=null,R=b,P=b=0,j=null,T=C.next();R!==null&&!T.done;P++,T=C.next()){R.index>P?(j=R,R=null):j=R.sibling;var U=v(w,R,T.value,O);if(U===null){R===null&&(R=j);break}e&&R&&U.alternate===null&&t(w,R),b=s(U,b,P),z===null?B=U:z.sibling=U,z=U,R=j}if(T.done)return n(w,R),Ae&&mi(w,P),B;if(R===null){for(;!T.done;P++,T=C.next())T=_(w,T.value,O),T!==null&&(b=s(T,b,P),z===null?B=T:z.sibling=T,z=T);return Ae&&mi(w,P),B}for(R=r(w,R);!T.done;P++,T=C.next())T=x(R,w,P,T.value,O),T!==null&&(e&&T.alternate!==null&&R.delete(T.key===null?P:T.key),b=s(T,b,P),z===null?B=T:z.sibling=T,z=T);return e&&R.forEach(function(D){return t(w,D)}),Ae&&mi(w,P),B}function N(w,b,C,O){if(typeof C=="object"&&C!==null&&C.type===Ki&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case co:e:{for(var B=C.key,z=b;z!==null;){if(z.key===B){if(B=C.type,B===Ki){if(z.tag===7){n(w,z.sibling),b=a(z,C.props.children),b.return=w,w=b;break e}}else if(z.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Fn&&Jd(B)===z.type){n(w,z.sibling),b=a(z,C.props),b.ref=Kr(w,z,C),b.return=w,w=b;break e}n(w,z);break}else t(w,z);z=z.sibling}C.type===Ki?(b=bi(C.props.children,w.mode,O,C.key),b.return=w,w=b):(O=Zo(C.type,C.key,C.props,null,w.mode,O),O.ref=Kr(w,b,C),O.return=w,w=O)}return l(w);case Gi:e:{for(z=C.key;b!==null;){if(b.key===z)if(b.tag===4&&b.stateNode.containerInfo===C.containerInfo&&b.stateNode.implementation===C.implementation){n(w,b.sibling),b=a(b,C.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else t(w,b);b=b.sibling}b=Fl(C,w.mode,O),b.return=w,w=b}return l(w);case Fn:return z=C._init,N(w,b,z(C._payload),O)}if(es(C))return S(w,b,C,O);if(Hr(C))return k(w,b,C,O);ko(w,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,b!==null&&b.tag===6?(n(w,b.sibling),b=a(b,C),b.return=w,w=b):(n(w,b),b=Ul(C,w.mode,O),b.return=w,w=b),l(w)):n(w,b)}return N}var _r=rm(!0),sm=rm(!1),ia=oi(null),ra=null,ir=null,Ec=null;function jc(){Ec=ir=ra=null}function Tc(e){var t=ia.current;Oe(ia),e._currentValue=t}function Pu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hr(e,t){ra=e,Ec=ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kt=!0),e.firstContext=null)}function Wt(e){var t=e._currentValue;if(Ec!==e)if(e={context:e,memoizedValue:t,next:null},ir===null){if(ra===null)throw Error(W(308));ir=e,ra.dependencies={lanes:0,firstContext:e}}else ir=ir.next=e;return t}var xi=null;function Nc(e){xi===null?xi=[e]:xi.push(e)}function om(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Nc(t)):(n.next=a.next,a.next=n),t.interleaved=n,Mn(e,r)}function Mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $n=!1;function Mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function am(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Mn(e,n)}return a=r.interleaved,a===null?(t.next=t,Nc(r)):(t.next=a.next,a.next=t),r.interleaved=t,Mn(e,n)}function zo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_c(e,n)}}function Qd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?a=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?a=s=t:s=s.next=t}else a=s=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var a=e.updateQueue;$n=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var h=c,p=h.next;h.next=null,l===null?s=p:l.next=p,l=h;var g=e.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==l&&(c===null?g.firstBaseUpdate=p:c.next=p,g.lastBaseUpdate=h))}if(s!==null){var _=a.baseState;l=0,g=p=h=null,c=s;do{var v=c.lane,x=c.eventTime;if((r&v)===v){g!==null&&(g=g.next={eventTime:x,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var S=e,k=c;switch(v=t,x=n,k.tag){case 1:if(S=k.payload,typeof S=="function"){_=S.call(x,_,v);break e}_=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=k.payload,v=typeof S=="function"?S.call(x,_,v):S,v==null)break e;_=De({},_,v);break e;case 2:$n=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,v=a.effects,v===null?a.effects=[c]:v.push(c))}else x={eventTime:x,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(p=g=x,h=_):g=g.next=x,l|=v;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;v=c,c=v.next,v.next=null,a.lastBaseUpdate=v,a.shared.pending=null}}while(!0);if(g===null&&(h=_),a.baseState=h,a.firstBaseUpdate=p,a.lastBaseUpdate=g,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Pi|=l,e.lanes=l,e.memoizedState=_}}function Yd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(W(191,a));a.call(r)}}}var Bs={},mn=oi(Bs),Ps=oi(Bs),Es=oi(Bs);function wi(e){if(e===Bs)throw Error(W(174));return e}function Oc(e,t){switch(Ne(Es,t),Ne(Ps,e),Ne(mn,Bs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:au(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=au(t,e)}Oe(mn),Ne(mn,t)}function vr(){Oe(mn),Oe(Ps),Oe(Es)}function lm(e){wi(Es.current);var t=wi(mn.current),n=au(t,e.type);t!==n&&(Ne(Ps,e),Ne(mn,n))}function Ac(e){Ps.current===e&&(Oe(mn),Oe(Ps))}var Re=oi(0);function oa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Al=[];function Ic(){for(var e=0;e<Al.length;e++)Al[e]._workInProgressVersionPrimary=null;Al.length=0}var Do=An.ReactCurrentDispatcher,Il=An.ReactCurrentBatchConfig,Li=0,ze=null,Je=null,tt=null,aa=!1,us=!1,js=0,h0=0;function lt(){throw Error(W(321))}function Rc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sn(e[n],t[n]))return!1;return!0}function zc(e,t,n,r,a,s){if(Li=s,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Do.current=e===null||e.memoizedState===null?m0:g0,e=n(r,a),us){s=0;do{if(us=!1,js=0,25<=s)throw Error(W(301));s+=1,tt=Je=null,t.updateQueue=null,Do.current=_0,e=n(r,a)}while(us)}if(Do.current=la,t=Je!==null&&Je.next!==null,Li=0,tt=Je=ze=null,aa=!1,t)throw Error(W(300));return e}function Dc(){var e=js!==0;return js=0,e}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?ze.memoizedState=tt=e:tt=tt.next=e,tt}function Vt(){if(Je===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=tt===null?ze.memoizedState:tt.next;if(t!==null)tt=t,Je=e;else{if(e===null)throw Error(W(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},tt===null?ze.memoizedState=tt=e:tt=tt.next=e}return tt}function Ts(e,t){return typeof t=="function"?t(e):t}function Rl(e){var t=Vt(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=Je,a=r.baseQueue,s=n.pending;if(s!==null){if(a!==null){var l=a.next;a.next=s.next,s.next=l}r.baseQueue=a=s,n.pending=null}if(a!==null){s=a.next,r=r.baseState;var c=l=null,h=null,p=s;do{var g=p.lane;if((Li&g)===g)h!==null&&(h=h.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var _={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};h===null?(c=h=_,l=r):h=h.next=_,ze.lanes|=g,Pi|=g}p=p.next}while(p!==null&&p!==s);h===null?l=r:h.next=c,sn(r,t.memoizedState)||(kt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do s=a.lane,ze.lanes|=s,Pi|=s,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zl(e){var t=Vt(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(a!==null){n.pending=null;var l=a=a.next;do s=e(s,l.action),l=l.next;while(l!==a);sn(s,t.memoizedState)||(kt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function um(){}function cm(e,t){var n=ze,r=Vt(),a=t(),s=!sn(r.memoizedState,a);if(s&&(r.memoizedState=a,kt=!0),r=r.queue,Bc(fm.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Ns(9,dm.bind(null,n,r,a,t),void 0,null),nt===null)throw Error(W(349));Li&30||hm(n,t,a)}return a}function hm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dm(e,t,n,r){t.value=n,t.getSnapshot=r,pm(t)&&mm(e)}function fm(e,t,n){return n(function(){pm(t)&&mm(e)})}function pm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sn(e,n)}catch{return!0}}function mm(e){var t=Mn(e,1);t!==null&&rn(t,e,1,-1)}function Xd(e){var t=dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:e},t.queue=e,e=e.dispatch=p0.bind(null,ze,e),[t.memoizedState,e]}function Ns(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function gm(){return Vt().memoizedState}function Bo(e,t,n,r){var a=dn();ze.flags|=e,a.memoizedState=Ns(1|t,n,void 0,r===void 0?null:r)}function Ca(e,t,n,r){var a=Vt();r=r===void 0?null:r;var s=void 0;if(Je!==null){var l=Je.memoizedState;if(s=l.destroy,r!==null&&Rc(r,l.deps)){a.memoizedState=Ns(t,n,s,r);return}}ze.flags|=e,a.memoizedState=Ns(1|t,n,s,r)}function ef(e,t){return Bo(8390656,8,e,t)}function Bc(e,t){return Ca(2048,8,e,t)}function _m(e,t){return Ca(4,2,e,t)}function vm(e,t){return Ca(4,4,e,t)}function ym(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xm(e,t,n){return n=n!=null?n.concat([e]):null,Ca(4,4,ym.bind(null,t,e),n)}function Uc(){}function wm(e,t){var n=Vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function km(e,t){var n=Vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bm(e,t,n){return Li&21?(sn(n,t)||(n=Ep(),ze.lanes|=n,Pi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kt=!0),e.memoizedState=n)}function d0(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var r=Il.transition;Il.transition={};try{e(!1),t()}finally{Ce=n,Il.transition=r}}function Sm(){return Vt().memoizedState}function f0(e,t,n){var r=ti(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cm(e))Lm(t,n);else if(n=om(e,t,n,r),n!==null){var a=mt();rn(n,e,r,a),Pm(n,t,r)}}function p0(e,t,n){var r=ti(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cm(e))Lm(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,c=s(l,n);if(a.hasEagerState=!0,a.eagerState=c,sn(c,l)){var h=t.interleaved;h===null?(a.next=a,Nc(t)):(a.next=h.next,h.next=a),t.interleaved=a;return}}catch{}finally{}n=om(e,t,a,r),n!==null&&(a=mt(),rn(n,e,r,a),Pm(n,t,r))}}function Cm(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Lm(e,t){us=aa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_c(e,n)}}var la={readContext:Wt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},m0={readContext:Wt,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:ef,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bo(4194308,4,ym.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=dn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=f0.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:Xd,useDebugValue:Uc,useDeferredValue:function(e){return dn().memoizedState=e},useTransition:function(){var e=Xd(!1),t=e[0];return e=d0.bind(null,e[1]),dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ze,a=dn();if(Ae){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),nt===null)throw Error(W(349));Li&30||hm(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,ef(fm.bind(null,r,s,e),[e]),r.flags|=2048,Ns(9,dm.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=dn(),t=nt.identifierPrefix;if(Ae){var n=En,r=Pn;n=(r&~(1<<32-nn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=js++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=h0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},g0={readContext:Wt,useCallback:wm,useContext:Wt,useEffect:Bc,useImperativeHandle:xm,useInsertionEffect:_m,useLayoutEffect:vm,useMemo:km,useReducer:Rl,useRef:gm,useState:function(){return Rl(Ts)},useDebugValue:Uc,useDeferredValue:function(e){var t=Vt();return bm(t,Je.memoizedState,e)},useTransition:function(){var e=Rl(Ts)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:um,useSyncExternalStore:cm,useId:Sm,unstable_isNewReconciler:!1},_0={readContext:Wt,useCallback:wm,useContext:Wt,useEffect:Bc,useImperativeHandle:xm,useInsertionEffect:_m,useLayoutEffect:vm,useMemo:km,useReducer:zl,useRef:gm,useState:function(){return zl(Ts)},useDebugValue:Uc,useDeferredValue:function(e){var t=Vt();return Je===null?t.memoizedState=e:bm(t,Je.memoizedState,e)},useTransition:function(){var e=zl(Ts)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:um,useSyncExternalStore:cm,useId:Sm,unstable_isNewReconciler:!1};function Yt(e,t){if(e&&e.defaultProps){t=De({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Eu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:De({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var La={isMounted:function(e){return(e=e._reactInternals)?Ti(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=mt(),a=ti(e),s=jn(r,a);s.payload=t,n!=null&&(s.callback=n),t=Xn(e,s,a),t!==null&&(rn(t,e,a,r),zo(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=mt(),a=ti(e),s=jn(r,a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Xn(e,s,a),t!==null&&(rn(t,e,a,r),zo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mt(),r=ti(e),a=jn(n,r);a.tag=2,t!=null&&(a.callback=t),t=Xn(e,a,r),t!==null&&(rn(t,e,r,n),zo(t,e,r))}};function tf(e,t,n,r,a,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,l):t.prototype&&t.prototype.isPureReactComponent?!bs(n,r)||!bs(a,s):!0}function Em(e,t,n){var r=!1,a=ri,s=t.contextType;return typeof s=="object"&&s!==null?s=Wt(s):(a=St(t)?Si:ht.current,r=t.contextTypes,s=(r=r!=null)?mr(e,a):ri),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=La,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function nf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&La.enqueueReplaceState(t,t.state,null)}function ju(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Mc(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Wt(s):(s=St(t)?Si:ht.current,a.context=mr(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Eu(e,t,s,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&La.enqueueReplaceState(a,a.state,null),sa(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function yr(e,t){try{var n="",r=t;do n+=Wv(r),r=r.return;while(r);var a=n}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Dl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Tu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var v0=typeof WeakMap=="function"?WeakMap:Map;function jm(e,t,n){n=jn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ca||(ca=!0,Uu=r),Tu(e,t)},n}function Tm(e,t,n){n=jn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Tu(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Tu(e,t),typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function rf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new v0;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=M0.bind(null,e,t,n),t.then(e,e))}function sf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function of(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=jn(-1,1),t.tag=2,Xn(n,t,1))),n.lanes|=1),e)}var y0=An.ReactCurrentOwner,kt=!1;function pt(e,t,n,r){t.child=e===null?sm(t,null,n,r):_r(t,e.child,n,r)}function af(e,t,n,r,a){n=n.render;var s=t.ref;return hr(t,a),r=zc(e,t,n,r,s,a),n=Dc(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,On(e,t,a)):(Ae&&n&&Cc(t),t.flags|=1,pt(e,t,r,a),t.child)}function lf(e,t,n,r,a){if(e===null){var s=n.type;return typeof s=="function"&&!Gc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Nm(e,t,s,r,a)):(e=Zo(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:bs,n(l,r)&&e.ref===t.ref)return On(e,t,a)}return t.flags|=1,e=ni(s,r),e.ref=t.ref,e.return=t,t.child=e}function Nm(e,t,n,r,a){if(e!==null){var s=e.memoizedProps;if(bs(s,r)&&e.ref===t.ref)if(kt=!1,t.pendingProps=r=s,(e.lanes&a)!==0)e.flags&131072&&(kt=!0);else return t.lanes=e.lanes,On(e,t,a)}return Nu(e,t,n,r,a)}function Mm(e,t,n){var r=t.pendingProps,a=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(sr,Et),Et|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(sr,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ne(sr,Et),Et|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ne(sr,Et),Et|=r;return pt(e,t,a,n),t.child}function Om(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nu(e,t,n,r,a){var s=St(n)?Si:ht.current;return s=mr(t,s),hr(t,a),n=zc(e,t,n,r,s,a),r=Dc(),e!==null&&!kt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,On(e,t,a)):(Ae&&r&&Cc(t),t.flags|=1,pt(e,t,n,a),t.child)}function uf(e,t,n,r,a){if(St(n)){var s=!0;ea(t)}else s=!1;if(hr(t,a),t.stateNode===null)Uo(e,t),Em(t,n,r),ju(t,n,r,a),r=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var h=l.context,p=n.contextType;typeof p=="object"&&p!==null?p=Wt(p):(p=St(n)?Si:ht.current,p=mr(t,p));var g=n.getDerivedStateFromProps,_=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";_||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||h!==p)&&nf(t,l,r,p),$n=!1;var v=t.memoizedState;l.state=v,sa(t,r,l,a),h=t.memoizedState,c!==r||v!==h||bt.current||$n?(typeof g=="function"&&(Eu(t,n,g,r),h=t.memoizedState),(c=$n||tf(t,n,c,r,v,h,p))?(_||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),l.props=r,l.state=h,l.context=p,r=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,am(e,t),c=t.memoizedProps,p=t.type===t.elementType?c:Yt(t.type,c),l.props=p,_=t.pendingProps,v=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=Wt(h):(h=St(n)?Si:ht.current,h=mr(t,h));var x=n.getDerivedStateFromProps;(g=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==_||v!==h)&&nf(t,l,r,h),$n=!1,v=t.memoizedState,l.state=v,sa(t,r,l,a);var S=t.memoizedState;c!==_||v!==S||bt.current||$n?(typeof x=="function"&&(Eu(t,n,x,r),S=t.memoizedState),(p=$n||tf(t,n,p,r,v,S,h)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,S,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,S,h)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),l.props=r,l.state=S,l.context=h,r=p):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return Mu(e,t,n,r,s,a)}function Mu(e,t,n,r,a,s){Om(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return a&&qd(t,n,!1),On(e,t,s);r=t.stateNode,y0.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=_r(t,e.child,null,s),t.child=_r(t,null,c,s)):pt(e,t,c,s),t.memoizedState=r.state,a&&qd(t,n,!0),t.child}function Am(e){var t=e.stateNode;t.pendingContext?Vd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vd(e,t.context,!1),Oc(e,t.containerInfo)}function cf(e,t,n,r,a){return gr(),Pc(a),t.flags|=256,pt(e,t,n,r),t.child}var Ou={dehydrated:null,treeContext:null,retryLane:0};function Au(e){return{baseLanes:e,cachePool:null,transitions:null}}function Im(e,t,n){var r=t.pendingProps,a=Re.current,s=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ne(Re,a&1),e===null)return Lu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=ja(l,r,0,null),e=bi(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Au(n),t.memoizedState=Ou,e):Fc(t,l));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return x0(e,t,l,r,c,a,n);if(s){s=r.fallback,l=t.mode,a=e.child,c=a.sibling;var h={mode:"hidden",children:r.children};return!(l&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=ni(a,h),r.subtreeFlags=a.subtreeFlags&14680064),c!==null?s=ni(c,s):(s=bi(s,l,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=e.child.memoizedState,l=l===null?Au(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ou,r}return s=e.child,e=s.sibling,r=ni(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fc(e,t){return t=ja({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bo(e,t,n,r){return r!==null&&Pc(r),_r(t,e.child,null,n),e=Fc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x0(e,t,n,r,a,s,l){if(n)return t.flags&256?(t.flags&=-257,r=Dl(Error(W(422))),bo(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=ja({mode:"visible",children:r.children},a,0,null),s=bi(s,a,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&_r(t,e.child,null,l),t.child.memoizedState=Au(l),t.memoizedState=Ou,s);if(!(t.mode&1))return bo(e,t,l,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(W(419)),r=Dl(s,r,void 0),bo(e,t,l,r)}if(c=(l&e.childLanes)!==0,kt||c){if(r=nt,r!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|l)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Mn(e,a),rn(r,e,a,-1))}return qc(),r=Dl(Error(W(421))),bo(e,t,l,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=O0.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,jt=Yn(a.nextSibling),Tt=t,Ae=!0,tn=null,e!==null&&(Ut[Ft++]=Pn,Ut[Ft++]=En,Ut[Ft++]=Ci,Pn=e.id,En=e.overflow,Ci=t),t=Fc(t,r.children),t.flags|=4096,t)}function hf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Pu(e.return,t,n)}function Bl(e,t,n,r,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Rm(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(pt(e,t,r.children,n),r=Re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hf(e,n,t);else if(e.tag===19)hf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ne(Re,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&oa(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bl(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&oa(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bl(t,!0,n,null,s);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function On(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=ni(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ni(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function w0(e,t,n){switch(t.tag){case 3:Am(t),gr();break;case 5:lm(t);break;case 1:St(t.type)&&ea(t);break;case 4:Oc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ne(ia,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Re,Re.current&1),t.flags|=128,null):n&t.child.childLanes?Im(e,t,n):(Ne(Re,Re.current&1),e=On(e,t,n),e!==null?e.sibling:null);Ne(Re,Re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Rm(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ne(Re,Re.current),r)break;return null;case 22:case 23:return t.lanes=0,Mm(e,t,n)}return On(e,t,n)}var zm,Iu,Dm,Bm;zm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iu=function(){};Dm=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,wi(mn.current);var s=null;switch(n){case"input":a=iu(e,a),r=iu(e,r),s=[];break;case"select":a=De({},a,{value:void 0}),r=De({},r,{value:void 0}),s=[];break;case"textarea":a=ou(e,a),r=ou(e,r),s=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yo)}lu(n,r);var l;n=null;for(p in a)if(!r.hasOwnProperty(p)&&a.hasOwnProperty(p)&&a[p]!=null)if(p==="style"){var c=a[p];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(gs.hasOwnProperty(p)?s||(s=[]):(s=s||[]).push(p,null));for(p in r){var h=r[p];if(c=a!=null?a[p]:void 0,r.hasOwnProperty(p)&&h!==c&&(h!=null||c!=null))if(p==="style")if(c){for(l in c)!c.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&c[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(s||(s=[]),s.push(p,n)),n=h;else p==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(s=s||[]).push(p,h)):p==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(p,""+h):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(gs.hasOwnProperty(p)?(h!=null&&p==="onScroll"&&Me("scroll",e),s||c===h||(s=[])):(s=s||[]).push(p,h))}n&&(s=s||[]).push("style",n);var p=s;(t.updateQueue=p)&&(t.flags|=4)}};Bm=function(e,t,n,r){n!==r&&(t.flags|=4)};function Jr(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function k0(e,t,n){var r=t.pendingProps;switch(Lc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return St(t.type)&&Xo(),ut(t),null;case 3:return r=t.stateNode,vr(),Oe(bt),Oe(ht),Ic(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tn!==null&&(Zu(tn),tn=null))),Iu(e,t),ut(t),null;case 5:Ac(t);var a=wi(Es.current);if(n=t.type,e!==null&&t.stateNode!=null)Dm(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return ut(t),null}if(e=wi(mn.current),wo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fn]=t,r[Ls]=s,e=(t.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<ns.length;a++)Me(ns[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":yd(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":wd(r,s),Me("invalid",r)}lu(n,s),a=null;for(var l in s)if(s.hasOwnProperty(l)){var c=s[l];l==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&xo(r.textContent,c,e),a=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&xo(r.textContent,c,e),a=["children",""+c]):gs.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&Me("scroll",r)}switch(n){case"input":ho(r),xd(r,s,!0);break;case"textarea":ho(r),kd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Yo)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fn]=t,e[Ls]=r,zm(e,t,!1,!1),t.stateNode=e;e:{switch(l=uu(n,r),n){case"dialog":Me("cancel",e),Me("close",e),a=r;break;case"iframe":case"object":case"embed":Me("load",e),a=r;break;case"video":case"audio":for(a=0;a<ns.length;a++)Me(ns[a],e);a=r;break;case"source":Me("error",e),a=r;break;case"img":case"image":case"link":Me("error",e),Me("load",e),a=r;break;case"details":Me("toggle",e),a=r;break;case"input":yd(e,r),a=iu(e,r),Me("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=De({},r,{value:void 0}),Me("invalid",e);break;case"textarea":wd(e,r),a=ou(e,r),Me("invalid",e);break;default:a=r}lu(n,a),c=a;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];s==="style"?gp(e,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&pp(e,h)):s==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&_s(e,h):typeof h=="number"&&_s(e,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gs.hasOwnProperty(s)?h!=null&&s==="onScroll"&&Me("scroll",e):h!=null&&hc(e,s,h,l))}switch(n){case"input":ho(e),xd(e,r,!1);break;case"textarea":ho(e),kd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ii(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ar(e,!!r.multiple,s,!1):r.defaultValue!=null&&ar(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Yo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)Bm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=wi(Es.current),wi(mn.current),wo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fn]=t,(s=r.nodeValue!==n)&&(e=Tt,e!==null))switch(e.tag){case 3:xo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xo(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fn]=t,t.stateNode=r}return ut(t),null;case 13:if(Oe(Re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&jt!==null&&t.mode&1&&!(t.flags&128))im(),gr(),t.flags|=98560,s=!1;else if(s=wo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(W(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[fn]=t}else gr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),s=!1}else tn!==null&&(Zu(tn),tn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?Qe===0&&(Qe=3):qc())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return vr(),Iu(e,t),e===null&&Ss(t.stateNode.containerInfo),ut(t),null;case 10:return Tc(t.type._context),ut(t),null;case 17:return St(t.type)&&Xo(),ut(t),null;case 19:if(Oe(Re),s=t.memoizedState,s===null)return ut(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)Jr(s,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=oa(e),l!==null){for(t.flags|=128,Jr(s,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ne(Re,Re.current&1|2),t.child}e=e.sibling}s.tail!==null&&He()>xr&&(t.flags|=128,r=!0,Jr(s,!1),t.lanes=4194304)}else{if(!r)if(e=oa(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Jr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!Ae)return ut(t),null}else 2*He()-s.renderingStartTime>xr&&n!==1073741824&&(t.flags|=128,r=!0,Jr(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=He(),t.sibling=null,n=Re.current,Ne(Re,r?n&1|2:n&1),t):(ut(t),null);case 22:case 23:return Vc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Et&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function b0(e,t){switch(Lc(t),t.tag){case 1:return St(t.type)&&Xo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vr(),Oe(bt),Oe(ht),Ic(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ac(t),null;case 13:if(Oe(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Re),null;case 4:return vr(),null;case 10:return Tc(t.type._context),null;case 22:case 23:return Vc(),null;case 24:return null;default:return null}}var So=!1,ct=!1,S0=typeof WeakSet=="function"?WeakSet:Set,X=null;function rr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(e,t,r)}else n.current=null}function Ru(e,t,n){try{n()}catch(r){$e(e,t,r)}}var df=!1;function C0(e,t){if(yu=Ko,e=Hp(),Sc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,c=-1,h=-1,p=0,g=0,_=e,v=null;t:for(;;){for(var x;_!==n||a!==0&&_.nodeType!==3||(c=l+a),_!==s||r!==0&&_.nodeType!==3||(h=l+r),_.nodeType===3&&(l+=_.nodeValue.length),(x=_.firstChild)!==null;)v=_,_=x;for(;;){if(_===e)break t;if(v===n&&++p===a&&(c=l),v===s&&++g===r&&(h=l),(x=_.nextSibling)!==null)break;_=v,v=_.parentNode}_=x}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(xu={focusedElem:e,selectionRange:n},Ko=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var k=S.memoizedProps,N=S.memoizedState,w=t.stateNode,b=w.getSnapshotBeforeUpdate(t.elementType===t.type?k:Yt(t.type,k),N);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(O){$e(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return S=df,df=!1,S}function cs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&Ru(t,n,s)}a=a.next}while(a!==r)}}function Pa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Um(e){var t=e.alternate;t!==null&&(e.alternate=null,Um(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[Ls],delete t[bu],delete t[a0],delete t[l0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fm(e){return e.tag===5||e.tag===3||e.tag===4}function ff(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Du(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yo));else if(r!==4&&(e=e.child,e!==null))for(Du(e,t,n),e=e.sibling;e!==null;)Du(e,t,n),e=e.sibling}function Bu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Bu(e,t,n),e=e.sibling;e!==null;)Bu(e,t,n),e=e.sibling}var st=null,Xt=!1;function Bn(e,t,n){for(n=n.child;n!==null;)$m(e,t,n),n=n.sibling}function $m(e,t,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(ya,n)}catch{}switch(n.tag){case 5:ct||rr(n,t);case 6:var r=st,a=Xt;st=null,Bn(e,t,n),st=r,Xt=a,st!==null&&(Xt?(e=st,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(Xt?(e=st,n=n.stateNode,e.nodeType===8?Ml(e.parentNode,n):e.nodeType===1&&Ml(e,n),ws(e)):Ml(st,n.stateNode));break;case 4:r=st,a=Xt,st=n.stateNode.containerInfo,Xt=!0,Bn(e,t,n),st=r,Xt=a;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var s=a,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Ru(n,t,l),a=a.next}while(a!==r)}Bn(e,t,n);break;case 1:if(!ct&&(rr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){$e(n,t,c)}Bn(e,t,n);break;case 21:Bn(e,t,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,Bn(e,t,n),ct=r):Bn(e,t,n);break;default:Bn(e,t,n)}}function pf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new S0),t.forEach(function(r){var a=A0.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Jt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:st=c.stateNode,Xt=!1;break e;case 3:st=c.stateNode.containerInfo,Xt=!0;break e;case 4:st=c.stateNode.containerInfo,Xt=!0;break e}c=c.return}if(st===null)throw Error(W(160));$m(s,l,a),st=null,Xt=!1;var h=a.alternate;h!==null&&(h.return=null),a.return=null}catch(p){$e(a,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zm(t,e),t=t.sibling}function Zm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),hn(e),r&4){try{cs(3,e,e.return),Pa(3,e)}catch(k){$e(e,e.return,k)}try{cs(5,e,e.return)}catch(k){$e(e,e.return,k)}}break;case 1:Jt(t,e),hn(e),r&512&&n!==null&&rr(n,n.return);break;case 5:if(Jt(t,e),hn(e),r&512&&n!==null&&rr(n,n.return),e.flags&32){var a=e.stateNode;try{_s(a,"")}catch(k){$e(e,e.return,k)}}if(r&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,c=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&hp(a,s),uu(c,l);var p=uu(c,s);for(l=0;l<h.length;l+=2){var g=h[l],_=h[l+1];g==="style"?gp(a,_):g==="dangerouslySetInnerHTML"?pp(a,_):g==="children"?_s(a,_):hc(a,g,_,p)}switch(c){case"input":ru(a,s);break;case"textarea":dp(a,s);break;case"select":var v=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?ar(a,!!s.multiple,x,!1):v!==!!s.multiple&&(s.defaultValue!=null?ar(a,!!s.multiple,s.defaultValue,!0):ar(a,!!s.multiple,s.multiple?[]:"",!1))}a[Ls]=s}catch(k){$e(e,e.return,k)}}break;case 6:if(Jt(t,e),hn(e),r&4){if(e.stateNode===null)throw Error(W(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(k){$e(e,e.return,k)}}break;case 3:if(Jt(t,e),hn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ws(t.containerInfo)}catch(k){$e(e,e.return,k)}break;case 4:Jt(t,e),hn(e);break;case 13:Jt(t,e),hn(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(Hc=He())),r&4&&pf(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(ct=(p=ct)||g,Jt(t,e),ct=p):Jt(t,e),hn(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!g&&e.mode&1)for(X=e,g=e.child;g!==null;){for(_=X=g;X!==null;){switch(v=X,x=v.child,v.tag){case 0:case 11:case 14:case 15:cs(4,v,v.return);break;case 1:rr(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(k){$e(r,n,k)}}break;case 5:rr(v,v.return);break;case 22:if(v.memoizedState!==null){gf(_);continue}}x!==null?(x.return=v,X=x):gf(_)}g=g.sibling}e:for(g=null,_=e;;){if(_.tag===5){if(g===null){g=_;try{a=_.stateNode,p?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=_.stateNode,h=_.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=mp("display",l))}catch(k){$e(e,e.return,k)}}}else if(_.tag===6){if(g===null)try{_.stateNode.nodeValue=p?"":_.memoizedProps}catch(k){$e(e,e.return,k)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===e)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===e)break e;for(;_.sibling===null;){if(_.return===null||_.return===e)break e;g===_&&(g=null),_=_.return}g===_&&(g=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Jt(t,e),hn(e),r&4&&pf(e);break;case 21:break;default:Jt(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Fm(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(_s(a,""),r.flags&=-33);var s=ff(e);Bu(e,s,a);break;case 3:case 4:var l=r.stateNode.containerInfo,c=ff(e);Du(e,c,l);break;default:throw Error(W(161))}}catch(h){$e(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function L0(e,t,n){X=e,Hm(e)}function Hm(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var a=X,s=a.child;if(a.tag===22&&r){var l=a.memoizedState!==null||So;if(!l){var c=a.alternate,h=c!==null&&c.memoizedState!==null||ct;c=So;var p=ct;if(So=l,(ct=h)&&!p)for(X=a;X!==null;)l=X,h=l.child,l.tag===22&&l.memoizedState!==null?_f(a):h!==null?(h.return=l,X=h):_f(a);for(;s!==null;)X=s,Hm(s),s=s.sibling;X=a,So=c,ct=p}mf(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,X=s):mf(e)}}function mf(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ct||Pa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ct)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Yt(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Yd(t,s,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Yd(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var _=g.dehydrated;_!==null&&ws(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}ct||t.flags&512&&zu(t)}catch(v){$e(t,t.return,v)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function gf(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function _f(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pa(4,t)}catch(h){$e(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(h){$e(t,a,h)}}var s=t.return;try{zu(t)}catch(h){$e(t,s,h)}break;case 5:var l=t.return;try{zu(t)}catch(h){$e(t,l,h)}}}catch(h){$e(t,t.return,h)}if(t===e){X=null;break}var c=t.sibling;if(c!==null){c.return=t.return,X=c;break}X=t.return}}var P0=Math.ceil,ua=An.ReactCurrentDispatcher,$c=An.ReactCurrentOwner,Ht=An.ReactCurrentBatchConfig,we=0,nt=null,Ke=null,ot=0,Et=0,sr=oi(0),Qe=0,Ms=null,Pi=0,Ea=0,Zc=0,hs=null,xt=null,Hc=0,xr=1/0,bn=null,ca=!1,Uu=null,ei=null,Co=!1,Gn=null,ha=0,ds=0,Fu=null,Fo=-1,$o=0;function mt(){return we&6?He():Fo!==-1?Fo:Fo=He()}function ti(e){return e.mode&1?we&2&&ot!==0?ot&-ot:c0.transition!==null?($o===0&&($o=Ep()),$o):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Ip(e.type)),e):1}function rn(e,t,n,r){if(50<ds)throw ds=0,Fu=null,Error(W(185));Rs(e,n,r),(!(we&2)||e!==nt)&&(e===nt&&(!(we&2)&&(Ea|=n),Qe===4&&Wn(e,ot)),Ct(e,r),n===1&&we===0&&!(t.mode&1)&&(xr=He()+500,Sa&&ai()))}function Ct(e,t){var n=e.callbackNode;cy(e,t);var r=Go(e,e===nt?ot:0);if(r===0)n!==null&&Cd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Cd(n),t===1)e.tag===0?u0(vf.bind(null,e)):em(vf.bind(null,e)),s0(function(){!(we&6)&&ai()}),n=null;else{switch(jp(r)){case 1:n=gc;break;case 4:n=Lp;break;case 16:n=qo;break;case 536870912:n=Pp;break;default:n=qo}n=Ym(n,Wm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Wm(e,t){if(Fo=-1,$o=0,we&6)throw Error(W(327));var n=e.callbackNode;if(dr()&&e.callbackNode!==n)return null;var r=Go(e,e===nt?ot:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=da(e,r);else{t=r;var a=we;we|=2;var s=qm();(nt!==e||ot!==t)&&(bn=null,xr=He()+500,ki(e,t));do try{T0();break}catch(c){Vm(e,c)}while(!0);jc(),ua.current=s,we=a,Ke!==null?t=0:(nt=null,ot=0,t=Qe)}if(t!==0){if(t===2&&(a=pu(e),a!==0&&(r=a,t=$u(e,a))),t===1)throw n=Ms,ki(e,0),Wn(e,r),Ct(e,He()),n;if(t===6)Wn(e,r);else{if(a=e.current.alternate,!(r&30)&&!E0(a)&&(t=da(e,r),t===2&&(s=pu(e),s!==0&&(r=s,t=$u(e,s))),t===1))throw n=Ms,ki(e,0),Wn(e,r),Ct(e,He()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:gi(e,xt,bn);break;case 3:if(Wn(e,r),(r&130023424)===r&&(t=Hc+500-He(),10<t)){if(Go(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){mt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ku(gi.bind(null,e,xt,bn),t);break}gi(e,xt,bn);break;case 4:if(Wn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-nn(r);s=1<<l,l=t[l],l>a&&(a=l),r&=~s}if(r=a,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*P0(r/1960))-r,10<r){e.timeoutHandle=ku(gi.bind(null,e,xt,bn),r);break}gi(e,xt,bn);break;case 5:gi(e,xt,bn);break;default:throw Error(W(329))}}}return Ct(e,He()),e.callbackNode===n?Wm.bind(null,e):null}function $u(e,t){var n=hs;return e.current.memoizedState.isDehydrated&&(ki(e,t).flags|=256),e=da(e,t),e!==2&&(t=xt,xt=n,t!==null&&Zu(t)),e}function Zu(e){xt===null?xt=e:xt.push.apply(xt,e)}function E0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!sn(s(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t){for(t&=~Zc,t&=~Ea,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nn(t),r=1<<n;e[n]=-1,t&=~r}}function vf(e){if(we&6)throw Error(W(327));dr();var t=Go(e,0);if(!(t&1))return Ct(e,He()),null;var n=da(e,t);if(e.tag!==0&&n===2){var r=pu(e);r!==0&&(t=r,n=$u(e,r))}if(n===1)throw n=Ms,ki(e,0),Wn(e,t),Ct(e,He()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gi(e,xt,bn),Ct(e,He()),null}function Wc(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(xr=He()+500,Sa&&ai())}}function Ei(e){Gn!==null&&Gn.tag===0&&!(we&6)&&dr();var t=we;we|=1;var n=Ht.transition,r=Ce;try{if(Ht.transition=null,Ce=1,e)return e()}finally{Ce=r,Ht.transition=n,we=t,!(we&6)&&ai()}}function Vc(){Et=sr.current,Oe(sr)}function ki(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,r0(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(Lc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xo();break;case 3:vr(),Oe(bt),Oe(ht),Ic();break;case 5:Ac(r);break;case 4:vr();break;case 13:Oe(Re);break;case 19:Oe(Re);break;case 10:Tc(r.type._context);break;case 22:case 23:Vc()}n=n.return}if(nt=e,Ke=e=ni(e.current,null),ot=Et=t,Qe=0,Ms=null,Zc=Ea=Pi=0,xt=hs=null,xi!==null){for(t=0;t<xi.length;t++)if(n=xi[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=a,r.next=l}n.pending=r}xi=null}return e}function Vm(e,t){do{var n=Ke;try{if(jc(),Do.current=la,aa){for(var r=ze.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}aa=!1}if(Li=0,tt=Je=ze=null,us=!1,js=0,$c.current=null,n===null||n.return===null){Qe=1,Ms=t,Ke=null;break}e:{var s=e,l=n.return,c=n,h=t;if(t=ot,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var p=h,g=c,_=g.tag;if(!(g.mode&1)&&(_===0||_===11||_===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var x=sf(l);if(x!==null){x.flags&=-257,of(x,l,c,s,t),x.mode&1&&rf(s,p,t),t=x,h=p;var S=t.updateQueue;if(S===null){var k=new Set;k.add(h),t.updateQueue=k}else S.add(h);break e}else{if(!(t&1)){rf(s,p,t),qc();break e}h=Error(W(426))}}else if(Ae&&c.mode&1){var N=sf(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),of(N,l,c,s,t),Pc(yr(h,c));break e}}s=h=yr(h,c),Qe!==4&&(Qe=2),hs===null?hs=[s]:hs.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var w=jm(s,h,t);Qd(s,w);break e;case 1:c=h;var b=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ei===null||!ei.has(C)))){s.flags|=65536,t&=-t,s.lanes|=t;var O=Tm(s,c,t);Qd(s,O);break e}}s=s.return}while(s!==null)}Km(n)}catch(B){t=B,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function qm(){var e=ua.current;return ua.current=la,e===null?la:e}function qc(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),nt===null||!(Pi&268435455)&&!(Ea&268435455)||Wn(nt,ot)}function da(e,t){var n=we;we|=2;var r=qm();(nt!==e||ot!==t)&&(bn=null,ki(e,t));do try{j0();break}catch(a){Vm(e,a)}while(!0);if(jc(),we=n,ua.current=r,Ke!==null)throw Error(W(261));return nt=null,ot=0,Qe}function j0(){for(;Ke!==null;)Gm(Ke)}function T0(){for(;Ke!==null&&!ty();)Gm(Ke)}function Gm(e){var t=Qm(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?Km(e):Ke=t,$c.current=null}function Km(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=b0(n,t),n!==null){n.flags&=32767,Ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,Ke=null;return}}else if(n=k0(n,t,Et),n!==null){Ke=n;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Qe===0&&(Qe=5)}function gi(e,t,n){var r=Ce,a=Ht.transition;try{Ht.transition=null,Ce=1,N0(e,t,n,r)}finally{Ht.transition=a,Ce=r}return null}function N0(e,t,n,r){do dr();while(Gn!==null);if(we&6)throw Error(W(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(hy(e,s),e===nt&&(Ke=nt=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Co||(Co=!0,Ym(qo,function(){return dr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ht.transition,Ht.transition=null;var l=Ce;Ce=1;var c=we;we|=4,$c.current=null,C0(e,n),Zm(n,e),Qy(xu),Ko=!!yu,xu=yu=null,e.current=n,L0(n),ny(),we=c,Ce=l,Ht.transition=s}else e.current=n;if(Co&&(Co=!1,Gn=e,ha=a),s=e.pendingLanes,s===0&&(ei=null),sy(n.stateNode),Ct(e,He()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ca)throw ca=!1,e=Uu,Uu=null,e;return ha&1&&e.tag!==0&&dr(),s=e.pendingLanes,s&1?e===Fu?ds++:(ds=0,Fu=e):ds=0,ai(),null}function dr(){if(Gn!==null){var e=jp(ha),t=Ht.transition,n=Ce;try{if(Ht.transition=null,Ce=16>e?16:e,Gn===null)var r=!1;else{if(e=Gn,Gn=null,ha=0,we&6)throw Error(W(331));var a=we;for(we|=4,X=e.current;X!==null;){var s=X,l=s.child;if(X.flags&16){var c=s.deletions;if(c!==null){for(var h=0;h<c.length;h++){var p=c[h];for(X=p;X!==null;){var g=X;switch(g.tag){case 0:case 11:case 15:cs(8,g,s)}var _=g.child;if(_!==null)_.return=g,X=_;else for(;X!==null;){g=X;var v=g.sibling,x=g.return;if(Um(g),g===p){X=null;break}if(v!==null){v.return=x,X=v;break}X=x}}}var S=s.alternate;if(S!==null){var k=S.child;if(k!==null){S.child=null;do{var N=k.sibling;k.sibling=null,k=N}while(k!==null)}}X=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,X=l;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cs(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,X=w;break e}X=s.return}}var b=e.current;for(X=b;X!==null;){l=X;var C=l.child;if(l.subtreeFlags&2064&&C!==null)C.return=l,X=C;else e:for(l=b;X!==null;){if(c=X,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Pa(9,c)}}catch(B){$e(c,c.return,B)}if(c===l){X=null;break e}var O=c.sibling;if(O!==null){O.return=c.return,X=O;break e}X=c.return}}if(we=a,ai(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(ya,e)}catch{}r=!0}return r}finally{Ce=n,Ht.transition=t}}return!1}function yf(e,t,n){t=yr(n,t),t=jm(e,t,1),e=Xn(e,t,1),t=mt(),e!==null&&(Rs(e,1,t),Ct(e,t))}function $e(e,t,n){if(e.tag===3)yf(e,e,n);else for(;t!==null;){if(t.tag===3){yf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){e=yr(n,e),e=Tm(t,e,1),t=Xn(t,e,1),e=mt(),t!==null&&(Rs(t,1,e),Ct(t,e));break}}t=t.return}}function M0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&n,nt===e&&(ot&n)===n&&(Qe===4||Qe===3&&(ot&130023424)===ot&&500>He()-Hc?ki(e,0):Zc|=n),Ct(e,t)}function Jm(e,t){t===0&&(e.mode&1?(t=mo,mo<<=1,!(mo&130023424)&&(mo=4194304)):t=1);var n=mt();e=Mn(e,t),e!==null&&(Rs(e,t,n),Ct(e,n))}function O0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jm(e,n)}function A0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),Jm(e,n)}var Qm;Qm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||bt.current)kt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kt=!1,w0(e,t,n);kt=!!(e.flags&131072)}else kt=!1,Ae&&t.flags&1048576&&tm(t,na,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Uo(e,t),e=t.pendingProps;var a=mr(t,ht.current);hr(t,n),a=zc(null,t,r,e,a,n);var s=Dc();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(r)?(s=!0,ea(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Mc(t),a.updater=La,t.stateNode=a,a._reactInternals=t,ju(t,r,e,n),t=Mu(null,t,r,!0,s,n)):(t.tag=0,Ae&&s&&Cc(t),pt(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Uo(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=R0(r),e=Yt(r,e),a){case 0:t=Nu(null,t,r,e,n);break e;case 1:t=uf(null,t,r,e,n);break e;case 11:t=af(null,t,r,e,n);break e;case 14:t=lf(null,t,r,Yt(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Yt(r,a),Nu(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Yt(r,a),uf(e,t,r,a,n);case 3:e:{if(Am(t),e===null)throw Error(W(387));r=t.pendingProps,s=t.memoizedState,a=s.element,am(e,t),sa(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=yr(Error(W(423)),t),t=cf(e,t,r,n,a);break e}else if(r!==a){a=yr(Error(W(424)),t),t=cf(e,t,r,n,a);break e}else for(jt=Yn(t.stateNode.containerInfo.firstChild),Tt=t,Ae=!0,tn=null,n=sm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gr(),r===a){t=On(e,t,n);break e}pt(e,t,r,n)}t=t.child}return t;case 5:return lm(t),e===null&&Lu(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,l=a.children,wu(r,a)?l=null:s!==null&&wu(r,s)&&(t.flags|=32),Om(e,t),pt(e,t,l,n),t.child;case 6:return e===null&&Lu(t),null;case 13:return Im(e,t,n);case 4:return Oc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_r(t,null,r,n):pt(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Yt(r,a),af(e,t,r,a,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,l=a.value,Ne(ia,r._currentValue),r._currentValue=l,s!==null)if(sn(s.value,l)){if(s.children===a.children&&!bt.current){t=On(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var c=s.dependencies;if(c!==null){l=s.child;for(var h=c.firstContext;h!==null;){if(h.context===r){if(s.tag===1){h=jn(-1,n&-n),h.tag=2;var p=s.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?h.next=h:(h.next=g.next,g.next=h),p.pending=h}}s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),Pu(s.return,n,t),c.lanes|=n;break}h=h.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(W(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Pu(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}pt(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,hr(t,n),a=Wt(a),r=r(a),t.flags|=1,pt(e,t,r,n),t.child;case 14:return r=t.type,a=Yt(r,t.pendingProps),a=Yt(r.type,a),lf(e,t,r,a,n);case 15:return Nm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Yt(r,a),Uo(e,t),t.tag=1,St(r)?(e=!0,ea(t)):e=!1,hr(t,n),Em(t,r,a),ju(t,r,a,n),Mu(null,t,r,!0,e,n);case 19:return Rm(e,t,n);case 22:return Mm(e,t,n)}throw Error(W(156,t.tag))};function Ym(e,t){return Cp(e,t)}function I0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,n,r){return new I0(e,t,n,r)}function Gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R0(e){if(typeof e=="function")return Gc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fc)return 11;if(e===pc)return 14}return 2}function ni(e,t){var n=e.alternate;return n===null?(n=$t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zo(e,t,n,r,a,s){var l=2;if(r=e,typeof e=="function")Gc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Ki:return bi(n.children,a,s,t);case dc:l=8,a|=8;break;case Xl:return e=$t(12,n,t,a|2),e.elementType=Xl,e.lanes=s,e;case eu:return e=$t(13,n,t,a),e.elementType=eu,e.lanes=s,e;case tu:return e=$t(19,n,t,a),e.elementType=tu,e.lanes=s,e;case lp:return ja(n,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case op:l=10;break e;case ap:l=9;break e;case fc:l=11;break e;case pc:l=14;break e;case Fn:l=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=$t(l,n,t,a),t.elementType=e,t.type=r,t.lanes=s,t}function bi(e,t,n,r){return e=$t(7,e,r,t),e.lanes=n,e}function ja(e,t,n,r){return e=$t(22,e,r,t),e.elementType=lp,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return e=$t(6,e,null,t),e.lanes=n,e}function Fl(e,t,n){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function z0(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Kc(e,t,n,r,a,s,l,c,h){return e=new z0(e,t,n,c,h),t===1?(t=1,s===!0&&(t|=8)):t=0,s=$t(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mc(s),e}function D0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Xm(e){if(!e)return ri;e=e._reactInternals;e:{if(Ti(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(St(n))return Xp(e,n,t)}return t}function eg(e,t,n,r,a,s,l,c,h){return e=Kc(n,r,!0,e,a,s,l,c,h),e.context=Xm(null),n=e.current,r=mt(),a=ti(n),s=jn(r,a),s.callback=t??null,Xn(n,s,a),e.current.lanes=a,Rs(e,a,r),Ct(e,r),e}function Ta(e,t,n,r){var a=t.current,s=mt(),l=ti(a);return n=Xm(n),t.context===null?t.context=n:t.pendingContext=n,t=jn(s,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xn(a,t,l),e!==null&&(rn(e,a,l,s),zo(e,a,l)),l}function fa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jc(e,t){xf(e,t),(e=e.alternate)&&xf(e,t)}function B0(){return null}var tg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}Na.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Ta(e,t,null,null)};Na.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ei(function(){Ta(null,e,null,null)}),t[Nn]=null}};function Na(e){this._internalRoot=e}Na.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hn.length&&t!==0&&t<Hn[n].priority;n++);Hn.splice(n,0,e),n===0&&Ap(e)}};function Yc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ma(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wf(){}function U0(e,t,n,r,a){if(a){if(typeof r=="function"){var s=r;r=function(){var p=fa(l);s.call(p)}}var l=eg(t,r,e,0,null,!1,!1,"",wf);return e._reactRootContainer=l,e[Nn]=l.current,Ss(e.nodeType===8?e.parentNode:e),Ei(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var c=r;r=function(){var p=fa(h);c.call(p)}}var h=Kc(e,0,!1,null,null,!1,!1,"",wf);return e._reactRootContainer=h,e[Nn]=h.current,Ss(e.nodeType===8?e.parentNode:e),Ei(function(){Ta(t,h,n,r)}),h}function Oa(e,t,n,r,a){var s=n._reactRootContainer;if(s){var l=s;if(typeof a=="function"){var c=a;a=function(){var h=fa(l);c.call(h)}}Ta(t,l,e,a)}else l=U0(n,t,e,a,r);return fa(l)}Tp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ts(t.pendingLanes);n!==0&&(_c(t,n|1),Ct(t,He()),!(we&6)&&(xr=He()+500,ai()))}break;case 13:Ei(function(){var r=Mn(e,1);if(r!==null){var a=mt();rn(r,e,1,a)}}),Jc(e,1)}};vc=function(e){if(e.tag===13){var t=Mn(e,134217728);if(t!==null){var n=mt();rn(t,e,134217728,n)}Jc(e,134217728)}};Np=function(e){if(e.tag===13){var t=ti(e),n=Mn(e,t);if(n!==null){var r=mt();rn(n,e,t,r)}Jc(e,t)}};Mp=function(){return Ce};Op=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}};hu=function(e,t,n){switch(t){case"input":if(ru(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ba(r);if(!a)throw Error(W(90));cp(r),ru(r,a)}}}break;case"textarea":dp(e,n);break;case"select":t=n.value,t!=null&&ar(e,!!n.multiple,t,!1)}};yp=Wc;xp=Ei;var F0={usingClientEntryPoint:!1,Events:[Ds,Xi,ba,_p,vp,Wc]},Qr={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$0={bundleType:Qr.bundleType,version:Qr.version,rendererPackageName:Qr.rendererPackageName,rendererConfig:Qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bp(e),e===null?null:e.stateNode},findFiberByHostInstance:Qr.findFiberByHostInstance||B0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{ya=Lo.inject($0),pn=Lo}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F0;Mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yc(t))throw Error(W(200));return D0(e,t,null,n)};Mt.createRoot=function(e,t){if(!Yc(e))throw Error(W(299));var n=!1,r="",a=tg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Kc(e,1,!1,null,null,n,!1,r,a),e[Nn]=t.current,Ss(e.nodeType===8?e.parentNode:e),new Qc(t)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=bp(t),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return Ei(e)};Mt.hydrate=function(e,t,n){if(!Ma(t))throw Error(W(200));return Oa(null,e,t,!0,n)};Mt.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,a=!1,s="",l=tg;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=eg(t,null,e,1,n??null,a,!1,s,l),e[Nn]=t.current,Ss(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Na(t)};Mt.render=function(e,t,n){if(!Ma(t))throw Error(W(200));return Oa(null,e,t,!1,n)};Mt.unmountComponentAtNode=function(e){if(!Ma(e))throw Error(W(40));return e._reactRootContainer?(Ei(function(){Oa(null,null,e,!1,function(){e._reactRootContainer=null,e[Nn]=null})}),!0):!1};Mt.unstable_batchedUpdates=Wc;Mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ma(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Oa(e,t,n,!1,r)};Mt.version="18.3.1-next-f1338f8080-20240426";function ng(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ng)}catch(e){console.error(e)}}ng(),np.exports=Mt;var ig=np.exports,rg,kf=ig;rg=kf.createRoot,kf.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_e=(e,t)=>{const n=F.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:h,...p},g)=>F.createElement("svg",{ref:g,...Z0,width:a,height:a,stroke:r,strokeWidth:l?Number(s)*24/Number(a):s,className:["lucide",`lucide-${H0(e)}`,c].join(" "),...p},[...t.map(([_,v])=>F.createElement(_,v)),...Array.isArray(h)?h:[h]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=_e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=_e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=_e("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=_e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=_e("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=_e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=_e("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=_e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=_e("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=_e("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=_e("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=_e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=_e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=_e("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function th(e,t){const n=F.useRef(t);F.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function cx(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const cg=1;function hg(e){return Object.freeze({__version:cg,map:e})}function dg(e,t){return Object.freeze({...e,...t})}const nh=F.createContext(null),ih=nh.Provider;function Cr(){const e=F.useContext(nh);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function rh(e){function t(n,r){const{instance:a,context:s}=e(n).current;return F.useImperativeHandle(r,()=>a),n.children==null?null:Ql.createElement(ih,{value:s},n.children)}return F.forwardRef(t)}function fg(e){function t(n,r){const[a,s]=F.useState(!1),{instance:l}=e(n,s).current;F.useImperativeHandle(r,()=>l),F.useEffect(function(){a&&l.update()},[l,a,n.children]);const c=l._contentNode;return c?ig.createPortal(n.children,c):null}return F.forwardRef(t)}function sh(e){function t(n,r){const{instance:a}=e(n).current;return F.useImperativeHandle(r,()=>a),null}return F.forwardRef(t)}function pg(e){return function(n){const r=Cr(),a=e(n,r),{instance:s}=a.current,l=F.useRef(n.position),{position:c}=n;return F.useEffect(function(){return s.addTo(r.map),function(){s.remove()}},[r.map,s]),F.useEffect(function(){c!=null&&c!==l.current&&(s.setPosition(c),l.current=c)},[s,c]),a}}function Aa(e,t){const n=F.useRef();F.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Fs(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function mg(e,t){return function(r,a){const s=Cr(),l=e(Fs(r,s),s);return th(s.map,r.attribution),Aa(l.current,r.eventHandlers),t(l.current,s,r,a),l}}var Vu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(We,function(n){var r="1.9.4";function a(i){var o,u,d,m;for(u=1,d=arguments.length;u<d;u++){m=arguments[u];for(o in m)i[o]=m[o]}return i}var s=Object.create||function(){function i(){}return function(o){return i.prototype=o,new i}}();function l(i,o){var u=Array.prototype.slice;if(i.bind)return i.bind.apply(i,u.call(arguments,1));var d=u.call(arguments,2);return function(){return i.apply(o,d.length?d.concat(u.call(arguments)):arguments)}}var c=0;function h(i){return"_leaflet_id"in i||(i._leaflet_id=++c),i._leaflet_id}function p(i,o,u){var d,m,y,E;return E=function(){d=!1,m&&(y.apply(u,m),m=!1)},y=function(){d?m=arguments:(i.apply(u,arguments),setTimeout(E,o),d=!0)},y}function g(i,o,u){var d=o[1],m=o[0],y=d-m;return i===d&&u?i:((i-m)%y+y)%y+m}function _(){return!1}function v(i,o){if(o===!1)return i;var u=Math.pow(10,o===void 0?6:o);return Math.round(i*u)/u}function x(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function S(i){return x(i).split(/\s+/)}function k(i,o){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?s(i.options):{});for(var u in o)i.options[u]=o[u];return i.options}function N(i,o,u){var d=[];for(var m in i)d.push(encodeURIComponent(u?m.toUpperCase():m)+"="+encodeURIComponent(i[m]));return(!o||o.indexOf("?")===-1?"?":"&")+d.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function b(i,o){return i.replace(w,function(u,d){var m=o[d];if(m===void 0)throw new Error("No value provided for variable "+u);return typeof m=="function"&&(m=m(o)),m})}var C=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function O(i,o){for(var u=0;u<i.length;u++)if(i[u]===o)return u;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function z(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var R=0;function P(i){var o=+new Date,u=Math.max(0,16-(o-R));return R=o+u,window.setTimeout(i,u)}var j=window.requestAnimationFrame||z("RequestAnimationFrame")||P,T=window.cancelAnimationFrame||z("CancelAnimationFrame")||z("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function U(i,o,u){if(u&&j===P)i.call(o);else return j.call(window,l(i,o))}function D(i){i&&T.call(window,i)}var H={__proto__:null,extend:a,create:s,bind:l,get lastId(){return c},stamp:h,throttle:p,wrapNum:g,falseFn:_,formatNum:v,trim:x,splitWords:S,setOptions:k,getParamString:N,template:b,isArray:C,indexOf:O,emptyImageUrl:B,requestFn:j,cancelFn:T,requestAnimFrame:U,cancelAnimFrame:D};function Y(){}Y.extend=function(i){var o=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=o.__super__=this.prototype,d=s(u);d.constructor=o,o.prototype=d;for(var m in this)Object.prototype.hasOwnProperty.call(this,m)&&m!=="prototype"&&m!=="__super__"&&(o[m]=this[m]);return i.statics&&a(o,i.statics),i.includes&&(Le(i.includes),a.apply(null,[d].concat(i.includes))),a(d,i),delete d.statics,delete d.includes,d.options&&(d.options=u.options?s(u.options):{},a(d.options,i.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,E=d._initHooks.length;y<E;y++)d._initHooks[y].call(this)}},o},Y.include=function(i){var o=this.prototype.options;return a(this.prototype,i),i.options&&(this.prototype.options=o,this.mergeOptions(i.options)),this},Y.mergeOptions=function(i){return a(this.prototype.options,i),this},Y.addInitHook=function(i){var o=Array.prototype.slice.call(arguments,1),u=typeof i=="function"?i:function(){this[i].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function Le(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=C(i)?i:[i];for(var o=0;o<i.length;o++)i[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ye={on:function(i,o,u){if(typeof i=="object")for(var d in i)this._on(d,i[d],o);else{i=S(i);for(var m=0,y=i.length;m<y;m++)this._on(i[m],o,u)}return this},off:function(i,o,u){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var d in i)this._off(d,i[d],o);else{i=S(i);for(var m=arguments.length===1,y=0,E=i.length;y<E;y++)m?this._off(i[y]):this._off(i[y],o,u)}return this},_on:function(i,o,u,d){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(i,o,u)===!1){u===this&&(u=void 0);var m={fn:o,ctx:u};d&&(m.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(m)}},_off:function(i,o,u){var d,m,y;if(this._events&&(d=this._events[i],!!d)){if(arguments.length===1){if(this._firingCount)for(m=0,y=d.length;m<y;m++)d[m].fn=_;delete this._events[i];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var E=this._listens(i,o,u);if(E!==!1){var M=d[E];this._firingCount&&(M.fn=_,this._events[i]=d=d.slice()),d.splice(E,1)}}},fire:function(i,o,u){if(!this.listens(i,u))return this;var d=a({},o,{type:i,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var m=this._events[i];if(m){this._firingCount=this._firingCount+1||1;for(var y=0,E=m.length;y<E;y++){var M=m[y],A=M.fn;M.once&&this.off(i,A,M.ctx),A.call(M.ctx||this,d)}this._firingCount--}}return u&&this._propagateEvent(d),this},listens:function(i,o,u,d){typeof i!="string"&&console.warn('"string" type argument expected');var m=o;typeof o!="function"&&(d=!!o,m=void 0,u=void 0);var y=this._events&&this._events[i];if(y&&y.length&&this._listens(i,m,u)!==!1)return!0;if(d){for(var E in this._eventParents)if(this._eventParents[E].listens(i,o,u,d))return!0}return!1},_listens:function(i,o,u){if(!this._events)return!1;var d=this._events[i]||[];if(!o)return!!d.length;u===this&&(u=void 0);for(var m=0,y=d.length;m<y;m++)if(d[m].fn===o&&d[m].ctx===u)return m;return!1},once:function(i,o,u){if(typeof i=="object")for(var d in i)this._on(d,i[d],o,!0);else{i=S(i);for(var m=0,y=i.length;m<y;m++)this._on(i[m],o,u,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[h(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[h(i)],this},_propagateEvent:function(i){for(var o in this._eventParents)this._eventParents[o].fire(i.type,a({layer:i.target,propagatedFrom:i.target},i),!0)}};ye.addEventListener=ye.on,ye.removeEventListener=ye.clearAllEventListeners=ye.off,ye.addOneTimeEventListener=ye.once,ye.fireEvent=ye.fire,ye.hasEventListeners=ye.listens;var oe=Y.extend(ye);function I(i,o,u){this.x=u?Math.round(i):i,this.y=u?Math.round(o):o}var V=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(i){return this.clone()._add(Z(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(Z(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new I(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new I(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=V(this.x),this.y=V(this.y),this},distanceTo:function(i){i=Z(i);var o=i.x-this.x,u=i.y-this.y;return Math.sqrt(o*o+u*u)},equals:function(i){return i=Z(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=Z(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function Z(i,o,u){return i instanceof I?i:C(i)?new I(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new I(i.x,i.y):new I(i,o,u)}function G(i,o){if(i)for(var u=o?[i,o]:i,d=0,m=u.length;d<m;d++)this.extend(u[d])}G.prototype={extend:function(i){var o,u;if(!i)return this;if(i instanceof I||typeof i[0]=="number"||"x"in i)o=u=Z(i);else if(i=J(i),o=i.min,u=i.max,!o||!u)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=u.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(i){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var o,u;return typeof i[0]=="number"||i instanceof I?i=Z(i):i=J(i),i instanceof G?(o=i.min,u=i.max):o=u=i,o.x>=this.min.x&&u.x<=this.max.x&&o.y>=this.min.y&&u.y<=this.max.y},intersects:function(i){i=J(i);var o=this.min,u=this.max,d=i.min,m=i.max,y=m.x>=o.x&&d.x<=u.x,E=m.y>=o.y&&d.y<=u.y;return y&&E},overlaps:function(i){i=J(i);var o=this.min,u=this.max,d=i.min,m=i.max,y=m.x>o.x&&d.x<u.x,E=m.y>o.y&&d.y<u.y;return y&&E},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var o=this.min,u=this.max,d=Math.abs(o.x-u.x)*i,m=Math.abs(o.y-u.y)*i;return J(Z(o.x-d,o.y-m),Z(u.x+d,u.y+m))},equals:function(i){return i?(i=J(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function J(i,o){return!i||i instanceof G?i:new G(i,o)}function K(i,o){if(i)for(var u=o?[i,o]:i,d=0,m=u.length;d<m;d++)this.extend(u[d])}K.prototype={extend:function(i){var o=this._southWest,u=this._northEast,d,m;if(i instanceof ie)d=i,m=i;else if(i instanceof K){if(d=i._southWest,m=i._northEast,!d||!m)return this}else return i?this.extend(te(i)||re(i)):this;return!o&&!u?(this._southWest=new ie(d.lat,d.lng),this._northEast=new ie(m.lat,m.lng)):(o.lat=Math.min(d.lat,o.lat),o.lng=Math.min(d.lng,o.lng),u.lat=Math.max(m.lat,u.lat),u.lng=Math.max(m.lng,u.lng)),this},pad:function(i){var o=this._southWest,u=this._northEast,d=Math.abs(o.lat-u.lat)*i,m=Math.abs(o.lng-u.lng)*i;return new K(new ie(o.lat-d,o.lng-m),new ie(u.lat+d,u.lng+m))},getCenter:function(){return new ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ie||"lat"in i?i=te(i):i=re(i);var o=this._southWest,u=this._northEast,d,m;return i instanceof K?(d=i.getSouthWest(),m=i.getNorthEast()):d=m=i,d.lat>=o.lat&&m.lat<=u.lat&&d.lng>=o.lng&&m.lng<=u.lng},intersects:function(i){i=re(i);var o=this._southWest,u=this._northEast,d=i.getSouthWest(),m=i.getNorthEast(),y=m.lat>=o.lat&&d.lat<=u.lat,E=m.lng>=o.lng&&d.lng<=u.lng;return y&&E},overlaps:function(i){i=re(i);var o=this._southWest,u=this._northEast,d=i.getSouthWest(),m=i.getNorthEast(),y=m.lat>o.lat&&d.lat<u.lat,E=m.lng>o.lng&&d.lng<u.lng;return y&&E},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,o){return i?(i=re(i),this._southWest.equals(i.getSouthWest(),o)&&this._northEast.equals(i.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function re(i,o){return i instanceof K?i:new K(i,o)}function ie(i,o,u){if(isNaN(i)||isNaN(o))throw new Error("Invalid LatLng object: ("+i+", "+o+")");this.lat=+i,this.lng=+o,u!==void 0&&(this.alt=+u)}ie.prototype={equals:function(i,o){if(!i)return!1;i=te(i);var u=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return u<=(o===void 0?1e-9:o)},toString:function(i){return"LatLng("+v(this.lat,i)+", "+v(this.lng,i)+")"},distanceTo:function(i){return le.distance(this,te(i))},wrap:function(){return le.wrapLatLng(this)},toBounds:function(i){var o=180*i/40075017,u=o/Math.cos(Math.PI/180*this.lat);return re([this.lat-o,this.lng-u],[this.lat+o,this.lng+u])},clone:function(){return new ie(this.lat,this.lng,this.alt)}};function te(i,o,u){return i instanceof ie?i:C(i)&&typeof i[0]!="object"?i.length===3?new ie(i[0],i[1],i[2]):i.length===2?new ie(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ie(i.lat,"lng"in i?i.lng:i.lon,i.alt):o===void 0?null:new ie(i,o,u)}var Se={latLngToPoint:function(i,o){var u=this.projection.project(i),d=this.scale(o);return this.transformation._transform(u,d)},pointToLatLng:function(i,o){var u=this.scale(o),d=this.transformation.untransform(i,u);return this.projection.unproject(d)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var o=this.projection.bounds,u=this.scale(i),d=this.transformation.transform(o.min,u),m=this.transformation.transform(o.max,u);return new G(d,m)},infinite:!1,wrapLatLng:function(i){var o=this.wrapLng?g(i.lng,this.wrapLng,!0):i.lng,u=this.wrapLat?g(i.lat,this.wrapLat,!0):i.lat,d=i.alt;return new ie(u,o,d)},wrapLatLngBounds:function(i){var o=i.getCenter(),u=this.wrapLatLng(o),d=o.lat-u.lat,m=o.lng-u.lng;if(d===0&&m===0)return i;var y=i.getSouthWest(),E=i.getNorthEast(),M=new ie(y.lat-d,y.lng-m),A=new ie(E.lat-d,E.lng-m);return new K(M,A)}},le=a({},Se,{wrapLng:[-180,180],R:6371e3,distance:function(i,o){var u=Math.PI/180,d=i.lat*u,m=o.lat*u,y=Math.sin((o.lat-i.lat)*u/2),E=Math.sin((o.lng-i.lng)*u/2),M=y*y+Math.cos(d)*Math.cos(m)*E*E,A=2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M));return this.R*A}}),pe=6378137,ee={R:pe,MAX_LATITUDE:85.0511287798,project:function(i){var o=Math.PI/180,u=this.MAX_LATITUDE,d=Math.max(Math.min(u,i.lat),-u),m=Math.sin(d*o);return new I(this.R*i.lng*o,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(i){var o=180/Math.PI;return new ie((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*o,i.x*o/this.R)},bounds:function(){var i=pe*Math.PI;return new G([-i,-i],[i,i])}()};function q(i,o,u,d){if(C(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=o,this._c=u,this._d=d}q.prototype={transform:function(i,o){return this._transform(i.clone(),o)},_transform:function(i,o){return o=o||1,i.x=o*(this._a*i.x+this._b),i.y=o*(this._c*i.y+this._d),i},untransform:function(i,o){return o=o||1,new I((i.x/o-this._b)/this._a,(i.y/o-this._d)/this._c)}};function ae(i,o,u,d){return new q(i,o,u,d)}var Be=a({},le,{code:"EPSG:3857",projection:ee,transformation:function(){var i=.5/(Math.PI*ee.R);return ae(i,.5,-i,.5)}()}),Pe=a({},Be,{code:"EPSG:900913"});function be(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function he(i,o){var u="",d,m,y,E,M,A;for(d=0,y=i.length;d<y;d++){for(M=i[d],m=0,E=M.length;m<E;m++)A=M[m],u+=(m?"L":"M")+A.x+" "+A.y;u+=o?ne.svg?"z":"x":""}return u||"M0 0"}var Ve=document.documentElement.style,ve="ActiveXObject"in window,Ee=ve&&!document.addEventListener,Ue="msLaunchUri"in navigator&&!("documentMode"in document),on=an("webkit"),Lt=an("android"),In=an("android 2")||an("android 3"),Ye=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),At=Lt&&an("Google")&&Ye<537&&!("AudioNode"in window),Fe=!!window.opera,it=!Ue&&an("chrome"),It=an("gecko")&&!on&&!Fe&&!ve,jr=!it&&an("safari"),Tr=an("phantom"),_n="OTransition"in Ve,Rt=navigator.platform.indexOf("Win")===0,Rn=ve&&"transition"in Ve,Mi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!In,ph="MozPerspective"in Ve,e_=!window.L_DISABLE_3D&&(Rn||Mi||ph)&&!_n&&!Tr,Nr=typeof orientation<"u"||an("mobile"),t_=Nr&&on,n_=Nr&&Mi,mh=!window.PointerEvent&&window.MSPointerEvent,gh=!!(window.PointerEvent||mh),_h="ontouchstart"in window||!!window.TouchEvent,i_=!window.L_NO_TOUCH&&(_h||gh),r_=Nr&&Fe,s_=Nr&&It,o_=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,a_=function(){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",_,o),window.removeEventListener("testPassiveEventSupport",_,o)}catch{}return i}(),l_=function(){return!!document.createElement("canvas").getContext}(),Za=!!(document.createElementNS&&be("svg").createSVGRect),u_=!!Za&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),c_=!Za&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var o=i.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),h_=navigator.platform.indexOf("Mac")===0,d_=navigator.platform.indexOf("Linux")===0;function an(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var ne={ie:ve,ielt9:Ee,edge:Ue,webkit:on,android:Lt,android23:In,androidStock:At,opera:Fe,chrome:it,gecko:It,safari:jr,phantom:Tr,opera12:_n,win:Rt,ie3d:Rn,webkit3d:Mi,gecko3d:ph,any3d:e_,mobile:Nr,mobileWebkit:t_,mobileWebkit3d:n_,msPointer:mh,pointer:gh,touch:i_,touchNative:_h,mobileOpera:r_,mobileGecko:s_,retina:o_,passiveEvents:a_,canvas:l_,svg:Za,vml:c_,inlineSvg:u_,mac:h_,linux:d_},vh=ne.msPointer?"MSPointerDown":"pointerdown",yh=ne.msPointer?"MSPointerMove":"pointermove",xh=ne.msPointer?"MSPointerUp":"pointerup",wh=ne.msPointer?"MSPointerCancel":"pointercancel",Ha={touchstart:vh,touchmove:yh,touchend:xh,touchcancel:wh},kh={touchstart:v_,touchmove:Ws,touchend:Ws,touchcancel:Ws},Oi={},bh=!1;function f_(i,o,u){return o==="touchstart"&&__(),kh[o]?(u=kh[o].bind(this,u),i.addEventListener(Ha[o],u,!1),u):(console.warn("wrong event specified:",o),_)}function p_(i,o,u){if(!Ha[o]){console.warn("wrong event specified:",o);return}i.removeEventListener(Ha[o],u,!1)}function m_(i){Oi[i.pointerId]=i}function g_(i){Oi[i.pointerId]&&(Oi[i.pointerId]=i)}function Sh(i){delete Oi[i.pointerId]}function __(){bh||(document.addEventListener(vh,m_,!0),document.addEventListener(yh,g_,!0),document.addEventListener(xh,Sh,!0),document.addEventListener(wh,Sh,!0),bh=!0)}function Ws(i,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var u in Oi)o.touches.push(Oi[u]);o.changedTouches=[o],i(o)}}function v_(i,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&rt(o),Ws(i,o)}function y_(i){var o={},u,d;for(d in i)u=i[d],o[d]=u&&u.bind?u.bind(i):u;return i=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var x_=200;function w_(i,o){i.addEventListener("dblclick",o);var u=0,d;function m(y){if(y.detail!==1){d=y.detail;return}if(!(y.pointerType==="mouse"||y.sourceCapabilities&&!y.sourceCapabilities.firesTouchEvents)){var E=jh(y);if(!(E.some(function(A){return A instanceof HTMLLabelElement&&A.attributes.for})&&!E.some(function(A){return A instanceof HTMLInputElement||A instanceof HTMLSelectElement}))){var M=Date.now();M-u<=x_?(d++,d===2&&o(y_(y))):d=1,u=M}}}return i.addEventListener("click",m),{dblclick:o,simDblclick:m}}function k_(i,o){i.removeEventListener("dblclick",o.dblclick),i.removeEventListener("click",o.simDblclick)}var Wa=Gs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Mr=Gs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ch=Mr==="webkitTransition"||Mr==="OTransition"?Mr+"End":"transitionend";function Lh(i){return typeof i=="string"?document.getElementById(i):i}function Or(i,o){var u=i.style[o]||i.currentStyle&&i.currentStyle[o];if((!u||u==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(i,null);u=d?d[o]:null}return u==="auto"?null:u}function ke(i,o,u){var d=document.createElement(i);return d.className=o||"",u&&u.appendChild(d),d}function Ie(i){var o=i.parentNode;o&&o.removeChild(i)}function Vs(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Ai(i){var o=i.parentNode;o&&o.lastChild!==i&&o.appendChild(i)}function Ii(i){var o=i.parentNode;o&&o.firstChild!==i&&o.insertBefore(i,o.firstChild)}function Va(i,o){if(i.classList!==void 0)return i.classList.contains(o);var u=qs(i);return u.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(u)}function de(i,o){if(i.classList!==void 0)for(var u=S(o),d=0,m=u.length;d<m;d++)i.classList.add(u[d]);else if(!Va(i,o)){var y=qs(i);qa(i,(y?y+" ":"")+o)}}function Ze(i,o){i.classList!==void 0?i.classList.remove(o):qa(i,x((" "+qs(i)+" ").replace(" "+o+" "," ")))}function qa(i,o){i.className.baseVal===void 0?i.className=o:i.className.baseVal=o}function qs(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function zt(i,o){"opacity"in i.style?i.style.opacity=o:"filter"in i.style&&b_(i,o)}function b_(i,o){var u=!1,d="DXImageTransform.Microsoft.Alpha";try{u=i.filters.item(d)}catch{if(o===1)return}o=Math.round(o*100),u?(u.Enabled=o!==100,u.Opacity=o):i.style.filter+=" progid:"+d+"(opacity="+o+")"}function Gs(i){for(var o=document.documentElement.style,u=0;u<i.length;u++)if(i[u]in o)return i[u];return!1}function ui(i,o,u){var d=o||new I(0,0);i.style[Wa]=(ne.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(u?" scale("+u+")":"")}function qe(i,o){i._leaflet_pos=o,ne.any3d?ui(i,o):(i.style.left=o.x+"px",i.style.top=o.y+"px")}function ci(i){return i._leaflet_pos||new I(0,0)}var Ar,Ir,Ga;if("onselectstart"in document)Ar=function(){ue(window,"selectstart",rt)},Ir=function(){je(window,"selectstart",rt)};else{var Rr=Gs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ar=function(){if(Rr){var i=document.documentElement.style;Ga=i[Rr],i[Rr]="none"}},Ir=function(){Rr&&(document.documentElement.style[Rr]=Ga,Ga=void 0)}}function Ka(){ue(window,"dragstart",rt)}function Ja(){je(window,"dragstart",rt)}var Ks,Qa;function Ya(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Js(),Ks=i,Qa=i.style.outlineStyle,i.style.outlineStyle="none",ue(window,"keydown",Js))}function Js(){Ks&&(Ks.style.outlineStyle=Qa,Ks=void 0,Qa=void 0,je(window,"keydown",Js))}function Ph(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Xa(i){var o=i.getBoundingClientRect();return{x:o.width/i.offsetWidth||1,y:o.height/i.offsetHeight||1,boundingClientRect:o}}var S_={__proto__:null,TRANSFORM:Wa,TRANSITION:Mr,TRANSITION_END:Ch,get:Lh,getStyle:Or,create:ke,remove:Ie,empty:Vs,toFront:Ai,toBack:Ii,hasClass:Va,addClass:de,removeClass:Ze,setClass:qa,getClass:qs,setOpacity:zt,testProp:Gs,setTransform:ui,setPosition:qe,getPosition:ci,get disableTextSelection(){return Ar},get enableTextSelection(){return Ir},disableImageDrag:Ka,enableImageDrag:Ja,preventOutline:Ya,restoreOutline:Js,getSizedParentNode:Ph,getScale:Xa};function ue(i,o,u,d){if(o&&typeof o=="object")for(var m in o)tl(i,m,o[m],u);else{o=S(o);for(var y=0,E=o.length;y<E;y++)tl(i,o[y],u,d)}return this}var ln="_leaflet_events";function je(i,o,u,d){if(arguments.length===1)Eh(i),delete i[ln];else if(o&&typeof o=="object")for(var m in o)nl(i,m,o[m],u);else if(o=S(o),arguments.length===2)Eh(i,function(M){return O(o,M)!==-1});else for(var y=0,E=o.length;y<E;y++)nl(i,o[y],u,d);return this}function Eh(i,o){for(var u in i[ln]){var d=u.split(/\d/)[0];(!o||o(d))&&nl(i,d,null,null,u)}}var el={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function tl(i,o,u,d){var m=o+h(u)+(d?"_"+h(d):"");if(i[ln]&&i[ln][m])return this;var y=function(M){return u.call(d||i,M||window.event)},E=y;!ne.touchNative&&ne.pointer&&o.indexOf("touch")===0?y=f_(i,o,y):ne.touch&&o==="dblclick"?y=w_(i,y):"addEventListener"in i?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?i.addEventListener(el[o]||o,y,ne.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(y=function(M){M=M||window.event,rl(i,M)&&E(M)},i.addEventListener(el[o],y,!1)):i.addEventListener(o,E,!1):i.attachEvent("on"+o,y),i[ln]=i[ln]||{},i[ln][m]=y}function nl(i,o,u,d,m){m=m||o+h(u)+(d?"_"+h(d):"");var y=i[ln]&&i[ln][m];if(!y)return this;!ne.touchNative&&ne.pointer&&o.indexOf("touch")===0?p_(i,o,y):ne.touch&&o==="dblclick"?k_(i,y):"removeEventListener"in i?i.removeEventListener(el[o]||o,y,!1):i.detachEvent("on"+o,y),i[ln][m]=null}function hi(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function il(i){return tl(i,"wheel",hi),this}function zr(i){return ue(i,"mousedown touchstart dblclick contextmenu",hi),i._leaflet_disable_click=!0,this}function rt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function di(i){return rt(i),hi(i),this}function jh(i){if(i.composedPath)return i.composedPath();for(var o=[],u=i.target;u;)o.push(u),u=u.parentNode;return o}function Th(i,o){if(!o)return new I(i.clientX,i.clientY);var u=Xa(o),d=u.boundingClientRect;return new I((i.clientX-d.left)/u.x-o.clientLeft,(i.clientY-d.top)/u.y-o.clientTop)}var C_=ne.linux&&ne.chrome?window.devicePixelRatio:ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Nh(i){return ne.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/C_:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function rl(i,o){var u=o.relatedTarget;if(!u)return!0;try{for(;u&&u!==i;)u=u.parentNode}catch{return!1}return u!==i}var L_={__proto__:null,on:ue,off:je,stopPropagation:hi,disableScrollPropagation:il,disableClickPropagation:zr,preventDefault:rt,stop:di,getPropagationPath:jh,getMousePosition:Th,getWheelDelta:Nh,isExternalTarget:rl,addListener:ue,removeListener:je},Mh=oe.extend({run:function(i,o,u,d){this.stop(),this._el=i,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=ci(i),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(i){var o=+new Date-this._startTime,u=this._duration*1e3;o<u?this._runFrame(this._easeOut(o/u),i):(this._runFrame(1),this._complete())},_runFrame:function(i,o){var u=this._startPos.add(this._offset.multiplyBy(i));o&&u._round(),qe(this._el,u),this.fire("step")},_complete:function(){D(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),xe=oe.extend({options:{crs:Be,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,o){o=k(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(te(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Mr&&ne.any3d&&!ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ue(this._proxy,Ch,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,o,u){if(o=o===void 0?this._zoom:this._limitZoom(o),i=this._limitCenter(te(i),o,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=a({animate:u.animate},u.zoom),u.pan=a({animate:u.animate,duration:u.duration},u.pan));var d=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,o,u.zoom):this._tryAnimatedPan(i,u.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(i,o,u.pan&&u.pan.noMoveStart),this},setZoom:function(i,o){return this._loaded?this.setView(this.getCenter(),i,{zoom:o}):(this._zoom=i,this)},zoomIn:function(i,o){return i=i||(ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,o)},zoomOut:function(i,o){return i=i||(ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,o)},setZoomAround:function(i,o,u){var d=this.getZoomScale(o),m=this.getSize().divideBy(2),y=i instanceof I?i:this.latLngToContainerPoint(i),E=y.subtract(m).multiplyBy(1-1/d),M=this.containerPointToLatLng(m.add(E));return this.setView(M,o,{zoom:u})},_getBoundsCenterZoom:function(i,o){o=o||{},i=i.getBounds?i.getBounds():re(i);var u=Z(o.paddingTopLeft||o.padding||[0,0]),d=Z(o.paddingBottomRight||o.padding||[0,0]),m=this.getBoundsZoom(i,!1,u.add(d));if(m=typeof o.maxZoom=="number"?Math.min(o.maxZoom,m):m,m===1/0)return{center:i.getCenter(),zoom:m};var y=d.subtract(u).divideBy(2),E=this.project(i.getSouthWest(),m),M=this.project(i.getNorthEast(),m),A=this.unproject(E.add(M).divideBy(2).add(y),m);return{center:A,zoom:m}},fitBounds:function(i,o){if(i=re(i),!i.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(i,o);return this.setView(u.center,u.zoom,o)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,o){return this.setView(i,this._zoom,{pan:o})},panBy:function(i,o){if(i=Z(i).round(),o=o||{},!i.x&&!i.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Mh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){de(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,u,o.duration||.25,o.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,o,u){if(u=u||{},u.animate===!1||!ne.any3d)return this.setView(i,o,u);this._stop();var d=this.project(this.getCenter()),m=this.project(i),y=this.getSize(),E=this._zoom;i=te(i),o=o===void 0?E:o;var M=Math.max(y.x,y.y),A=M*this.getZoomScale(E,o),$=m.distanceTo(d)||1,Q=1.42,se=Q*Q;function fe(Ge){var lo=Ge?-1:1,pv=Ge?A:M,mv=A*A-M*M+lo*se*se*$*$,gv=2*pv*se*$,ml=mv/gv,dd=Math.sqrt(ml*ml+1)-ml,_v=dd<1e-9?-18:Math.log(dd);return _v}function dt(Ge){return(Math.exp(Ge)-Math.exp(-Ge))/2}function Xe(Ge){return(Math.exp(Ge)+Math.exp(-Ge))/2}function Bt(Ge){return dt(Ge)/Xe(Ge)}var vt=fe(0);function Fi(Ge){return M*(Xe(vt)/Xe(vt+Q*Ge))}function cv(Ge){return M*(Xe(vt)*Bt(vt+Q*Ge)-dt(vt))/se}function hv(Ge){return 1-Math.pow(1-Ge,1.5)}var dv=Date.now(),cd=(fe(1)-vt)/Q,fv=u.duration?1e3*u.duration:1e3*cd*.8;function hd(){var Ge=(Date.now()-dv)/fv,lo=hv(Ge)*cd;Ge<=1?(this._flyToFrame=U(hd,this),this._move(this.unproject(d.add(m.subtract(d).multiplyBy(cv(lo)/$)),E),this.getScaleZoom(M/Fi(lo),E),{flyTo:!0})):this._move(i,o)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),hd.call(this),this},flyToBounds:function(i,o){var u=this._getBoundsCenterZoom(i,o);return this.flyTo(u.center,u.zoom,o)},setMaxBounds:function(i){return i=re(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var o=this.options.minZoom;return this.options.minZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var o=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&o!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,o){this._enforcingBounds=!0;var u=this.getCenter(),d=this._limitCenter(u,this._zoom,re(i));return u.equals(d)||this.panTo(d,o),this._enforcingBounds=!1,this},panInside:function(i,o){o=o||{};var u=Z(o.paddingTopLeft||o.padding||[0,0]),d=Z(o.paddingBottomRight||o.padding||[0,0]),m=this.project(this.getCenter()),y=this.project(i),E=this.getPixelBounds(),M=J([E.min.add(u),E.max.subtract(d)]),A=M.getSize();if(!M.contains(y)){this._enforcingBounds=!0;var $=y.subtract(M.getCenter()),Q=M.extend(y).getSize().subtract(A);m.x+=$.x<0?-Q.x:Q.x,m.y+=$.y<0?-Q.y:Q.y,this.panTo(this.unproject(m),o),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=a({animate:!1,pan:!0},i===!0?{animate:!0}:i);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),d=o.divideBy(2).round(),m=u.divideBy(2).round(),y=d.subtract(m);return!y.x&&!y.y?this:(i.animate&&i.pan?this.panBy(y):(i.pan&&this._rawPanBy(y),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=a({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,u,i):navigator.geolocation.getCurrentPosition(o,u,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var o=i.code,u=i.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var o=i.coords.latitude,u=i.coords.longitude,d=new ie(o,u),m=d.toBounds(i.coords.accuracy*2),y=this._locateOptions;if(y.setView){var E=this.getBoundsZoom(m);this.setView(d,y.maxZoom?Math.min(E,y.maxZoom):E)}var M={latlng:d,bounds:m,timestamp:i.timestamp};for(var A in i.coords)typeof i.coords[A]=="number"&&(M[A]=i.coords[A]);this.fire("locationfound",M)}},addHandler:function(i,o){if(!o)return this;var u=this[i]=new o(this);return this._handlers.push(u),this.options[i]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ie(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(D(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Ie(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,o){var u="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),d=ke("div",u,o||this._mapPane);return i&&(this._panes[i]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),o=this.unproject(i.getBottomLeft()),u=this.unproject(i.getTopRight());return new K(o,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,o,u){i=re(i),u=Z(u||[0,0]);var d=this.getZoom()||0,m=this.getMinZoom(),y=this.getMaxZoom(),E=i.getNorthWest(),M=i.getSouthEast(),A=this.getSize().subtract(u),$=J(this.project(M,d),this.project(E,d)).getSize(),Q=ne.any3d?this.options.zoomSnap:1,se=A.x/$.x,fe=A.y/$.y,dt=o?Math.max(se,fe):Math.min(se,fe);return d=this.getScaleZoom(dt,d),Q&&(d=Math.round(d/(Q/100))*(Q/100),d=o?Math.ceil(d/Q)*Q:Math.floor(d/Q)*Q),Math.max(m,Math.min(y,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,o){var u=this._getTopLeftPoint(i,o);return new G(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,o){var u=this.options.crs;return o=o===void 0?this._zoom:o,u.scale(i)/u.scale(o)},getScaleZoom:function(i,o){var u=this.options.crs;o=o===void 0?this._zoom:o;var d=u.zoom(i*u.scale(o));return isNaN(d)?1/0:d},project:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(te(i),o)},unproject:function(i,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(Z(i),o)},layerPointToLatLng:function(i){var o=Z(i).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(i){var o=this.project(te(i))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(te(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(re(i))},distance:function(i,o){return this.options.crs.distance(te(i),te(o))},containerPointToLayerPoint:function(i){return Z(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return Z(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var o=this.containerPointToLayerPoint(Z(i));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(te(i)))},mouseEventToContainerPoint:function(i){return Th(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var o=this._container=Lh(i);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ue(o,"scroll",this._onScroll,this),this._containerId=h(o)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&ne.any3d,de(i,"leaflet-container"+(ne.touch?" leaflet-touch":"")+(ne.retina?" leaflet-retina":"")+(ne.ielt9?" leaflet-oldie":"")+(ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=Or(i,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qe(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(de(i.markerPane,"leaflet-zoom-hide"),de(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,o,u){qe(this._mapPane,new I(0,0));var d=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var m=this._zoom!==o;this._moveStart(m,u)._move(i,o)._moveEnd(m),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(i,o){return i&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(i,o,u,d){o===void 0&&(o=this._zoom);var m=this._zoom!==o;return this._zoom=o,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),d?u&&u.pinch&&this.fire("zoom",u):((m||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return D(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){qe(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[h(this._container)]=this;var o=i?je:ue;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),ne.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){D(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,o){for(var u=[],d,m=o==="mouseout"||o==="mouseover",y=i.target||i.srcElement,E=!1;y;){if(d=this._targets[h(y)],d&&(o==="click"||o==="preclick")&&this._draggableMoved(d)){E=!0;break}if(d&&d.listens(o,!0)&&(m&&!rl(y,i)||(u.push(d),m))||y===this._container)break;y=y.parentNode}return!u.length&&!E&&!m&&this.listens(o,!0)&&(u=[this]),u},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var o=i.target||i.srcElement;if(!(!this._loaded||o._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(o))){var u=i.type;u==="mousedown"&&Ya(o),this._fireDOMEvent(i,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,o,u){if(i.type==="click"){var d=a({},i);d.type="preclick",this._fireDOMEvent(d,d.type,u)}var m=this._findEventTargets(i,o);if(u){for(var y=[],E=0;E<u.length;E++)u[E].listens(o,!0)&&y.push(u[E]);m=y.concat(m)}if(m.length){o==="contextmenu"&&rt(i);var M=m[0],A={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var $=M.getLatLng&&(!M._radius||M._radius<=10);A.containerPoint=$?this.latLngToContainerPoint(M.getLatLng()):this.mouseEventToContainerPoint(i),A.layerPoint=this.containerPointToLayerPoint(A.containerPoint),A.latlng=$?M.getLatLng():this.layerPointToLatLng(A.layerPoint)}for(E=0;E<m.length;E++)if(m[E].fire(o,A,!0),A.originalEvent._stopped||m[E].options.bubblingMouseEvents===!1&&O(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,o=this._handlers.length;i<o;i++)this._handlers[i].disable()},whenReady:function(i,o){return this._loaded?i.call(o||this,{target:this}):this.on("load",i,o),this},_getMapPanePos:function(){return ci(this._mapPane)||new I(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,o){var u=i&&o!==void 0?this._getNewPixelOrigin(i,o):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,o){var u=this.getSize()._divideBy(2);return this.project(i,o)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,o,u){var d=this._getNewPixelOrigin(u,o);return this.project(i,o)._subtract(d)},_latLngBoundsToNewLayerBounds:function(i,o,u){var d=this._getNewPixelOrigin(u,o);return J([this.project(i.getSouthWest(),o)._subtract(d),this.project(i.getNorthWest(),o)._subtract(d),this.project(i.getSouthEast(),o)._subtract(d),this.project(i.getNorthEast(),o)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,o,u){if(!u)return i;var d=this.project(i,o),m=this.getSize().divideBy(2),y=new G(d.subtract(m),d.add(m)),E=this._getBoundsOffset(y,u,o);return Math.abs(E.x)<=1&&Math.abs(E.y)<=1?i:this.unproject(d.add(E),o)},_limitOffset:function(i,o){if(!o)return i;var u=this.getPixelBounds(),d=new G(u.min.add(i),u.max.add(i));return i.add(this._getBoundsOffset(d,o))},_getBoundsOffset:function(i,o,u){var d=J(this.project(o.getNorthEast(),u),this.project(o.getSouthWest(),u)),m=d.min.subtract(i.min),y=d.max.subtract(i.max),E=this._rebound(m.x,-y.x),M=this._rebound(m.y,-y.y);return new I(E,M)},_rebound:function(i,o){return i+o>0?Math.round(i-o)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(o))},_limitZoom:function(i){var o=this.getMinZoom(),u=this.getMaxZoom(),d=ne.any3d?this.options.zoomSnap:1;return d&&(i=Math.round(i/d)*d),Math.max(o,Math.min(u,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ze(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,o){var u=this._getCenterOffset(i)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,o),!0)},_createAnimProxy:function(){var i=this._proxy=ke("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(o){var u=Wa,d=this._proxy.style[u];ui(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),d===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ie(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),o=this.getZoom();ui(this._proxy,this.project(i,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,o,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(o),m=this._getCenterOffset(i)._divideBy(1-1/d);return u.animate!==!0&&!this.getSize().contains(m)?!1:(U(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(i,o,!0)},this),!0)},_animateZoom:function(i,o,u,d){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=o,de(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:o,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ze(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function P_(i,o){return new xe(i,o)}var Gt=Y.extend({options:{position:"topright"},initialize:function(i){k(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var o=this._map;return o&&o.removeControl(this),this.options.position=i,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var o=this._container=this.onAdd(i),u=this.getPosition(),d=i._controlCorners[u];return de(o,"leaflet-control"),u.indexOf("bottom")!==-1?d.insertBefore(o,d.firstChild):d.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ie(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Dr=function(i){return new Gt(i)};xe.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},o="leaflet-",u=this._controlContainer=ke("div",o+"control-container",this._container);function d(m,y){var E=o+m+" "+o+y;i[m+y]=ke("div",E,u)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Ie(this._controlCorners[i]);Ie(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Oh=Gt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,o,u,d){return u<d?-1:d<u?1:0}},initialize:function(i,o,u){k(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in i)this._addLayer(i[d],d);for(d in o)this._addLayer(o[d],d,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Gt.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,o){return this._addLayer(i,o),this._map?this._update():this},addOverlay:function(i,o){return this._addLayer(i,o,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var o=this._getLayer(h(i));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){de(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(de(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Ze(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ze(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",o=this._container=ke("div",i),u=this.options.collapsed;o.setAttribute("aria-haspopup",!0),zr(o),il(o);var d=this._section=ke("section",i+"-list");u&&(this._map.on("click",this.collapse,this),ue(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=ke("a",i+"-toggle",o);m.href="#",m.title="Layers",m.setAttribute("role","button"),ue(m,{keydown:function(y){y.keyCode===13&&this._expandSafely()},click:function(y){rt(y),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=ke("div",i+"-base",d),this._separator=ke("div",i+"-separator",d),this._overlaysList=ke("div",i+"-overlays",d),o.appendChild(d)},_getLayer:function(i){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&h(this._layers[o].layer)===i)return this._layers[o]},_addLayer:function(i,o,u){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:o,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(d,m){return this.options.sortFunction(d.layer,m.layer,d.name,m.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Vs(this._baseLayersList),Vs(this._overlaysList),this._layerControlInputs=[];var i,o,u,d,m=0;for(u=0;u<this._layers.length;u++)d=this._layers[u],this._addItem(d),o=o||d.overlay,i=i||!d.overlay,m+=d.overlay?0:1;return this.options.hideSingleBase&&(i=i&&m>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=o&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var o=this._getLayer(h(i.target)),u=o.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;u&&this._map.fire(u,o)},_createRadioElement:function(i,o){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(o?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=u,d.firstChild},_addItem:function(i){var o=document.createElement("label"),u=this._map.hasLayer(i.layer),d;i.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=u):d=this._createRadioElement("leaflet-base-layers_"+h(this),u),this._layerControlInputs.push(d),d.layerId=h(i.layer),ue(d,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+i.name;var y=document.createElement("span");o.appendChild(y),y.appendChild(d),y.appendChild(m);var E=i.overlay?this._overlaysList:this._baseLayersList;return E.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,o,u,d=[],m=[];this._handlingClick=!0;for(var y=i.length-1;y>=0;y--)o=i[y],u=this._getLayer(o.layerId).layer,o.checked?d.push(u):o.checked||m.push(u);for(y=0;y<m.length;y++)this._map.hasLayer(m[y])&&this._map.removeLayer(m[y]);for(y=0;y<d.length;y++)this._map.hasLayer(d[y])||this._map.addLayer(d[y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,o,u,d=this._map.getZoom(),m=i.length-1;m>=0;m--)o=i[m],u=this._getLayer(o.layerId).layer,o.disabled=u.options.minZoom!==void 0&&d<u.options.minZoom||u.options.maxZoom!==void 0&&d>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,ue(i,"click",rt),this.expand();var o=this;setTimeout(function(){je(i,"click",rt),o._preventClick=!1})}}),E_=function(i,o,u){return new Oh(i,o,u)},sl=Gt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var o="leaflet-control-zoom",u=ke("div",o+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,o+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,o+"-out",u,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,o,u,d,m){var y=ke("a",u,d);return y.innerHTML=i,y.href="#",y.title=o,y.setAttribute("role","button"),y.setAttribute("aria-label",o),zr(y),ue(y,"click",di),ue(y,"click",m,this),ue(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var i=this._map,o="leaflet-disabled";Ze(this._zoomInButton,o),Ze(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(de(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(de(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});xe.mergeOptions({zoomControl:!0}),xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new sl,this.addControl(this.zoomControl))});var j_=function(i){return new sl(i)},Ah=Gt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var o="leaflet-control-scale",u=ke("div",o),d=this.options;return this._addScales(d,o+"-line",u),i.on(d.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),u},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,o,u){i.metric&&(this._mScale=ke("div",o,u)),i.imperial&&(this._iScale=ke("div",o,u))},_update:function(){var i=this._map,o=i.getSize().y/2,u=i.distance(i.containerPointToLatLng([0,o]),i.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(u)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var o=this._getRoundNum(i),u=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,u,o/i)},_updateImperial:function(i){var o=i*3.2808399,u,d,m;o>5280?(u=o/5280,d=this._getRoundNum(u),this._updateScale(this._iScale,d+" mi",d/u)):(m=this._getRoundNum(o),this._updateScale(this._iScale,m+" ft",m/o))},_updateScale:function(i,o,u){i.style.width=Math.round(this.options.maxWidth*u)+"px",i.innerHTML=o},_getRoundNum:function(i){var o=Math.pow(10,(Math.floor(i)+"").length-1),u=i/o;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,o*u}}),T_=function(i){return new Ah(i)},N_='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ol=Gt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ne.inlineSvg?N_+" ":"")+"Leaflet</a>"},initialize:function(i){k(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ke("div","leaflet-control-attribution"),zr(this._container);for(var o in i._layers)i._layers[o].getAttribution&&this.addAttribution(i._layers[o].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var o in this._attributions)this._attributions[o]&&i.push(o);var u=[];this.options.prefix&&u.push(this.options.prefix),i.length&&u.push(i.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});xe.mergeOptions({attributionControl:!0}),xe.addInitHook(function(){this.options.attributionControl&&new ol().addTo(this)});var M_=function(i){return new ol(i)};Gt.Layers=Oh,Gt.Zoom=sl,Gt.Scale=Ah,Gt.Attribution=ol,Dr.layers=E_,Dr.zoom=j_,Dr.scale=T_,Dr.attribution=M_;var un=Y.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});un.addTo=function(i,o){return i.addHandler(o,this),this};var O_={Events:ye},Ih=ne.touch?"touchstart mousedown":"mousedown",zn=oe.extend({options:{clickTolerance:3},initialize:function(i,o,u,d){k(this,d),this._element=i,this._dragStartTarget=o||i,this._preventOutline=u},enable:function(){this._enabled||(ue(this._dragStartTarget,Ih,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(zn._dragging===this&&this.finishDrag(!0),je(this._dragStartTarget,Ih,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Va(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){zn._dragging===this&&this.finishDrag();return}if(!(zn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(zn._dragging=this,this._preventOutline&&Ya(this._element),Ka(),Ar(),!this._moving)){this.fire("down");var o=i.touches?i.touches[0]:i,u=Ph(this._element);this._startPoint=new I(o.clientX,o.clientY),this._startPos=ci(this._element),this._parentScale=Xa(u);var d=i.type==="mousedown";ue(document,d?"mousemove":"touchmove",this._onMove,this),ue(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var o=i.touches&&i.touches.length===1?i.touches[0]:i,u=new I(o.clientX,o.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,rt(i),this._moved||(this.fire("dragstart"),this._moved=!0,de(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),de(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),qe(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Ze(document.body,"leaflet-dragging"),this._lastTarget&&(Ze(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),je(document,"mousemove touchmove",this._onMove,this),je(document,"mouseup touchend touchcancel",this._onUp,this),Ja(),Ir();var o=this._moved&&this._moving;this._moving=!1,zn._dragging=!1,o&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Rh(i,o,u){var d,m=[1,4,2,8],y,E,M,A,$,Q,se,fe;for(y=0,Q=i.length;y<Q;y++)i[y]._code=fi(i[y],o);for(M=0;M<4;M++){for(se=m[M],d=[],y=0,Q=i.length,E=Q-1;y<Q;E=y++)A=i[y],$=i[E],A._code&se?$._code&se||(fe=Qs($,A,se,o,u),fe._code=fi(fe,o),d.push(fe)):($._code&se&&(fe=Qs($,A,se,o,u),fe._code=fi(fe,o),d.push(fe)),d.push(A));i=d}return i}function zh(i,o){var u,d,m,y,E,M,A,$,Q;if(!i||i.length===0)throw new Error("latlngs not passed");Dt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var se=te([0,0]),fe=re(i),dt=fe.getNorthWest().distanceTo(fe.getSouthWest())*fe.getNorthEast().distanceTo(fe.getNorthWest());dt<1700&&(se=al(i));var Xe=i.length,Bt=[];for(u=0;u<Xe;u++){var vt=te(i[u]);Bt.push(o.project(te([vt.lat-se.lat,vt.lng-se.lng])))}for(M=A=$=0,u=0,d=Xe-1;u<Xe;d=u++)m=Bt[u],y=Bt[d],E=m.y*y.x-y.y*m.x,A+=(m.x+y.x)*E,$+=(m.y+y.y)*E,M+=E*3;M===0?Q=Bt[0]:Q=[A/M,$/M];var Fi=o.unproject(Z(Q));return te([Fi.lat+se.lat,Fi.lng+se.lng])}function al(i){for(var o=0,u=0,d=0,m=0;m<i.length;m++){var y=te(i[m]);o+=y.lat,u+=y.lng,d++}return te([o/d,u/d])}var A_={__proto__:null,clipPolygon:Rh,polygonCenter:zh,centroid:al};function Dh(i,o){if(!o||!i.length)return i.slice();var u=o*o;return i=z_(i,u),i=R_(i,u),i}function Bh(i,o,u){return Math.sqrt(Br(i,o,u,!0))}function I_(i,o,u){return Br(i,o,u)}function R_(i,o){var u=i.length,d=typeof Uint8Array<"u"?Uint8Array:Array,m=new d(u);m[0]=m[u-1]=1,ll(i,m,o,0,u-1);var y,E=[];for(y=0;y<u;y++)m[y]&&E.push(i[y]);return E}function ll(i,o,u,d,m){var y=0,E,M,A;for(M=d+1;M<=m-1;M++)A=Br(i[M],i[d],i[m],!0),A>y&&(E=M,y=A);y>u&&(o[E]=1,ll(i,o,u,d,E),ll(i,o,u,E,m))}function z_(i,o){for(var u=[i[0]],d=1,m=0,y=i.length;d<y;d++)D_(i[d],i[m])>o&&(u.push(i[d]),m=d);return m<y-1&&u.push(i[y-1]),u}var Uh;function Fh(i,o,u,d,m){var y=d?Uh:fi(i,u),E=fi(o,u),M,A,$;for(Uh=E;;){if(!(y|E))return[i,o];if(y&E)return!1;M=y||E,A=Qs(i,o,M,u,m),$=fi(A,u),M===y?(i=A,y=$):(o=A,E=$)}}function Qs(i,o,u,d,m){var y=o.x-i.x,E=o.y-i.y,M=d.min,A=d.max,$,Q;return u&8?($=i.x+y*(A.y-i.y)/E,Q=A.y):u&4?($=i.x+y*(M.y-i.y)/E,Q=M.y):u&2?($=A.x,Q=i.y+E*(A.x-i.x)/y):u&1&&($=M.x,Q=i.y+E*(M.x-i.x)/y),new I($,Q,m)}function fi(i,o){var u=0;return i.x<o.min.x?u|=1:i.x>o.max.x&&(u|=2),i.y<o.min.y?u|=4:i.y>o.max.y&&(u|=8),u}function D_(i,o){var u=o.x-i.x,d=o.y-i.y;return u*u+d*d}function Br(i,o,u,d){var m=o.x,y=o.y,E=u.x-m,M=u.y-y,A=E*E+M*M,$;return A>0&&($=((i.x-m)*E+(i.y-y)*M)/A,$>1?(m=u.x,y=u.y):$>0&&(m+=E*$,y+=M*$)),E=i.x-m,M=i.y-y,d?E*E+M*M:new I(m,y)}function Dt(i){return!C(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function $h(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dt(i)}function Zh(i,o){var u,d,m,y,E,M,A,$;if(!i||i.length===0)throw new Error("latlngs not passed");Dt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Q=te([0,0]),se=re(i),fe=se.getNorthWest().distanceTo(se.getSouthWest())*se.getNorthEast().distanceTo(se.getNorthWest());fe<1700&&(Q=al(i));var dt=i.length,Xe=[];for(u=0;u<dt;u++){var Bt=te(i[u]);Xe.push(o.project(te([Bt.lat-Q.lat,Bt.lng-Q.lng])))}for(u=0,d=0;u<dt-1;u++)d+=Xe[u].distanceTo(Xe[u+1])/2;if(d===0)$=Xe[0];else for(u=0,y=0;u<dt-1;u++)if(E=Xe[u],M=Xe[u+1],m=E.distanceTo(M),y+=m,y>d){A=(y-d)/m,$=[M.x-A*(M.x-E.x),M.y-A*(M.y-E.y)];break}var vt=o.unproject(Z($));return te([vt.lat+Q.lat,vt.lng+Q.lng])}var B_={__proto__:null,simplify:Dh,pointToSegmentDistance:Bh,closestPointOnSegment:I_,clipSegment:Fh,_getEdgeIntersection:Qs,_getBitCode:fi,_sqClosestPointOnSegment:Br,isFlat:Dt,_flat:$h,polylineCenter:Zh},ul={project:function(i){return new I(i.lng,i.lat)},unproject:function(i){return new ie(i.y,i.x)},bounds:new G([-180,-90],[180,90])},cl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new G([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var o=Math.PI/180,u=this.R,d=i.lat*o,m=this.R_MINOR/u,y=Math.sqrt(1-m*m),E=y*Math.sin(d),M=Math.tan(Math.PI/4-d/2)/Math.pow((1-E)/(1+E),y/2);return d=-u*Math.log(Math.max(M,1e-10)),new I(i.lng*o*u,d)},unproject:function(i){for(var o=180/Math.PI,u=this.R,d=this.R_MINOR/u,m=Math.sqrt(1-d*d),y=Math.exp(-i.y/u),E=Math.PI/2-2*Math.atan(y),M=0,A=.1,$;M<15&&Math.abs(A)>1e-7;M++)$=m*Math.sin(E),$=Math.pow((1-$)/(1+$),m/2),A=Math.PI/2-2*Math.atan(y*$)-E,E+=A;return new ie(E*o,i.x*o/u)}},U_={__proto__:null,LonLat:ul,Mercator:cl,SphericalMercator:ee},F_=a({},le,{code:"EPSG:3395",projection:cl,transformation:function(){var i=.5/(Math.PI*cl.R);return ae(i,.5,-i,.5)}()}),Hh=a({},le,{code:"EPSG:4326",projection:ul,transformation:ae(1/180,1,-1/180,.5)}),$_=a({},Se,{projection:ul,transformation:ae(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,o){var u=o.lng-i.lng,d=o.lat-i.lat;return Math.sqrt(u*u+d*d)},infinite:!0});Se.Earth=le,Se.EPSG3395=F_,Se.EPSG3857=Be,Se.EPSG900913=Pe,Se.EPSG4326=Hh,Se.Simple=$_;var Kt=oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[h(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[h(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var o=i.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var u=this.getEvents();o.on(u,this),this.once("remove",function(){o.off(u,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});xe.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var o=h(i);return this._layers[o]?this:(this._layers[o]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var o=h(i);return this._layers[o]?(this._loaded&&i.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return h(i)in this._layers},eachLayer:function(i,o){for(var u in this._layers)i.call(o,this._layers[u]);return this},_addLayers:function(i){i=i?C(i)?i:[i]:[];for(var o=0,u=i.length;o<u;o++)this.addLayer(i[o])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[h(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var o=h(i);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,o=-1/0,u=this._getZoomSpan();for(var d in this._zoomBoundLayers){var m=this._zoomBoundLayers[d].options;i=m.minZoom===void 0?i:Math.min(i,m.minZoom),o=m.maxZoom===void 0?o:Math.max(o,m.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=i===1/0?void 0:i,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ri=Kt.extend({initialize:function(i,o){k(this,o),this._layers={};var u,d;if(i)for(u=0,d=i.length;u<d;u++)this.addLayer(i[u])},addLayer:function(i){var o=this.getLayerId(i);return this._layers[o]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var o=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(i){var o=typeof i=="number"?i:this.getLayerId(i);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var o=Array.prototype.slice.call(arguments,1),u,d;for(u in this._layers)d=this._layers[u],d[i]&&d[i].apply(d,o);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,o){for(var u in this._layers)i.call(o,this._layers[u]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return h(i)}}),Z_=function(i,o){return new Ri(i,o)},vn=Ri.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Ri.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Ri.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new K;for(var o in this._layers){var u=this._layers[o];i.extend(u.getBounds?u.getBounds():u.getLatLng())}return i}}),H_=function(i,o){return new vn(i,o)},zi=Y.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){k(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,o){var u=this._getIconUrl(i);if(!u){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(u,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(d,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(i,o){var u=this.options,d=u[o+"Size"];typeof d=="number"&&(d=[d,d]);var m=Z(d),y=Z(o==="shadow"&&u.shadowAnchor||u.iconAnchor||m&&m.divideBy(2,!0));i.className="leaflet-marker-"+o+" "+(u.className||""),y&&(i.style.marginLeft=-y.x+"px",i.style.marginTop=-y.y+"px"),m&&(i.style.width=m.x+"px",i.style.height=m.y+"px")},_createImg:function(i,o){return o=o||document.createElement("img"),o.src=i,o},_getIconUrl:function(i){return ne.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function W_(i){return new zi(i)}var Ur=zi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Ur.imagePath!="string"&&(Ur.imagePath=this._detectIconPath()),(this.options.imagePath||Ur.imagePath)+zi.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var o=function(u,d,m){var y=d.exec(u);return y&&y[m]};return i=o(i,/^url\((['"])?(.+)\1\)$/,2),i&&o(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ke("div","leaflet-default-icon-path",document.body),o=Or(i,"background-image")||Or(i,"backgroundImage");if(document.body.removeChild(i),o=this._stripUrl(o),o)return o;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Wh=un.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new zn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),de(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ze(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var o=this._marker,u=o._map,d=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,y=ci(o._icon),E=u.getPixelBounds(),M=u.getPixelOrigin(),A=J(E.min._subtract(M).add(m),E.max._subtract(M).subtract(m));if(!A.contains(y)){var $=Z((Math.max(A.max.x,y.x)-A.max.x)/(E.max.x-A.max.x)-(Math.min(A.min.x,y.x)-A.min.x)/(E.min.x-A.min.x),(Math.max(A.max.y,y.y)-A.max.y)/(E.max.y-A.max.y)-(Math.min(A.min.y,y.y)-A.min.y)/(E.min.y-A.min.y)).multiplyBy(d);u.panBy($,{animate:!1}),this._draggable._newPos._add($),this._draggable._startPos._add($),qe(o._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=U(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(D(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,i)))},_onDrag:function(i){var o=this._marker,u=o._shadow,d=ci(o._icon),m=o._map.layerPointToLatLng(d);u&&qe(u,d),o._latlng=m,i.latlng=m,i.oldLatLng=this._oldLatLng,o.fire("move",i).fire("drag",i)},_onDragEnd:function(i){D(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Ys=Kt.extend({options:{icon:new Ur,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,o){k(this,o),this._latlng=te(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var o=this._latlng;return this._latlng=te(i),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=i.icon.createIcon(this._icon),d=!1;u!==this._icon&&(this._icon&&this._removeIcon(),d=!0,i.title&&(u.title=i.title),u.tagName==="IMG"&&(u.alt=i.alt||"")),de(u,o),i.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(u,"focus",this._panOnFocus,this);var m=i.icon.createShadow(this._shadow),y=!1;m!==this._shadow&&(this._removeShadow(),y=!0),m&&(de(m,o),m.alt=""),this._shadow=m,i.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&y&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&je(this._icon,"focus",this._panOnFocus,this),Ie(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ie(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&qe(this._icon,i),this._shadow&&qe(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(de(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Wh)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Wh(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&zt(this._icon,i),this._shadow&&zt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var o=this.options.icon.options,u=o.iconSize?Z(o.iconSize):Z(0,0),d=o.iconAnchor?Z(o.iconAnchor):Z(0,0);i.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:u.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function V_(i,o){return new Ys(i,o)}var Dn=Kt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return k(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Xs=Dn.extend({options:{fill:!0,radius:10},initialize:function(i,o){k(this,o),this._latlng=te(i),this._radius=this.options.radius},setLatLng:function(i){var o=this._latlng;return this._latlng=te(i),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var o=i&&i.radius||this._radius;return Dn.prototype.setStyle.call(this,i),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,o=this._radiusY||i,u=this._clickTolerance(),d=[i+u,o+u];this._pxBounds=new G(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function q_(i,o){return new Xs(i,o)}var hl=Xs.extend({initialize:function(i,o,u){if(typeof o=="number"&&(o=a({},u,{radius:o})),k(this,o),this._latlng=te(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new K(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Dn.prototype.setStyle,_project:function(){var i=this._latlng.lng,o=this._latlng.lat,u=this._map,d=u.options.crs;if(d.distance===le.distance){var m=Math.PI/180,y=this._mRadius/le.R/m,E=u.project([o+y,i]),M=u.project([o-y,i]),A=E.add(M).divideBy(2),$=u.unproject(A).lat,Q=Math.acos((Math.cos(y*m)-Math.sin(o*m)*Math.sin($*m))/(Math.cos(o*m)*Math.cos($*m)))/m;(isNaN(Q)||Q===0)&&(Q=y/Math.cos(Math.PI/180*o)),this._point=A.subtract(u.getPixelOrigin()),this._radius=isNaN(Q)?0:A.x-u.project([$,i-Q]).x,this._radiusY=A.y-E.y}else{var se=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(se).x}this._updateBounds()}});function G_(i,o,u){return new hl(i,o,u)}var yn=Dn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,o){k(this,o),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var o=1/0,u=null,d=Br,m,y,E=0,M=this._parts.length;E<M;E++)for(var A=this._parts[E],$=1,Q=A.length;$<Q;$++){m=A[$-1],y=A[$];var se=d(i,m,y,!0);se<o&&(o=se,u=d(i,m,y))}return u&&(u.distance=Math.sqrt(o)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,o){return o=o||this._defaultShape(),i=te(i),o.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new K,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Dt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var o=[],u=Dt(i),d=0,m=i.length;d<m;d++)u?(o[d]=te(i[d]),this._bounds.extend(o[d])):o[d]=this._convertLatLngs(i[d]);return o},_project:function(){var i=new G;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),o=new I(i,i);this._rawPxBounds&&(this._pxBounds=new G([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(i,o,u){var d=i[0]instanceof ie,m=i.length,y,E;if(d){for(E=[],y=0;y<m;y++)E[y]=this._map.latLngToLayerPoint(i[y]),u.extend(E[y]);o.push(E)}else for(y=0;y<m;y++)this._projectLatlngs(i[y],o,u)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,u,d,m,y,E,M,A;for(u=0,m=0,y=this._rings.length;u<y;u++)for(A=this._rings[u],d=0,E=A.length;d<E-1;d++)M=Fh(A[d],A[d+1],i,d,!0),M&&(o[m]=o[m]||[],o[m].push(M[0]),(M[1]!==A[d+1]||d===E-2)&&(o[m].push(M[1]),m++))}},_simplifyPoints:function(){for(var i=this._parts,o=this.options.smoothFactor,u=0,d=i.length;u<d;u++)i[u]=Dh(i[u],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,o){var u,d,m,y,E,M,A=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(u=0,y=this._parts.length;u<y;u++)for(M=this._parts[u],d=0,E=M.length,m=E-1;d<E;m=d++)if(!(!o&&d===0)&&Bh(i,M[m],M[d])<=A)return!0;return!1}});function K_(i,o){return new yn(i,o)}yn._flat=$h;var Di=yn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var o=yn.prototype._convertLatLngs.call(this,i),u=o.length;return u>=2&&o[0]instanceof ie&&o[0].equals(o[u-1])&&o.pop(),o},_setLatLngs:function(i){yn.prototype._setLatLngs.call(this,i),Dt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,o=this.options.weight,u=new I(o,o);if(i=new G(i.min.subtract(u),i.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,m=this._rings.length,y;d<m;d++)y=Rh(this._rings[d],i,!0),y.length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var o=!1,u,d,m,y,E,M,A,$;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(y=0,A=this._parts.length;y<A;y++)for(u=this._parts[y],E=0,$=u.length,M=$-1;E<$;M=E++)d=u[E],m=u[M],d.y>i.y!=m.y>i.y&&i.x<(m.x-d.x)*(i.y-d.y)/(m.y-d.y)+d.x&&(o=!o);return o||yn.prototype._containsPoint.call(this,i,!0)}});function J_(i,o){return new Di(i,o)}var xn=vn.extend({initialize:function(i,o){k(this,o),this._layers={},i&&this.addData(i)},addData:function(i){var o=C(i)?i:i.features,u,d,m;if(o){for(u=0,d=o.length;u<d;u++)m=o[u],(m.geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var y=this.options;if(y.filter&&!y.filter(i))return this;var E=eo(i,y);return E?(E.feature=io(i),E.defaultOptions=E.options,this.resetStyle(E),y.onEachFeature&&y.onEachFeature(i,E),this.addLayer(E)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=a({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(o){this._setLayerStyle(o,i)},this)},_setLayerStyle:function(i,o){i.setStyle&&(typeof o=="function"&&(o=o(i.feature)),i.setStyle(o))}});function eo(i,o){var u=i.type==="Feature"?i.geometry:i,d=u?u.coordinates:null,m=[],y=o&&o.pointToLayer,E=o&&o.coordsToLatLng||dl,M,A,$,Q;if(!d&&!u)return null;switch(u.type){case"Point":return M=E(d),Vh(y,i,M,o);case"MultiPoint":for($=0,Q=d.length;$<Q;$++)M=E(d[$]),m.push(Vh(y,i,M,o));return new vn(m);case"LineString":case"MultiLineString":return A=to(d,u.type==="LineString"?0:1,E),new yn(A,o);case"Polygon":case"MultiPolygon":return A=to(d,u.type==="Polygon"?1:2,E),new Di(A,o);case"GeometryCollection":for($=0,Q=u.geometries.length;$<Q;$++){var se=eo({geometry:u.geometries[$],type:"Feature",properties:i.properties},o);se&&m.push(se)}return new vn(m);case"FeatureCollection":for($=0,Q=u.features.length;$<Q;$++){var fe=eo(u.features[$],o);fe&&m.push(fe)}return new vn(m);default:throw new Error("Invalid GeoJSON object.")}}function Vh(i,o,u,d){return i?i(o,u):new Ys(u,d&&d.markersInheritOptions&&d)}function dl(i){return new ie(i[1],i[0],i[2])}function to(i,o,u){for(var d=[],m=0,y=i.length,E;m<y;m++)E=o?to(i[m],o-1,u):(u||dl)(i[m]),d.push(E);return d}function fl(i,o){return i=te(i),i.alt!==void 0?[v(i.lng,o),v(i.lat,o),v(i.alt,o)]:[v(i.lng,o),v(i.lat,o)]}function no(i,o,u,d){for(var m=[],y=0,E=i.length;y<E;y++)m.push(o?no(i[y],Dt(i[y])?0:o-1,u,d):fl(i[y],d));return!o&&u&&m.length>0&&m.push(m[0].slice()),m}function Bi(i,o){return i.feature?a({},i.feature,{geometry:o}):io(o)}function io(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var pl={toGeoJSON:function(i){return Bi(this,{type:"Point",coordinates:fl(this.getLatLng(),i)})}};Ys.include(pl),hl.include(pl),Xs.include(pl),yn.include({toGeoJSON:function(i){var o=!Dt(this._latlngs),u=no(this._latlngs,o?1:0,!1,i);return Bi(this,{type:(o?"Multi":"")+"LineString",coordinates:u})}}),Di.include({toGeoJSON:function(i){var o=!Dt(this._latlngs),u=o&&!Dt(this._latlngs[0]),d=no(this._latlngs,u?2:o?1:0,!0,i);return o||(d=[d]),Bi(this,{type:(u?"Multi":"")+"Polygon",coordinates:d})}}),Ri.include({toMultiPoint:function(i){var o=[];return this.eachLayer(function(u){o.push(u.toGeoJSON(i).geometry.coordinates)}),Bi(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(i){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(i);var u=o==="GeometryCollection",d=[];return this.eachLayer(function(m){if(m.toGeoJSON){var y=m.toGeoJSON(i);if(u)d.push(y.geometry);else{var E=io(y);E.type==="FeatureCollection"?d.push.apply(d,E.features):d.push(E)}}}),u?Bi(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function qh(i,o){return new xn(i,o)}var Q_=qh,ro=Kt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,o,u){this._url=i,this._bounds=re(o),k(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(de(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ie(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Ai(this._image),this},bringToBack:function(){return this._map&&Ii(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=re(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",o=this._image=i?this._url:ke("img");if(de(o,"leaflet-image-layer"),this._zoomAnimated&&de(o,"leaflet-zoom-animated"),this.options.className&&de(o,this.options.className),o.onselectstart=_,o.onmousemove=_,o.onload=l(this.fire,this,"load"),o.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(i){var o=this._map.getZoomScale(i.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;ui(this._image,u,o)},_reset:function(){var i=this._image,o=new G(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=o.getSize();qe(i,o.min),i.style.width=u.x+"px",i.style.height=u.y+"px"},_updateOpacity:function(){zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Y_=function(i,o,u){return new ro(i,o,u)},Gh=ro.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",o=this._image=i?this._url:ke("video");if(de(o,"leaflet-image-layer"),this._zoomAnimated&&de(o,"leaflet-zoom-animated"),this.options.className&&de(o,this.options.className),o.onselectstart=_,o.onmousemove=_,o.onloadeddata=l(this.fire,this,"load"),i){for(var u=o.getElementsByTagName("source"),d=[],m=0;m<u.length;m++)d.push(u[m].src);this._url=u.length>0?d:[o.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var E=ke("source");E.src=this._url[y],o.appendChild(E)}}});function X_(i,o,u){return new Gh(i,o,u)}var Kh=ro.extend({_initImage:function(){var i=this._image=this._url;de(i,"leaflet-image-layer"),this._zoomAnimated&&de(i,"leaflet-zoom-animated"),this.options.className&&de(i,this.options.className),i.onselectstart=_,i.onmousemove=_}});function ev(i,o,u){return new Kh(i,o,u)}var cn=Kt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,o){i&&(i instanceof ie||C(i))?(this._latlng=te(i),k(this,o)):(k(this,i),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&zt(this._container,1),this.bringToFront(),this.options.interactive&&(de(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(zt(this._container,0),this._removeTimeout=setTimeout(l(Ie,void 0,this._container),200)):Ie(this._container),this.options.interactive&&(Ze(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=te(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ai(this._container),this},bringToBack:function(){return this._map&&Ii(this._container),this},_prepareOpen:function(i){var o=this._source;if(!o._map)return!1;if(o instanceof vn){o=null;var u=this._source._layers;for(var d in u)if(u[d]._map){o=u[d];break}if(!o)return!1;this._source=o}if(!i)if(o.getCenter)i=o.getCenter();else if(o.getLatLng)i=o.getLatLng();else if(o.getBounds)i=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")i.innerHTML=o;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),o=Z(this.options.offset),u=this._getAnchor();this._zoomAnimated?qe(this._container,i.add(u)):o=o.add(i).add(u);var d=this._containerBottom=-o.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=d+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});xe.include({_initOverlay:function(i,o,u,d){var m=o;return m instanceof i||(m=new i(d).setContent(o)),u&&m.setLatLng(u),m}}),Kt.include({_initOverlay:function(i,o,u,d){var m=u;return m instanceof i?(k(m,d),m._source=this):(m=o&&!d?o:new i(d,this),m.setContent(u)),m}});var so=cn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,cn.prototype.openOn.call(this,i)},onAdd:function(i){cn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Dn||this._source.on("preclick",hi))},onRemove:function(i){cn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Dn||this._source.off("preclick",hi))},getEvents:function(){var i=cn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",o=this._container=ke("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=ke("div",i+"-content-wrapper",o);if(this._contentNode=ke("div",i+"-content",u),zr(o),il(this._contentNode),ue(o,"contextmenu",hi),this._tipContainer=ke("div",i+"-tip-container",o),this._tip=ke("div",i+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=ke("a",i+"-close-button",o);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',ue(d,"click",function(m){rt(m),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,o=i.style;o.width="",o.whiteSpace="nowrap";var u=i.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),o.width=u+1+"px",o.whiteSpace="",o.height="";var d=i.offsetHeight,m=this.options.maxHeight,y="leaflet-popup-scrolled";m&&d>m?(o.height=m+"px",de(i,y)):Ze(i,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),u=this._getAnchor();qe(this._container,o.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,o=parseInt(Or(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+o,d=this._containerWidth,m=new I(this._containerLeft,-u-this._containerBottom);m._add(ci(this._container));var y=i.layerPointToContainerPoint(m),E=Z(this.options.autoPanPadding),M=Z(this.options.autoPanPaddingTopLeft||E),A=Z(this.options.autoPanPaddingBottomRight||E),$=i.getSize(),Q=0,se=0;y.x+d+A.x>$.x&&(Q=y.x+d-$.x+A.x),y.x-Q-M.x<0&&(Q=y.x-M.x),y.y+u+A.y>$.y&&(se=y.y+u-$.y+A.y),y.y-se-M.y<0&&(se=y.y-M.y),(Q||se)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Q,se]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),tv=function(i,o){return new so(i,o)};xe.mergeOptions({closePopupOnClick:!0}),xe.include({openPopup:function(i,o,u){return this._initOverlay(so,i,o,u).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Kt.include({bindPopup:function(i,o){return this._popup=this._initOverlay(so,this._popup,i,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof vn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){di(i);var o=i.layer||i.target;if(this._popup._source===o&&!(o instanceof Dn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=o,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var oo=cn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){cn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){cn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=cn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",o=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ke("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var o,u,d=this._map,m=this._container,y=d.latLngToContainerPoint(d.getCenter()),E=d.layerPointToContainerPoint(i),M=this.options.direction,A=m.offsetWidth,$=m.offsetHeight,Q=Z(this.options.offset),se=this._getAnchor();M==="top"?(o=A/2,u=$):M==="bottom"?(o=A/2,u=0):M==="center"?(o=A/2,u=$/2):M==="right"?(o=0,u=$/2):M==="left"?(o=A,u=$/2):E.x<y.x?(M="right",o=0,u=$/2):(M="left",o=A+(Q.x+se.x)*2,u=$/2),i=i.subtract(Z(o,u,!0)).add(Q).add(se),Ze(m,"leaflet-tooltip-right"),Ze(m,"leaflet-tooltip-left"),Ze(m,"leaflet-tooltip-top"),Ze(m,"leaflet-tooltip-bottom"),de(m,"leaflet-tooltip-"+M),qe(m,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&zt(this._container,i)},_animateZoom:function(i){var o=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(o)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),nv=function(i,o){return new oo(i,o)};xe.include({openTooltip:function(i,o,u){return this._initOverlay(oo,i,o,u).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Kt.include({bindTooltip:function(i,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(oo,this._tooltip,i,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var o=i?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[o](u),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof vn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var o=typeof i.getElement=="function"&&i.getElement();o&&(ue(o,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),ue(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var o=typeof i.getElement=="function"&&i.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var o=i.latlng,u,d;this._tooltip.options.sticky&&i.originalEvent&&(u=this._map.mouseEventToContainerPoint(i.originalEvent),d=this._map.containerPointToLayerPoint(u),o=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(o)}});var Jh=zi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var o=i&&i.tagName==="DIV"?i:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Vs(o),o.appendChild(u.html)):o.innerHTML=u.html!==!1?u.html:"",u.bgPos){var d=Z(u.bgPos);o.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function iv(i){return new Jh(i)}zi.Default=Ur;var Fr=Kt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){k(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Ie(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ai(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ii(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof I?i:new I(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var o=this.getPane().children,u=-i(-1/0,1/0),d=0,m=o.length,y;d<m;d++)y=o[d].style.zIndex,o[d]!==this._container&&y&&(u=i(u,+y));isFinite(u)&&(this.options.zIndex=u+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ne.ielt9){zt(this._container,this.options.opacity);var i=+new Date,o=!1,u=!1;for(var d in this._tiles){var m=this._tiles[d];if(!(!m.current||!m.loaded)){var y=Math.min(1,(i-m.loaded)/200);zt(m.el,y),y<1?o=!0:(m.active?u=!0:this._onOpaqueTile(m),m.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),o&&(D(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=ke("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,o=this.options.maxZoom;if(i!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===i?(this._levels[u].el.style.zIndex=o-Math.abs(i-u),this._onUpdateLevel(u)):(Ie(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var d=this._levels[i],m=this._map;return d||(d=this._levels[i]={},d.el=ke("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=o,d.origin=m.project(m.unproject(m.getPixelOrigin()),i).round(),d.zoom=i,this._setZoomTransform(d,m.getCenter(),m.getZoom()),_(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var i,o,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)o=this._tiles[i],o.retain=o.current;for(i in this._tiles)if(o=this._tiles[i],o.current&&!o.active){var d=o.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var o in this._tiles)this._tiles[o].coords.z===i&&this._removeTile(o)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Ie(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,o,u,d){var m=Math.floor(i/2),y=Math.floor(o/2),E=u-1,M=new I(+m,+y);M.z=+E;var A=this._tileCoordsToKey(M),$=this._tiles[A];return $&&$.active?($.retain=!0,!0):($&&$.loaded&&($.retain=!0),E>d?this._retainParent(m,y,E,d):!1)},_retainChildren:function(i,o,u,d){for(var m=2*i;m<2*i+2;m++)for(var y=2*o;y<2*o+2;y++){var E=new I(m,y);E.z=u+1;var M=this._tileCoordsToKey(E),A=this._tiles[M];if(A&&A.active){A.retain=!0;continue}else A&&A.loaded&&(A.retain=!0);u+1<d&&this._retainChildren(m,y,u+1,d)}},_resetView:function(i){var o=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var o=this.options;return o.minNativeZoom!==void 0&&i<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<i?o.maxNativeZoom:i},_setView:function(i,o,u,d){var m=Math.round(o);this.options.maxZoom!==void 0&&m>this.options.maxZoom||this.options.minZoom!==void 0&&m<this.options.minZoom?m=void 0:m=this._clampZoom(m);var y=this.options.updateWhenZooming&&m!==this._tileZoom;(!d||y)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),m!==void 0&&this._update(i),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(i,o)},_setZoomTransforms:function(i,o){for(var u in this._levels)this._setZoomTransform(this._levels[u],i,o)},_setZoomTransform:function(i,o,u){var d=this._map.getZoomScale(u,i.zoom),m=i.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(o,u)).round();ne.any3d?ui(i.el,m,d):qe(i.el,m)},_resetGrid:function(){var i=this._map,o=i.options.crs,u=this._tileSize=this.getTileSize(),d=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,o.wrapLng[0]],d).x/u.x),Math.ceil(i.project([0,o.wrapLng[1]],d).x/u.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([o.wrapLat[0],0],d).y/u.x),Math.ceil(i.project([o.wrapLat[1],0],d).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var o=this._map,u=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),d=o.getZoomScale(u,this._tileZoom),m=o.project(i,this._tileZoom).floor(),y=o.getSize().divideBy(d*2);return new G(m.subtract(y),m.add(y))},_update:function(i){var o=this._map;if(o){var u=this._clampZoom(o.getZoom());if(i===void 0&&(i=o.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(i),m=this._pxBoundsToTileRange(d),y=m.getCenter(),E=[],M=this.options.keepBuffer,A=new G(m.getBottomLeft().subtract([M,-M]),m.getTopRight().add([M,-M]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $ in this._tiles){var Q=this._tiles[$].coords;(Q.z!==this._tileZoom||!A.contains(new I(Q.x,Q.y)))&&(this._tiles[$].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(i,u);return}for(var se=m.min.y;se<=m.max.y;se++)for(var fe=m.min.x;fe<=m.max.x;fe++){var dt=new I(fe,se);if(dt.z=this._tileZoom,!!this._isValidTile(dt)){var Xe=this._tiles[this._tileCoordsToKey(dt)];Xe?Xe.current=!0:E.push(dt)}}if(E.sort(function(vt,Fi){return vt.distanceTo(y)-Fi.distanceTo(y)}),E.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Bt=document.createDocumentFragment();for(fe=0;fe<E.length;fe++)this._addTile(E[fe],Bt);this._level.el.appendChild(Bt)}}}},_isValidTile:function(i){var o=this._map.options.crs;if(!o.infinite){var u=this._globalTileRange;if(!o.wrapLng&&(i.x<u.min.x||i.x>u.max.x)||!o.wrapLat&&(i.y<u.min.y||i.y>u.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(i);return re(this.options.bounds).overlaps(d)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var o=this._map,u=this.getTileSize(),d=i.scaleBy(u),m=d.add(u),y=o.unproject(d,i.z),E=o.unproject(m,i.z);return[y,E]},_tileCoordsToBounds:function(i){var o=this._tileCoordsToNwSe(i),u=new K(o[0],o[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var o=i.split(":"),u=new I(+o[0],+o[1]);return u.z=+o[2],u},_removeTile:function(i){var o=this._tiles[i];o&&(Ie(o.el),delete this._tiles[i],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){de(i,"leaflet-tile");var o=this.getTileSize();i.style.width=o.x+"px",i.style.height=o.y+"px",i.onselectstart=_,i.onmousemove=_,ne.ielt9&&this.options.opacity<1&&zt(i,this.options.opacity)},_addTile:function(i,o){var u=this._getTilePos(i),d=this._tileCoordsToKey(i),m=this.createTile(this._wrapCoords(i),l(this._tileReady,this,i));this._initTile(m),this.createTile.length<2&&U(l(this._tileReady,this,i,null,m)),qe(m,u),this._tiles[d]={el:m,coords:i,current:!0},o.appendChild(m),this.fire("tileloadstart",{tile:m,coords:i})},_tileReady:function(i,o,u){o&&this.fire("tileerror",{error:o,tile:u,coords:i});var d=this._tileCoordsToKey(i);u=this._tiles[d],u&&(u.loaded=+new Date,this._map._fadeAnimated?(zt(u.el,0),D(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),o||(de(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ne.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var o=new I(this._wrapX?g(i.x,this._wrapX):i.x,this._wrapY?g(i.y,this._wrapY):i.y);return o.z=i.z,o},_pxBoundsToTileRange:function(i){var o=this.getTileSize();return new G(i.min.unscaleBy(o).floor(),i.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function rv(i){return new Fr(i)}var Ui=Fr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,o){this._url=i,o=k(this,o),o.detectRetina&&ne.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,o){return this._url===i&&o===void 0&&(o=!0),this._url=i,o||this.redraw(),this},createTile:function(i,o){var u=document.createElement("img");return ue(u,"load",l(this._tileOnLoad,this,o,u)),ue(u,"error",l(this._tileOnError,this,o,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(i),u},getTileUrl:function(i){var o={r:ne.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-i.y;this.options.tms&&(o.y=u),o["-y"]=u}return b(this._url,a(o,this.options))},_tileOnLoad:function(i,o){ne.ielt9?setTimeout(l(i,this,null,o),0):i(null,o)},_tileOnError:function(i,o,u){var d=this.options.errorTileUrl;d&&o.getAttribute("src")!==d&&(o.src=d),i(u,o)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,o=this.options.maxZoom,u=this.options.zoomReverse,d=this.options.zoomOffset;return u&&(i=o-i),i+d},_getSubdomain:function(i){var o=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var i,o;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(o=this._tiles[i].el,o.onload=_,o.onerror=_,!o.complete)){o.src=B;var u=this._tiles[i].coords;Ie(o),delete this._tiles[i],this.fire("tileabort",{tile:o,coords:u})}},_removeTile:function(i){var o=this._tiles[i];if(o)return o.el.setAttribute("src",B),Fr.prototype._removeTile.call(this,i)},_tileReady:function(i,o,u){if(!(!this._map||u&&u.getAttribute("src")===B))return Fr.prototype._tileReady.call(this,i,o,u)}});function Qh(i,o){return new Ui(i,o)}var Yh=Ui.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,o){this._url=i;var u=a({},this.defaultWmsParams);for(var d in o)d in this.options||(u[d]=o[d]);o=k(this,o);var m=o.detectRetina&&ne.retina?2:1,y=this.getTileSize();u.width=y.x*m,u.height=y.y*m,this.wmsParams=u},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,Ui.prototype.onAdd.call(this,i)},getTileUrl:function(i){var o=this._tileCoordsToNwSe(i),u=this._crs,d=J(u.project(o[0]),u.project(o[1])),m=d.min,y=d.max,E=(this._wmsVersion>=1.3&&this._crs===Hh?[m.y,m.x,y.y,y.x]:[m.x,m.y,y.x,y.y]).join(","),M=Ui.prototype.getTileUrl.call(this,i);return M+N(this.wmsParams,M,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+E},setParams:function(i,o){return a(this.wmsParams,i),o||this.redraw(),this}});function sv(i,o){return new Yh(i,o)}Ui.WMS=Yh,Qh.wms=sv;var wn=Kt.extend({options:{padding:.1},initialize:function(i){k(this,i),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),de(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,o){var u=this._map.getZoomScale(o,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,o),y=d.multiplyBy(-u).add(m).subtract(this._map._getNewPixelOrigin(i,o));ne.any3d?ui(this._container,y,u):qe(this._container,y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,o=this._map.getSize(),u=this._map.containerPointToLayerPoint(o.multiplyBy(-i)).round();this._bounds=new G(u,u.add(o.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Xh=wn.extend({options:{tolerance:0},getEvents:function(){var i=wn.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){wn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");ue(i,"mousemove",this._onMouseMove,this),ue(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ue(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){D(this._redrawRequest),delete this._ctx,Ie(this._container),je(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var o in this._layers)i=this._layers[o],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wn.prototype._update.call(this);var i=this._bounds,o=this._container,u=i.getSize(),d=ne.retina?2:1;qe(o,i.min),o.width=d*u.x,o.height=d*u.y,o.style.width=u.x+"px",o.style.height=u.y+"px",ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){wn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[h(i)]=i;var o=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var o=i._order,u=o.next,d=o.prev;u?u.prev=d:this._drawLast=d,d?d.next=u:this._drawFirst=u,delete i._order,delete this._layers[h(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var o=i.options.dashArray.split(/[, ]+/),u=[],d,m;for(m=0;m<o.length;m++){if(d=Number(o[m]),isNaN(d))return;u.push(d)}i.options._dashArray=u}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var o=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new G,this._redrawBounds.extend(i._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(i._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var o=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,o=this._redrawBounds;if(this._ctx.save(),o){var u=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)i=d.layer,(!o||i._pxBounds&&i._pxBounds.intersects(o))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,o){if(this._drawing){var u,d,m,y,E=i._parts,M=E.length,A=this._ctx;if(M){for(A.beginPath(),u=0;u<M;u++){for(d=0,m=E[u].length;d<m;d++)y=E[u][d],A[d?"lineTo":"moveTo"](y.x,y.y);o&&A.closePath()}this._fillStroke(A,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var o=i._point,u=this._ctx,d=Math.max(Math.round(i._radius),1),m=(Math.max(Math.round(i._radiusY),1)||d)/d;m!==1&&(u.save(),u.scale(1,m)),u.beginPath(),u.arc(o.x,o.y/m,d,0,Math.PI*2,!1),m!==1&&u.restore(),this._fillStroke(u,i)}},_fillStroke:function(i,o){var u=o.options;u.fill&&(i.globalAlpha=u.fillOpacity,i.fillStyle=u.fillColor||u.color,i.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(i.setLineDash&&i.setLineDash(o.options&&o.options._dashArray||[]),i.globalAlpha=u.opacity,i.lineWidth=u.weight,i.strokeStyle=u.color,i.lineCap=u.lineCap,i.lineJoin=u.lineJoin,i.stroke())},_onClick:function(i){for(var o=this._map.mouseEventToLayerPoint(i),u,d,m=this._drawFirst;m;m=m.next)u=m.layer,u.options.interactive&&u._containsPoint(o)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(u))&&(d=u);this._fireEvent(d?[d]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,o)}},_handleMouseOut:function(i){var o=this._hoveredLayer;o&&(Ze(this._container,"leaflet-interactive"),this._fireEvent([o],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,o){if(!this._mouseHoverThrottled){for(var u,d,m=this._drawFirst;m;m=m.next)u=m.layer,u.options.interactive&&u._containsPoint(o)&&(d=u);d!==this._hoveredLayer&&(this._handleMouseOut(i),d&&(de(this._container,"leaflet-interactive"),this._fireEvent([d],i,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,o,u){this._map._fireDOMEvent(o,u||o.type,i)},_bringToFront:function(i){var o=i._order;if(o){var u=o.next,d=o.prev;if(u)u.prev=d;else return;d?d.next=u:u&&(this._drawFirst=u),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(i)}},_bringToBack:function(i){var o=i._order;if(o){var u=o.next,d=o.prev;if(d)d.next=u;else return;u?u.prev=d:d&&(this._drawLast=d),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(i)}}});function ed(i){return ne.canvas?new Xh(i):null}var $r=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ov={_initContainer:function(){this._container=ke("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(wn.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var o=i._container=$r("shape");de(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",i._path=$r("path"),o.appendChild(i._path),this._updateStyle(i),this._layers[h(i)]=i},_addPath:function(i){var o=i._container;this._container.appendChild(o),i.options.interactive&&i.addInteractiveTarget(o)},_removePath:function(i){var o=i._container;Ie(o),i.removeInteractiveTarget(o),delete this._layers[h(i)]},_updateStyle:function(i){var o=i._stroke,u=i._fill,d=i.options,m=i._container;m.stroked=!!d.stroke,m.filled=!!d.fill,d.stroke?(o||(o=i._stroke=$r("stroke")),m.appendChild(o),o.weight=d.weight+"px",o.color=d.color,o.opacity=d.opacity,d.dashArray?o.dashStyle=C(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=d.lineCap.replace("butt","flat"),o.joinstyle=d.lineJoin):o&&(m.removeChild(o),i._stroke=null),d.fill?(u||(u=i._fill=$r("fill")),m.appendChild(u),u.color=d.fillColor||d.color,u.opacity=d.fillOpacity):u&&(m.removeChild(u),i._fill=null)},_updateCircle:function(i){var o=i._point.round(),u=Math.round(i._radius),d=Math.round(i._radiusY||u);this._setPath(i,i._empty()?"M0 0":"AL "+o.x+","+o.y+" "+u+","+d+" 0,"+65535*360)},_setPath:function(i,o){i._path.v=o},_bringToFront:function(i){Ai(i._container)},_bringToBack:function(i){Ii(i._container)}},ao=ne.vml?$r:be,Zr=wn.extend({_initContainer:function(){this._container=ao("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ao("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ie(this._container),je(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wn.prototype._update.call(this);var i=this._bounds,o=i.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,u.setAttribute("width",o.x),u.setAttribute("height",o.y)),qe(u,i.min),u.setAttribute("viewBox",[i.min.x,i.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(i){var o=i._path=ao("path");i.options.className&&de(o,i.options.className),i.options.interactive&&de(o,"leaflet-interactive"),this._updateStyle(i),this._layers[h(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Ie(i._path),i.removeInteractiveTarget(i._path),delete this._layers[h(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var o=i._path,u=i.options;o&&(u.stroke?(o.setAttribute("stroke",u.color),o.setAttribute("stroke-opacity",u.opacity),o.setAttribute("stroke-width",u.weight),o.setAttribute("stroke-linecap",u.lineCap),o.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?o.setAttribute("stroke-dasharray",u.dashArray):o.removeAttribute("stroke-dasharray"),u.dashOffset?o.setAttribute("stroke-dashoffset",u.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),u.fill?(o.setAttribute("fill",u.fillColor||u.color),o.setAttribute("fill-opacity",u.fillOpacity),o.setAttribute("fill-rule",u.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(i,o){this._setPath(i,he(i._parts,o))},_updateCircle:function(i){var o=i._point,u=Math.max(Math.round(i._radius),1),d=Math.max(Math.round(i._radiusY),1)||u,m="a"+u+","+d+" 0 1,0 ",y=i._empty()?"M0 0":"M"+(o.x-u)+","+o.y+m+u*2+",0 "+m+-u*2+",0 ";this._setPath(i,y)},_setPath:function(i,o){i._path.setAttribute("d",o)},_bringToFront:function(i){Ai(i._path)},_bringToBack:function(i){Ii(i._path)}});ne.vml&&Zr.include(ov);function td(i){return ne.svg||ne.vml?new Zr(i):null}xe.include({getRenderer:function(i){var o=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var o=this._paneRenderers[i];return o===void 0&&(o=this._createRenderer({pane:i}),this._paneRenderers[i]=o),o},_createRenderer:function(i){return this.options.preferCanvas&&ed(i)||td(i)}});var nd=Di.extend({initialize:function(i,o){Di.prototype.initialize.call(this,this._boundsToLatLngs(i),o)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=re(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function av(i,o){return new nd(i,o)}Zr.create=ao,Zr.pointsToPath=he,xn.geometryToLayer=eo,xn.coordsToLatLng=dl,xn.coordsToLatLngs=to,xn.latLngToCoords=fl,xn.latLngsToCoords=no,xn.getFeature=Bi,xn.asFeature=io,xe.mergeOptions({boxZoom:!0});var id=un.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){je(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ie(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ar(),Ka(),this._startPoint=this._map.mouseEventToContainerPoint(i),ue(document,{contextmenu:di,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ke("div","leaflet-zoom-box",this._container),de(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var o=new G(this._point,this._startPoint),u=o.getSize();qe(this._box,o.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Ie(this._box),Ze(this._container,"leaflet-crosshair")),Ir(),Ja(),je(document,{contextmenu:di,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var o=new K(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xe.addInitHook("addHandler","boxZoom",id),xe.mergeOptions({doubleClickZoom:!0});var rd=un.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var o=this._map,u=o.getZoom(),d=o.options.zoomDelta,m=i.originalEvent.shiftKey?u-d:u+d;o.options.doubleClickZoom==="center"?o.setZoom(m):o.setZoomAround(i.containerPoint,m)}});xe.addInitHook("addHandler","doubleClickZoom",rd),xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var sd=un.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new zn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}de(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ze(this._map._container,"leaflet-grab"),Ze(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=re(this._map.options.maxBounds);this._offsetLimit=J(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var o=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(o),this._prunePositions(o)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,o){return i-(i-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;i.x<o.min.x&&(i.x=this._viscousLimit(i.x,o.min.x)),i.y<o.min.y&&(i.y=this._viscousLimit(i.y,o.min.y)),i.x>o.max.x&&(i.x=this._viscousLimit(i.x,o.max.x)),i.y>o.max.y&&(i.y=this._viscousLimit(i.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,o=Math.round(i/2),u=this._initialWorldOffset,d=this._draggable._newPos.x,m=(d-o+u)%i+o-u,y=(d+o+u)%i-o-u,E=Math.abs(m+u)<Math.abs(y+u)?m:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=E},_onDragEnd:function(i){var o=this._map,u=o.options,d=!u.inertia||i.noInertia||this._times.length<2;if(o.fire("dragend",i),d)o.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),y=(this._lastTime-this._times[0])/1e3,E=u.easeLinearity,M=m.multiplyBy(E/y),A=M.distanceTo([0,0]),$=Math.min(u.inertiaMaxSpeed,A),Q=M.multiplyBy($/A),se=$/(u.inertiaDeceleration*E),fe=Q.multiplyBy(-se/2).round();!fe.x&&!fe.y?o.fire("moveend"):(fe=o._limitOffset(fe,o.options.maxBounds),U(function(){o.panBy(fe,{duration:se,easeLinearity:E,noMoveStart:!0,animate:!0})}))}}});xe.addInitHook("addHandler","dragging",sd),xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var od=un.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),ue(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),je(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,o=document.documentElement,u=i.scrollTop||o.scrollTop,d=i.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(d,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var o=this._panKeys={},u=this.keyCodes,d,m;for(d=0,m=u.left.length;d<m;d++)o[u.left[d]]=[-1*i,0];for(d=0,m=u.right.length;d<m;d++)o[u.right[d]]=[i,0];for(d=0,m=u.down.length;d<m;d++)o[u.down[d]]=[0,i];for(d=0,m=u.up.length;d<m;d++)o[u.up[d]]=[0,-1*i]},_setZoomDelta:function(i){var o=this._zoomKeys={},u=this.keyCodes,d,m;for(d=0,m=u.zoomIn.length;d<m;d++)o[u.zoomIn[d]]=i;for(d=0,m=u.zoomOut.length;d<m;d++)o[u.zoomOut[d]]=-i},_addHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){je(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var o=i.keyCode,u=this._map,d;if(o in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(d=this._panKeys[o],i.shiftKey&&(d=Z(d).multiplyBy(3)),u.options.maxBounds&&(d=u._limitOffset(Z(d),u.options.maxBounds)),u.options.worldCopyJump){var m=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(d)));u.panTo(m)}else u.panBy(d)}else if(o in this._zoomKeys)u.setZoom(u.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;di(i)}}});xe.addInitHook("addHandler","keyboard",od),xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ad=un.extend({addHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){je(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var o=Nh(i),u=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var d=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),d),di(i)},_performZoom:function(){var i=this._map,o=i.getZoom(),u=this._map.options.zoomSnap||0;i._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),m=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,y=u?Math.ceil(m/u)*u:m,E=i._limitZoom(o+(this._delta>0?y:-y))-o;this._delta=0,this._startTime=null,E&&(i.options.scrollWheelZoom==="center"?i.setZoom(o+E):i.setZoomAround(this._lastMousePos,o+E))}});xe.addInitHook("addHandler","scrollWheelZoom",ad);var lv=600;xe.mergeOptions({tapHold:ne.touchNative&&ne.safari&&ne.mobile,tapTolerance:15});var ld=un.extend({addHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){je(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var o=i.touches[0];this._startPos=this._newPos=new I(o.clientX,o.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ue(document,"touchend",rt),ue(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),lv),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){je(document,"touchend",rt),je(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),je(document,"touchend touchcancel contextmenu",this._cancel,this),je(document,"touchmove",this._onMove,this)},_onMove:function(i){var o=i.touches[0];this._newPos=new I(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,o){var u=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});u._simulated=!0,o.target.dispatchEvent(u)}});xe.addInitHook("addHandler","tapHold",ld),xe.mergeOptions({touchZoom:ne.touch,bounceAtZoomLimits:!0});var ud=un.extend({addHooks:function(){de(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ze(this._map._container,"leaflet-touch-zoom"),je(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var o=this._map;if(!(!i.touches||i.touches.length!==2||o._animatingZoom||this._zooming)){var u=o.mouseEventToContainerPoint(i.touches[0]),d=o.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(u.add(d)._divideBy(2))),this._startDist=u.distanceTo(d),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),rt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var o=this._map,u=o.mouseEventToContainerPoint(i.touches[0]),d=o.mouseEventToContainerPoint(i.touches[1]),m=u.distanceTo(d)/this._startDist;if(this._zoom=o.getScaleZoom(m,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&m<1||this._zoom>o.getMaxZoom()&&m>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,m===1)return}else{var y=u._add(d)._divideBy(2)._subtract(this._centerPoint);if(m===1&&y.x===0&&y.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),D(this._animRequest);var E=l(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(E,this,!0),rt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,D(this._animRequest),je(document,"touchmove",this._onTouchMove,this),je(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xe.addInitHook("addHandler","touchZoom",ud),xe.BoxZoom=id,xe.DoubleClickZoom=rd,xe.Drag=sd,xe.Keyboard=od,xe.ScrollWheelZoom=ad,xe.TapHold=ld,xe.TouchZoom=ud,n.Bounds=G,n.Browser=ne,n.CRS=Se,n.Canvas=Xh,n.Circle=hl,n.CircleMarker=Xs,n.Class=Y,n.Control=Gt,n.DivIcon=Jh,n.DivOverlay=cn,n.DomEvent=L_,n.DomUtil=S_,n.Draggable=zn,n.Evented=oe,n.FeatureGroup=vn,n.GeoJSON=xn,n.GridLayer=Fr,n.Handler=un,n.Icon=zi,n.ImageOverlay=ro,n.LatLng=ie,n.LatLngBounds=K,n.Layer=Kt,n.LayerGroup=Ri,n.LineUtil=B_,n.Map=xe,n.Marker=Ys,n.Mixin=O_,n.Path=Dn,n.Point=I,n.PolyUtil=A_,n.Polygon=Di,n.Polyline=yn,n.Popup=so,n.PosAnimation=Mh,n.Projection=U_,n.Rectangle=nd,n.Renderer=wn,n.SVG=Zr,n.SVGOverlay=Kh,n.TileLayer=Ui,n.Tooltip=oo,n.Transformation=q,n.Util=H,n.VideoOverlay=Gh,n.bind=l,n.bounds=J,n.canvas=ed,n.circle=G_,n.circleMarker=q_,n.control=Dr,n.divIcon=iv,n.extend=a,n.featureGroup=H_,n.geoJSON=qh,n.geoJson=Q_,n.gridLayer=rv,n.icon=W_,n.imageOverlay=Y_,n.latLng=te,n.latLngBounds=re,n.layerGroup=Z_,n.map=P_,n.marker=V_,n.point=Z,n.polygon=J_,n.polyline=K_,n.popup=tv,n.rectangle=av,n.setOptions=k,n.stamp=h,n.svg=td,n.svgOverlay=ev,n.tileLayer=Qh,n.tooltip=nv,n.transformation=ae,n.version=r,n.videoOverlay=X_;var uv=window.L;n.noConflict=function(){return window.L=uv,this},window.L=n})})(Vu,Vu.exports);var gn=Vu.exports;function gg(e){return e.split(" ").filter(Boolean)}function _g(e,t){gg(t).forEach(n=>{gn.DomUtil.addClass(e,n)})}function vg(e,t){gg(t).forEach(n=>{gn.DomUtil.removeClass(e,n)})}function hx(e,t,n){e!=null&&n!==t&&(t!=null&&t.length>0&&vg(e,t),n!=null&&n.length>0&&_g(e,n))}function Ia(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Lr(e,t){return t==null?function(r,a){const s=F.useRef();return s.current||(s.current=e(r,a)),s}:function(r,a){const s=F.useRef();s.current||(s.current=e(r,a));const l=F.useRef(r),{instance:c}=s.current;return F.useEffect(function(){l.current!==r&&(t(c,r,l.current),l.current=r)},[c,r,a]),s}}function oh(e,t){F.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var s;(s=t.layerContainer)==null||s.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function ah(e){return function(n){const r=Cr(),a=e(Fs(n,r),r);return th(r.map,n.attribution),Aa(a.current,n.eventHandlers),oh(a.current,r),a}}function yg(e,t){const n=F.useRef();F.useEffect(function(){if(t.pathOptions!==n.current){const a=t.pathOptions??{};e.instance.setStyle(a),n.current=a}},[e,t])}function xg(e){return function(n){const r=Cr(),a=e(Fs(n,r),r);return Aa(a.current,n.eventHandlers),oh(a.current,r),yg(a.current,n),a}}function dx(e){function t(a,s){return Ia(e(a),s)}const n=Lr(t),r=pg(n);return sh(r)}function wg(e,t){const n=Lr(e,t),r=ah(n);return rh(r)}function fx(e,t){const n=Lr(e),r=mg(n,t);return fg(r)}function px(e,t){const n=Lr(e,t),r=xg(n);return rh(r)}function kg(e,t){const n=Lr(e,t),r=ah(n);return sh(r)}function bg(e,t,n){const{opacity:r,zIndex:a}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),a!=null&&a!==n.zIndex&&e.setZIndex(a)}function mx(e,t,n){t.bounds instanceof gn.LatLngBounds&&t.bounds!==n.bounds&&e.setBounds(t.bounds),t.opacity!=null&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),t.zIndex!=null&&t.zIndex!==n.zIndex&&e.setZIndex(t.zIndex)}const gx=Object.freeze(Object.defineProperty({__proto__:null,CONTEXT_VERSION:cg,LeafletContext:nh,LeafletProvider:ih,addClassName:_g,createContainerComponent:rh,createControlComponent:dx,createControlHook:pg,createDivOverlayComponent:fg,createDivOverlayHook:mg,createElementHook:Lr,createElementObject:Ia,createLayerComponent:wg,createLayerHook:ah,createLeafComponent:sh,createLeafletContext:hg,createOverlayComponent:fx,createPathComponent:px,createPathHook:xg,createTileLayerComponent:kg,extendContext:dg,removeClassName:vg,updateCircle:cx,updateClassName:hx,updateGridLayer:bg,updateMediaOverlay:mx,useAttribution:th,useEventHandlers:Aa,useLayerLifecycle:oh,useLeafletContext:Cr,usePathOptions:yg,withPane:Fs},Symbol.toStringTag,{value:"Module"}));function _x(){return Cr().map}function qu(){return qu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qu.apply(this,arguments)}function vx({bounds:e,boundsOptions:t,center:n,children:r,className:a,id:s,placeholder:l,style:c,whenReady:h,zoom:p,...g},_){const[v]=F.useState({className:a,id:s,style:c}),[x,S]=F.useState(null);F.useImperativeHandle(_,()=>(x==null?void 0:x.map)??null,[x]);const k=F.useCallback(w=>{if(w!==null&&x===null){const b=new gn.Map(w,g);n!=null&&p!=null?b.setView(n,p):e!=null&&b.fitBounds(e,t),h!=null&&b.whenReady(h),S(hg(b))}},[]);F.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const N=x?Ql.createElement(ih,{value:x},r):l??null;return Ql.createElement("div",qu({},v,{ref:k}),N)}const yx=F.forwardRef(vx),xx=wg(function({position:t,...n},r){const a=new gn.Marker(t,n);return Ia(a,dg(r,{overlayContainer:a}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),wx=kg(function({url:t,...n},r){const a=new gn.TileLayer(t,Fs(n,r));return Ia(a,r)},function(t,n,r){bg(t,n,r);const{url:a}=n;a!=null&&a!==r.url&&t.setUrl(a)});var Sg={};const kx=As(gx);var Cf={exports:{}};(function(e,t){(function(n,r){r(t)})(We,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(s){L.Util.setOptions(this,s),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var l=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,l?this._withAnimation:this._noAnimation),this._markerCluster=l?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(s){if(s instanceof L.LayerGroup)return this.addLayers([s]);if(!s.getLatLng)return this._nonPointGroup.addLayer(s),this.fire("layeradd",{layer:s}),this;if(!this._map)return this._needsClustering.push(s),this.fire("layeradd",{layer:s}),this;if(this.hasLayer(s))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(s,this._maxZoom),this.fire("layeradd",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var l=s,c=this._zoom;if(s.__parent)for(;l.__parent._zoom>=c;)l=l.__parent;return this._currentShownBounds.contains(l.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(s,l):this._animationAddLayerNonAnimated(s,l)),this},removeLayer:function(s){return s instanceof L.LayerGroup?this.removeLayers([s]):s.getLatLng?this._map?s.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(s)),this._removeLayer(s,!0),this.fire("layerremove",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),s.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(s)&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,s)&&this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s}),this):(this._nonPointGroup.removeLayer(s),this.fire("layerremove",{layer:s}),this)},addLayers:function(s,l){if(!L.Util.isArray(s))return this.addLayer(s);var c=this._featureGroup,h=this._nonPointGroup,p=this.options.chunkedLoading,g=this.options.chunkInterval,_=this.options.chunkProgress,v=s.length,x=0,S=!0,k;if(this._map){var N=new Date().getTime(),w=L.bind(function(){var C=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();x<v;x++){if(p&&x%200===0){var O=new Date().getTime()-C;if(O>g)break}if(k=s[x],k instanceof L.LayerGroup){S&&(s=s.slice(),S=!1),this._extractNonGroupLayers(k,s),v=s.length;continue}if(!k.getLatLng){h.addLayer(k),l||this.fire("layeradd",{layer:k});continue}if(!this.hasLayer(k)&&(this._addLayer(k,this._maxZoom),l||this.fire("layeradd",{layer:k}),k.__parent&&k.__parent.getChildCount()===2)){var B=k.__parent.getAllChildMarkers(),z=B[0]===k?B[1]:B[0];c.removeLayer(z)}}_&&_(x,v,new Date().getTime()-N),x===v?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(w,this.options.chunkDelay)},this);w()}else for(var b=this._needsClustering;x<v;x++){if(k=s[x],k instanceof L.LayerGroup){S&&(s=s.slice(),S=!1),this._extractNonGroupLayers(k,s),v=s.length;continue}if(!k.getLatLng){h.addLayer(k);continue}this.hasLayer(k)||b.push(k)}return this},removeLayers:function(s){var l,c,h=s.length,p=this._featureGroup,g=this._nonPointGroup,_=!0;if(!this._map){for(l=0;l<h;l++){if(c=s[l],c instanceof L.LayerGroup){_&&(s=s.slice(),_=!1),this._extractNonGroupLayers(c,s),h=s.length;continue}this._arraySplice(this._needsClustering,c),g.removeLayer(c),this.hasLayer(c)&&this._needsRemoving.push({layer:c,latlng:c._latlng}),this.fire("layerremove",{layer:c})}return this}if(this._unspiderfy){this._unspiderfy();var v=s.slice(),x=h;for(l=0;l<x;l++){if(c=v[l],c instanceof L.LayerGroup){this._extractNonGroupLayers(c,v),x=v.length;continue}this._unspiderfyLayer(c)}}for(l=0;l<h;l++){if(c=s[l],c instanceof L.LayerGroup){_&&(s=s.slice(),_=!1),this._extractNonGroupLayers(c,s),h=s.length;continue}if(!c.__parent){g.removeLayer(c),this.fire("layerremove",{layer:c});continue}this._removeLayer(c,!0,!0),this.fire("layerremove",{layer:c}),p.hasLayer(c)&&(p.removeLayer(c),c.clusterShow&&c.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(s){s.off(this._childMarkerEventHandlers,this),delete s.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var s=new L.LatLngBounds;this._topClusterLevel&&s.extend(this._topClusterLevel._bounds);for(var l=this._needsClustering.length-1;l>=0;l--)s.extend(this._needsClustering[l].getLatLng());return s.extend(this._nonPointGroup.getBounds()),s},eachLayer:function(s,l){var c=this._needsClustering.slice(),h=this._needsRemoving,p,g,_;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(c),g=c.length-1;g>=0;g--){for(p=!0,_=h.length-1;_>=0;_--)if(h[_].layer===c[g]){p=!1;break}p&&s.call(l,c[g])}this._nonPointGroup.eachLayer(s,l)},getLayers:function(){var s=[];return this.eachLayer(function(l){s.push(l)}),s},getLayer:function(s){var l=null;return s=parseInt(s,10),this.eachLayer(function(c){L.stamp(c)===s&&(l=c)}),l},hasLayer:function(s){if(!s)return!1;var l,c=this._needsClustering;for(l=c.length-1;l>=0;l--)if(c[l]===s)return!0;for(c=this._needsRemoving,l=c.length-1;l>=0;l--)if(c[l].layer===s)return!1;return!!(s.__parent&&s.__parent._group===this)||this._nonPointGroup.hasLayer(s)},zoomToShowLayer:function(s,l){var c=this._map;typeof l!="function"&&(l=function(){});var h=function(){(c.hasLayer(s)||c.hasLayer(s.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",h,this),this.off("animationend",h,this),c.hasLayer(s)?l():s.__parent._icon&&(this.once("spiderfied",l,this),s.__parent.spiderfy()))};s._icon&&this._map.getBounds().contains(s.getLatLng())?l():s.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",h,this),this._map.panTo(s.getLatLng())):(this._map.on("moveend",h,this),this.on("animationend",h,this),s.__parent.zoomToBounds())},onAdd:function(s){this._map=s;var l,c,h;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(s),this._nonPointGroup.addTo(s),this._gridClusters||this._generateInitialClusters(),this._maxLat=s.options.crs.projection.MAX_LATITUDE,l=0,c=this._needsRemoving.length;l<c;l++)h=this._needsRemoving[l],h.newlatlng=h.layer._latlng,h.layer._latlng=h.latlng;for(l=0,c=this._needsRemoving.length;l<c;l++)h=this._needsRemoving[l],this._removeLayer(h.layer,!0),h.layer._latlng=h.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),c=this._needsClustering,this._needsClustering=[],this.addLayers(c,!0)},onRemove:function(s){s.off("zoomend",this._zoomEnd,this),s.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(s){for(var l=s;l&&!l._icon;)l=l.__parent;return l||null},_arraySplice:function(s,l){for(var c=s.length-1;c>=0;c--)if(s[c]===l)return s.splice(c,1),!0},_removeFromGridUnclustered:function(s,l){for(var c=this._map,h=this._gridUnclustered,p=Math.floor(this._map.getMinZoom());l>=p&&h[l].removeObject(s,c.project(s.getLatLng(),l));l--);},_childMarkerDragStart:function(s){s.target.__dragStart=s.target._latlng},_childMarkerMoved:function(s){if(!this._ignoreMove&&!s.target.__dragStart){var l=s.target._popup&&s.target._popup.isOpen();this._moveChild(s.target,s.oldLatLng,s.latlng),l&&s.target.openPopup()}},_moveChild:function(s,l,c){s._latlng=l,this.removeLayer(s),s._latlng=c,this.addLayer(s)},_childMarkerDragEnd:function(s){var l=s.target.__dragStart;delete s.target.__dragStart,l&&this._moveChild(s.target,l,s.target._latlng)},_removeLayer:function(s,l,c){var h=this._gridClusters,p=this._gridUnclustered,g=this._featureGroup,_=this._map,v=Math.floor(this._map.getMinZoom());l&&this._removeFromGridUnclustered(s,this._maxZoom);var x=s.__parent,S=x._markers,k;for(this._arraySplice(S,s);x&&(x._childCount--,x._boundsNeedUpdate=!0,!(x._zoom<v));)l&&x._childCount<=1?(k=x._markers[0]===s?x._markers[1]:x._markers[0],h[x._zoom].removeObject(x,_.project(x._cLatLng,x._zoom)),p[x._zoom].addObject(k,_.project(k.getLatLng(),x._zoom)),this._arraySplice(x.__parent._childClusters,x),x.__parent._markers.push(k),k.__parent=x.__parent,x._icon&&(g.removeLayer(x),c||g.addLayer(k))):x._iconNeedsUpdate=!0,x=x.__parent;delete s.__parent},_isOrIsParent:function(s,l){for(;l;){if(s===l)return!0;l=l.parentNode}return!1},fire:function(s,l,c){if(l&&l.layer instanceof L.MarkerCluster){if(l.originalEvent&&this._isOrIsParent(l.layer._icon,l.originalEvent.relatedTarget))return;s="cluster"+s}L.FeatureGroup.prototype.fire.call(this,s,l,c)},listens:function(s,l){return L.FeatureGroup.prototype.listens.call(this,s,l)||L.FeatureGroup.prototype.listens.call(this,"cluster"+s,l)},_defaultIconCreateFunction:function(s){var l=s.getChildCount(),c=" marker-cluster-";return l<10?c+="small":l<100?c+="medium":c+="large",new L.DivIcon({html:"<div><span>"+l+"</span></div>",className:"marker-cluster"+c,iconSize:new L.Point(40,40)})},_bindEvents:function(){var s=this._map,l=this.options.spiderfyOnMaxZoom,c=this.options.showCoverageOnHover,h=this.options.zoomToBoundsOnClick,p=this.options.spiderfyOnEveryZoom;(l||h||p)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),c&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),s.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(s){var l=s.layer,c=l;if(!(s.type==="clusterkeypress"&&s.originalEvent&&s.originalEvent.keyCode!==13)){for(;c._childClusters.length===1;)c=c._childClusters[0];c._zoom===this._maxZoom&&c._childCount===l._childCount&&this.options.spiderfyOnMaxZoom?l.spiderfy():this.options.zoomToBoundsOnClick&&l.zoomToBounds(),this.options.spiderfyOnEveryZoom&&l.spiderfy(),s.originalEvent&&s.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(s){var l=this._map;this._inZoomAnimation||(this._shownPolygon&&l.removeLayer(this._shownPolygon),s.layer.getChildCount()>2&&s.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(s.layer.getConvexHull(),this.options.polygonOptions),l.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var s=this.options.spiderfyOnMaxZoom,l=this.options.showCoverageOnHover,c=this.options.zoomToBoundsOnClick,h=this.options.spiderfyOnEveryZoom,p=this._map;(s||c||h)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),l&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),p.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var s=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),s),this._currentShownBounds=s}},_generateInitialClusters:function(){var s=Math.ceil(this._map.getMaxZoom()),l=Math.floor(this._map.getMinZoom()),c=this.options.maxClusterRadius,h=c;typeof c!="function"&&(h=function(){return c}),this.options.disableClusteringAtZoom!==null&&(s=this.options.disableClusteringAtZoom-1),this._maxZoom=s,this._gridClusters={},this._gridUnclustered={};for(var p=s;p>=l;p--)this._gridClusters[p]=new L.DistanceGrid(h(p)),this._gridUnclustered[p]=new L.DistanceGrid(h(p));this._topClusterLevel=new this._markerCluster(this,l-1)},_addLayer:function(s,l){var c=this._gridClusters,h=this._gridUnclustered,p=Math.floor(this._map.getMinZoom()),g,_;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(s),s.on(this._childMarkerEventHandlers,this);l>=p;l--){g=this._map.project(s.getLatLng(),l);var v=c[l].getNearObject(g);if(v){v._addChild(s),s.__parent=v;return}if(v=h[l].getNearObject(g),v){var x=v.__parent;x&&this._removeLayer(v,!1);var S=new this._markerCluster(this,l,v,s);c[l].addObject(S,this._map.project(S._cLatLng,l)),v.__parent=S,s.__parent=S;var k=S;for(_=l-1;_>x._zoom;_--)k=new this._markerCluster(this,_,k),c[_].addObject(k,this._map.project(v.getLatLng(),_));x._addChild(k),this._removeFromGridUnclustered(v,l);return}h[l].addObject(s,g)}this._topClusterLevel._addChild(s),s.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(s){s instanceof L.MarkerCluster&&s._iconNeedsUpdate&&s._updateIcon()})},_enqueue:function(s){this._queue.push(s),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var s=0;s<this._queue.length;s++)this._queue[s].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var s=Math.round(this._map._zoom);this._processQueue(),this._zoom<s&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,s)):this._zoom>s?(this._animationStart(),this._animationZoomOut(this._zoom,s)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(s){var l=this._maxLat;return l!==void 0&&(s.getNorth()>=l&&(s._northEast.lat=1/0),s.getSouth()<=-l&&(s._southWest.lat=-1/0)),s},_animationAddLayerNonAnimated:function(s,l){if(l===s)this._featureGroup.addLayer(s);else if(l._childCount===2){l._addToMap();var c=l.getAllChildMarkers();this._featureGroup.removeLayer(c[0]),this._featureGroup.removeLayer(c[1])}else l._updateIcon()},_extractNonGroupLayers:function(s,l){var c=s.getLayers(),h=0,p;for(l=l||[];h<c.length;h++){if(p=c[h],p instanceof L.LayerGroup){this._extractNonGroupLayers(p,l);continue}l.push(p)}return l},_overrideMarkerIcon:function(s){var l=s.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[s]}});return l}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(s,l){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(s,l){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(s,l){this._animationAddLayerNonAnimated(s,l)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(s,l){var c=this._getExpandedVisibleBounds(),h=this._featureGroup,p=Math.floor(this._map.getMinZoom()),g;this._ignoreMove=!0,this._topClusterLevel._recursively(c,s,p,function(_){var v=_._latlng,x=_._markers,S;for(c.contains(v)||(v=null),_._isSingleParent()&&s+1===l?(h.removeLayer(_),_._recursivelyAddChildrenToMap(null,l,c)):(_.clusterHide(),_._recursivelyAddChildrenToMap(v,l,c)),g=x.length-1;g>=0;g--)S=x[g],c.contains(S._latlng)||h.removeLayer(S)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(c,l),h.eachLayer(function(_){!(_ instanceof L.MarkerCluster)&&_._icon&&_.clusterShow()}),this._topClusterLevel._recursively(c,s,l,function(_){_._recursivelyRestoreChildPositions(l)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(c,s,p,function(_){h.removeLayer(_),_.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(s,l){this._animationZoomOutSingle(this._topClusterLevel,s-1,l),this._topClusterLevel._recursivelyAddChildrenToMap(null,l,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s,this._getExpandedVisibleBounds())},_animationAddLayer:function(s,l){var c=this,h=this._featureGroup;h.addLayer(s),l!==s&&(l._childCount>2?(l._updateIcon(),this._forceLayout(),this._animationStart(),s._setPos(this._map.latLngToLayerPoint(l.getLatLng())),s.clusterHide(),this._enqueue(function(){h.removeLayer(s),s.clusterShow(),c._animationEnd()})):(this._forceLayout(),c._animationStart(),c._animationZoomOutSingle(l,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(s,l,c){var h=this._getExpandedVisibleBounds(),p=Math.floor(this._map.getMinZoom());s._recursivelyAnimateChildrenInAndAddSelfToMap(h,p,l+1,c);var g=this;this._forceLayout(),s._recursivelyBecomeVisible(h,c),this._enqueue(function(){if(s._childCount===1){var _=s._markers[0];this._ignoreMove=!0,_.setLatLng(_.getLatLng()),this._ignoreMove=!1,_.clusterShow&&_.clusterShow()}else s._recursively(h,c,p,function(v){v._recursivelyRemoveChildrenFromMap(h,p,l+1)});g._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(s){return new L.MarkerClusterGroup(s)};var a=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(s,l,c,h){L.Marker.prototype.initialize.call(this,c?c._cLatLng||c.getLatLng():new L.LatLng(0,0),{icon:this,pane:s.options.clusterPane}),this._group=s,this._zoom=l,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,c&&this._addChild(c),h&&this._addChild(h)},getAllChildMarkers:function(s,l){s=s||[];for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c].getAllChildMarkers(s,l);for(var h=this._markers.length-1;h>=0;h--)l&&this._markers[h].__dragStart||s.push(this._markers[h]);return s},getChildCount:function(){return this._childCount},zoomToBounds:function(s){for(var l=this._childClusters.slice(),c=this._group._map,h=c.getBoundsZoom(this._bounds),p=this._zoom+1,g=c.getZoom(),_;l.length>0&&h>p;){p++;var v=[];for(_=0;_<l.length;_++)v=v.concat(l[_]._childClusters);l=v}h>p?this._group._map.setView(this._latlng,p):h<=g?this._group._map.setView(this._latlng,g+1):this._group._map.fitBounds(this._bounds,s)},getBounds:function(){var s=new L.LatLngBounds;return s.extend(this._bounds),s},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(s,l){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(s),s instanceof L.MarkerCluster?(l||(this._childClusters.push(s),s.__parent=this),this._childCount+=s._childCount):(l||this._markers.push(s),this._childCount++),this.__parent&&this.__parent._addChild(s,!0)},_setClusterCenter:function(s){this._cLatLng||(this._cLatLng=s._cLatLng||s._latlng)},_resetBounds:function(){var s=this._bounds;s._southWest&&(s._southWest.lat=1/0,s._southWest.lng=1/0),s._northEast&&(s._northEast.lat=-1/0,s._northEast.lng=-1/0)},_recalculateBounds:function(){var s=this._markers,l=this._childClusters,c=0,h=0,p=this._childCount,g,_,v,x;if(p!==0){for(this._resetBounds(),g=0;g<s.length;g++)v=s[g]._latlng,this._bounds.extend(v),c+=v.lat,h+=v.lng;for(g=0;g<l.length;g++)_=l[g],_._boundsNeedUpdate&&_._recalculateBounds(),this._bounds.extend(_._bounds),v=_._wLatLng,x=_._childCount,c+=v.lat*x,h+=v.lng*x;this._latlng=this._wLatLng=new L.LatLng(c/p,h/p),this._boundsNeedUpdate=!1}},_addToMap:function(s){s&&(this._backupLatlng=this._latlng,this.setLatLng(s)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(s,l,c){this._recursively(s,this._group._map.getMinZoom(),c-1,function(h){var p=h._markers,g,_;for(g=p.length-1;g>=0;g--)_=p[g],_._icon&&(_._setPos(l),_.clusterHide())},function(h){var p=h._childClusters,g,_;for(g=p.length-1;g>=0;g--)_=p[g],_._icon&&(_._setPos(l),_.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(s,l,c,h){this._recursively(s,h,l,function(p){p._recursivelyAnimateChildrenIn(s,p._group._map.latLngToLayerPoint(p.getLatLng()).round(),c),p._isSingleParent()&&c-1===h?(p.clusterShow(),p._recursivelyRemoveChildrenFromMap(s,l,c)):p.clusterHide(),p._addToMap()})},_recursivelyBecomeVisible:function(s,l){this._recursively(s,this._group._map.getMinZoom(),l,null,function(c){c.clusterShow()})},_recursivelyAddChildrenToMap:function(s,l,c){this._recursively(c,this._group._map.getMinZoom()-1,l,function(h){if(l!==h._zoom)for(var p=h._markers.length-1;p>=0;p--){var g=h._markers[p];c.contains(g._latlng)&&(s&&(g._backupLatlng=g.getLatLng(),g.setLatLng(s),g.clusterHide&&g.clusterHide()),h._group._featureGroup.addLayer(g))}},function(h){h._addToMap(s)})},_recursivelyRestoreChildPositions:function(s){for(var l=this._markers.length-1;l>=0;l--){var c=this._markers[l];c._backupLatlng&&(c.setLatLng(c._backupLatlng),delete c._backupLatlng)}if(s-1===this._zoom)for(var h=this._childClusters.length-1;h>=0;h--)this._childClusters[h]._restorePosition();else for(var p=this._childClusters.length-1;p>=0;p--)this._childClusters[p]._recursivelyRestoreChildPositions(s)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(s,l,c,h){var p,g;this._recursively(s,l-1,c-1,function(_){for(g=_._markers.length-1;g>=0;g--)p=_._markers[g],(!h||!h.contains(p._latlng))&&(_._group._featureGroup.removeLayer(p),p.clusterShow&&p.clusterShow())},function(_){for(g=_._childClusters.length-1;g>=0;g--)p=_._childClusters[g],(!h||!h.contains(p._latlng))&&(_._group._featureGroup.removeLayer(p),p.clusterShow&&p.clusterShow())})},_recursively:function(s,l,c,h,p){var g=this._childClusters,_=this._zoom,v,x;if(l<=_&&(h&&h(this),p&&_===c&&p(this)),_<l||_<c)for(v=g.length-1;v>=0;v--)x=g[v],x._boundsNeedUpdate&&x._recalculateBounds(),s.intersects(x._bounds)&&x._recursively(s,l,c,h,p)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var s=this.options.opacity;return this.setOpacity(0),this.options.opacity=s,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(s){this._cellSize=s,this._sqCellSize=s*s,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(s,l){var c=this._getCoord(l.x),h=this._getCoord(l.y),p=this._grid,g=p[h]=p[h]||{},_=g[c]=g[c]||[],v=L.Util.stamp(s);this._objectPoint[v]=l,_.push(s)},updateObject:function(s,l){this.removeObject(s),this.addObject(s,l)},removeObject:function(s,l){var c=this._getCoord(l.x),h=this._getCoord(l.y),p=this._grid,g=p[h]=p[h]||{},_=g[c]=g[c]||[],v,x;for(delete this._objectPoint[L.Util.stamp(s)],v=0,x=_.length;v<x;v++)if(_[v]===s)return _.splice(v,1),x===1&&delete g[c],!0},eachObject:function(s,l){var c,h,p,g,_,v,x,S=this._grid;for(c in S){_=S[c];for(h in _)for(v=_[h],p=0,g=v.length;p<g;p++)x=s.call(l,v[p]),x&&(p--,g--)}},getNearObject:function(s){var l=this._getCoord(s.x),c=this._getCoord(s.y),h,p,g,_,v,x,S,k,N=this._objectPoint,w=this._sqCellSize,b=null;for(h=c-1;h<=c+1;h++)if(_=this._grid[h],_){for(p=l-1;p<=l+1;p++)if(v=_[p],v)for(g=0,x=v.length;g<x;g++)S=v[g],k=this._sqDist(N[L.Util.stamp(S)],s),(k<w||k<=w&&b===null)&&(w=k,b=S)}return b},_getCoord:function(s){var l=Math.floor(s/this._cellSize);return isFinite(l)?l:s},_sqDist:function(s,l){var c=l.x-s.x,h=l.y-s.y;return c*c+h*h}},function(){L.QuickHull={getDistant:function(s,l){var c=l[1].lat-l[0].lat,h=l[0].lng-l[1].lng;return h*(s.lat-l[0].lat)+c*(s.lng-l[0].lng)},findMostDistantPointFromBaseLine:function(s,l){var c=0,h=null,p=[],g,_,v;for(g=l.length-1;g>=0;g--){if(_=l[g],v=this.getDistant(_,s),v>0)p.push(_);else continue;v>c&&(c=v,h=_)}return{maxPoint:h,newPoints:p}},buildConvexHull:function(s,l){var c=[],h=this.findMostDistantPointFromBaseLine(s,l);return h.maxPoint?(c=c.concat(this.buildConvexHull([s[0],h.maxPoint],h.newPoints)),c=c.concat(this.buildConvexHull([h.maxPoint,s[1]],h.newPoints)),c):[s[0]]},getConvexHull:function(s){var l=!1,c=!1,h=!1,p=!1,g=null,_=null,v=null,x=null,S=null,k=null,N;for(N=s.length-1;N>=0;N--){var w=s[N];(l===!1||w.lat>l)&&(g=w,l=w.lat),(c===!1||w.lat<c)&&(_=w,c=w.lat),(h===!1||w.lng>h)&&(v=w,h=w.lng),(p===!1||w.lng<p)&&(x=w,p=w.lng)}c!==l?(k=_,S=g):(k=x,S=v);var b=[].concat(this.buildConvexHull([k,S],s),this.buildConvexHull([S,k],s));return b}}}(),L.MarkerCluster.include({getConvexHull:function(){var s=this.getAllChildMarkers(),l=[],c,h;for(h=s.length-1;h>=0;h--)c=s[h].getLatLng(),l.push(c);return L.QuickHull.getConvexHull(l)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var s=this.getAllChildMarkers(null,!0),l=this._group,c=l._map,h=c.latLngToLayerPoint(this._latlng),p;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?p=this._group.options.spiderfyShapePositions(s.length,h):s.length>=this._circleSpiralSwitchover?p=this._generatePointsSpiral(s.length,h):(h.y+=10,p=this._generatePointsCircle(s.length,h)),this._animationSpiderfy(s,p)}},unspiderfy:function(s){this._group._inZoomAnimation||(this._animationUnspiderfy(s),this._group._spiderfied=null)},_generatePointsCircle:function(s,l){var c=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+s),h=c/this._2PI,p=this._2PI/s,g=[],_,v;for(h=Math.max(h,35),g.length=s,_=0;_<s;_++)v=this._circleStartAngle+_*p,g[_]=new L.Point(l.x+h*Math.cos(v),l.y+h*Math.sin(v))._round();return g},_generatePointsSpiral:function(s,l){var c=this._group.options.spiderfyDistanceMultiplier,h=c*this._spiralLengthStart,p=c*this._spiralFootSeparation,g=c*this._spiralLengthFactor*this._2PI,_=0,v=[],x;for(v.length=s,x=s;x>=0;x--)x<s&&(v[x]=new L.Point(l.x+h*Math.cos(_),l.y+h*Math.sin(_))._round()),_+=p/h+x*5e-4,h+=g/_;return v},_noanimationUnspiderfy:function(){var s=this._group,l=s._map,c=s._featureGroup,h=this.getAllChildMarkers(null,!0),p,g;for(s._ignoreMove=!0,this.setOpacity(1),g=h.length-1;g>=0;g--)p=h[g],c.removeLayer(p),p._preSpiderfyLatlng&&(p.setLatLng(p._preSpiderfyLatlng),delete p._preSpiderfyLatlng),p.setZIndexOffset&&p.setZIndexOffset(0),p._spiderLeg&&(l.removeLayer(p._spiderLeg),delete p._spiderLeg);s.fire("unspiderfied",{cluster:this,markers:h}),s._ignoreMove=!1,s._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(s,l){var c=this._group,h=c._map,p=c._featureGroup,g=this._group.options.spiderLegPolylineOptions,_,v,x,S;for(c._ignoreMove=!0,_=0;_<s.length;_++)S=h.layerPointToLatLng(l[_]),v=s[_],x=new L.Polyline([this._latlng,S],g),h.addLayer(x),v._spiderLeg=x,v._preSpiderfyLatlng=v._latlng,v.setLatLng(S),v.setZIndexOffset&&v.setZIndexOffset(1e6),p.addLayer(v);this.setOpacity(.3),c._ignoreMove=!1,c.fire("spiderfied",{cluster:this,markers:s})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(s,l){var c=this,h=this._group,p=h._map,g=h._featureGroup,_=this._latlng,v=p.latLngToLayerPoint(_),x=L.Path.SVG,S=L.extend({},this._group.options.spiderLegPolylineOptions),k=S.opacity,N,w,b,C,O,B;for(k===void 0&&(k=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),x?(S.opacity=0,S.className=(S.className||"")+" leaflet-cluster-spider-leg"):S.opacity=k,h._ignoreMove=!0,N=0;N<s.length;N++)w=s[N],B=p.layerPointToLatLng(l[N]),b=new L.Polyline([_,B],S),p.addLayer(b),w._spiderLeg=b,x&&(C=b._path,O=C.getTotalLength()+.1,C.style.strokeDasharray=O,C.style.strokeDashoffset=O),w.setZIndexOffset&&w.setZIndexOffset(1e6),w.clusterHide&&w.clusterHide(),g.addLayer(w),w._setPos&&w._setPos(v);for(h._forceLayout(),h._animationStart(),N=s.length-1;N>=0;N--)B=p.layerPointToLatLng(l[N]),w=s[N],w._preSpiderfyLatlng=w._latlng,w.setLatLng(B),w.clusterShow&&w.clusterShow(),x&&(b=w._spiderLeg,C=b._path,C.style.strokeDashoffset=0,b.setStyle({opacity:k}));this.setOpacity(.3),h._ignoreMove=!1,setTimeout(function(){h._animationEnd(),h.fire("spiderfied",{cluster:c,markers:s})},200)},_animationUnspiderfy:function(s){var l=this,c=this._group,h=c._map,p=c._featureGroup,g=s?h._latLngToNewLayerPoint(this._latlng,s.zoom,s.center):h.latLngToLayerPoint(this._latlng),_=this.getAllChildMarkers(null,!0),v=L.Path.SVG,x,S,k,N,w,b;for(c._ignoreMove=!0,c._animationStart(),this.setOpacity(1),S=_.length-1;S>=0;S--)x=_[S],x._preSpiderfyLatlng&&(x.closePopup(),x.setLatLng(x._preSpiderfyLatlng),delete x._preSpiderfyLatlng,b=!0,x._setPos&&(x._setPos(g),b=!1),x.clusterHide&&(x.clusterHide(),b=!1),b&&p.removeLayer(x),v&&(k=x._spiderLeg,N=k._path,w=N.getTotalLength()+.1,N.style.strokeDashoffset=w,k.setStyle({opacity:0})));c._ignoreMove=!1,setTimeout(function(){var C=0;for(S=_.length-1;S>=0;S--)x=_[S],x._spiderLeg&&C++;for(S=_.length-1;S>=0;S--)x=_[S],x._spiderLeg&&(x.clusterShow&&x.clusterShow(),x.setZIndexOffset&&x.setZIndexOffset(0),C>1&&p.removeLayer(x),h.removeLayer(x._spiderLeg),delete x._spiderLeg);c._animationEnd(),c.fire("unspiderfied",{cluster:l,markers:_})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(s){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(s))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(s){this._spiderfied&&this._spiderfied.unspiderfy(s)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(s){s._spiderLeg&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow(),s.setZIndexOffset&&s.setZIndexOffset(0),this._map.removeLayer(s._spiderLeg),delete s._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(s){return s?s instanceof L.MarkerClusterGroup?s=s._topClusterLevel.getAllChildMarkers():s instanceof L.LayerGroup?s=s._layers:s instanceof L.MarkerCluster?s=s.getAllChildMarkers():s instanceof L.Marker&&(s=[s]):s=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(s),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(s),this},_flagParentsIconsNeedUpdate:function(s){var l,c;for(l in s)for(c=s[l].__parent;c;)c._iconNeedsUpdate=!0,c=c.__parent},_refreshSingleMarkerModeMarkers:function(s){var l,c;for(l in s)c=s[l],this.hasLayer(c)&&c.setIcon(this._overrideMarkerIcon(c))}}),L.Marker.include({refreshIconOptions:function(s,l){var c=this.options.icon;return L.setOptions(c,s),this.setIcon(c),l&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=a,Object.defineProperty(n,"__esModule",{value:!0})})})(Cf,Cf.exports);const bx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",Sx=Object.freeze(Object.defineProperty({__proto__:null,default:bx},Symbol.toStringTag,{value:"Module"})),Cx=As(Sx),Lx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Px=Object.freeze(Object.defineProperty({__proto__:null,default:Lx},Symbol.toStringTag,{value:"Module"})),Ex=As(Px),jx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",Tx=Object.freeze(Object.defineProperty({__proto__:null,default:jx},Symbol.toStringTag,{value:"Module"})),Nx=As(Tx);var or=We&&We.__assign||function(){return or=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},or.apply(this,arguments)},Mx=We&&We.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n},Ox=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sg,"__esModule",{value:!0});var Gu=kx,lh=Ox(gn);delete lh.default.Icon.Default.prototype._getIconUrl;lh.default.Icon.Default.mergeOptions({iconRetinaUrl:Cx.default,iconUrl:Ex.default,shadowUrl:Nx.default});function Ax(e){var t={},n={};e.children;var r=Mx(e,["children"]);return Object.entries(r).forEach(function(a){var s,l,c=a[0],h=a[1];c.startsWith("on")?n=or(or({},n),(s={},s[c]=h,s)):t=or(or({},t),(l={},l[c]=h,l))}),{clusterProps:t,clusterEvents:n}}function Ix(e,t){var n=Ax(e),r=n.clusterProps,a=n.clusterEvents,s=new lh.default.MarkerClusterGroup(r);return Object.entries(a).forEach(function(l){var c=l[0],h=l[1],p="cluster".concat(c.substring(2).toLowerCase());s.on(p,h)}),(0,Gu.createElementObject)(s,(0,Gu.extendContext)(t,{layerContainer:s}))}var Rx=function(e,t,n){},zx=(0,Gu.createPathComponent)(Ix,Rx),Dx=Sg.default=zx;const qt=[{id:"commercial",name:"Commercial",color:"#6d0020"},{id:"education",name:"Education",color:"#f7941d"},{id:"government",name:"Government",color:"#91982c"},{id:"manufacturing",name:"Manufacturing & Distribution",color:"#dc2626"},{id:"mixed-use",name:"Mixed Use",color:"#7c3aed"},{id:"parks",name:"Parks & Recreation",color:"#059669"},{id:"housing",name:"Housing",color:"#0891b2"},{id:"professional",name:"Professional Offices",color:"#64748b"},{id:"industrial",name:"Industrial/Manufacturing",color:"#ea580c"},{id:"research",name:"Research and Development",color:"#8b5cf6"}],Bx=e=>{const t=e.toLowerCase();return t.includes("housing")||t.includes("residential")?"housing":t.includes("parks")||t.includes("recreation")?"parks":t.includes("industrial")||t.includes("manufacturing")?"industrial":t.includes("academic")||t.includes("education")?"education":t.includes("office")||t.includes("administrative")?"professional":t.includes("research")||t.includes("development")?"research":t.includes("mixed")?"mixed-use":t.includes("commercial")?"commercial":t.includes("government")?"government":"commercial"},Ux=({position:e,projects:t,onSelectProject:n,onClose:r})=>{const[a,s]=F.useState(!1);F.useEffect(()=>{const S=setTimeout(()=>s(!0),50);return()=>clearTimeout(S)},[]),F.useEffect(()=>{const S=k=>{k.target.closest(".radial-menu")||r()};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[r]);const l=S=>{const k=qt.find(N=>N.id===S);return(k==null?void 0:k.color)||"#6d0020"},c=S=>{const k=qt.find(N=>N.id===S);return(k==null?void 0:k.name)||"Unknown"},h=320,p=Math.min(400,t.length*80+120),g=window.innerWidth,_=window.innerHeight;let v=Math.min(e.x,g-h-20),x=Math.min(e.y,_-p-20);return g<640&&(v=20,x=Math.max(20,Math.min(e.y,_-p-20))),f.jsx("div",{className:"fixed z-50 radial-menu",style:{left:`${v}px`,top:`${x}px`,width:g<640?"calc(100vw - 40px)":`${h}px`},children:f.jsxs("div",{className:`bg-white rounded-xl shadow-2xl border border-gray-200 p-4 transform transition-all duration-300 ${a?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center",children:[f.jsx(Xc,{className:"h-4 w-4 mr-2 text-[#6d0020]"}),t.length," Projects Here"]}),f.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors min-h-[44px] min-w-[44px]",children:f.jsx(Zt,{className:"h-4 w-4 text-gray-400"})})]}),f.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:t.map(S=>f.jsx("button",{onClick:()=>n(S),className:"w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-colors border border-gray-100 group min-h-[80px]",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0 mt-2",style:{backgroundColor:l(S.marketSector)}}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"font-medium text-gray-900 group-hover:text-[#6d0020] transition-colors line-clamp-2 mb-1",children:S.title}),S.buildingType&&f.jsx("p",{className:"text-sm text-gray-500 italic mb-1",children:S.buildingType}),f.jsx("p",{className:"text-sm text-gray-500 mb-1 truncate",children:S.client}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[f.jsx("span",{className:"truncate",children:c(S.marketSector)}),f.jsxs("span",{className:"ml-2 flex-shrink-0",children:["$",S.compensation.toLocaleString()]})]})]})]})},S.id))})]})})},Fx=({project:e,position:t})=>{const r=(p=>qt.find(g=>g.id===p)||qt[0])(e.marketSector),a=280,s=(e.imageUrls.length>0,100),l=window.innerWidth;let c=t.x+20,h=t.y-s-20;return c+a>l-20&&(c=t.x-a-20),h<20&&(h=t.y+20),c<20&&(c=20),f.jsx("div",{className:"fixed z-20 pointer-events-none select-none",style:{left:`${c}px`,top:`${h}px`,width:`${a}px`,pointerEvents:"none",userSelect:"none"},children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden",style:{pointerEvents:"none"},children:[e.imageUrls.length>0&&f.jsx("div",{className:"h-20 bg-gray-200 overflow-hidden",children:f.jsx("img",{src:e.imageUrls[0],alt:e.title,className:"w-full h-full object-cover",style:{pointerEvents:"none"},draggable:!1})}),f.jsxs("div",{className:"p-3",style:{pointerEvents:"none"},children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:r.color,pointerEvents:"none"}}),f.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:r.name}),e.buildingType&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-gray-400",children:""}),f.jsx("span",{className:"text-sm text-gray-600 truncate",children:e.buildingType})]})]}),f.jsx("h3",{className:"font-semibold text-gray-900 text-sm leading-tight line-clamp-2",children:e.title})]})]})})},$x=(e,t=!1,n=!1)=>{const r=t?'<circle cx="12" cy="12" r="10" fill="none" stroke="white" stroke-width="3"/>':"",a=n?`
      <g transform="translate(18, 2)">
        <rect x="0" y="0" width="12" height="12" rx="2" fill="white" stroke="#374151" stroke-width="1" data-checkbox="true"/>
        ${t?'<path d="M2 6l3 3 5-5" stroke="#059669" stroke-width="2" fill="none" data-checkbox="true"/>':""}
      </g>
    `:"";return gn.divIcon({html:`
      <div class="relative transform transition-transform">
        <svg width="${n?"32":"24"}" height="32" viewBox="0 0 ${n?"32":"24"} 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 0C5.373 0 0 5.373 0 12C0 18.627 12 32 12 32C12 32 24 18.627 24 12C24 5.373 18.627 0 12 0Z" fill="${e}"/>
          <path d="M12 0C5.373 0 0 5.373 0 12C0 18.627 12 32 12 32C12 32 24 18.627 24 12C24 5.373 18.627 0 12 0Z" stroke="white" stroke-width="2"/>
          <circle cx="12" cy="12" r="6" fill="white"/>
          ${r}
          ${a}
        </svg>
      </div>
    `,className:"custom-pin-marker",iconSize:[n?32:24,32],iconAnchor:[12,32],popupAnchor:[0,-32]})},Zx=({projects:e})=>{const t=_x();return F.useEffect(()=>{if(e.length>0&&typeof window<"u"&&window.L){const n=new gn.LatLngBounds(e.map(r=>r.coordinates));t.fitBounds(n,{padding:[20,20]})}},[e,t]),null},Hx=({projects:e,onProjectSelect:t,isFullscreen:n=!1,isAdminMode:r=!1,selectedProjectIds:a=new Set,onToggleProjectSelection:s})=>{const[l,c]=F.useState(!1),[h,p]=F.useState({x:0,y:0}),[g,_]=F.useState([]),[v,x]=F.useState(null),S=F.useRef(null),k=F.useRef(),N=P=>{const j=qt.find(T=>T.id===P);return(j==null?void 0:j.color)||"#6d0020"},w=P=>{const j=[],T=new Set;return P.forEach(U=>{if(T.has(U.id))return;const D=[U];T.add(U.id),P.forEach(H=>{if(T.has(H.id))return;b(U.coordinates[0],U.coordinates[1],H.coordinates[0],H.coordinates[1])<.001&&(D.push(H),T.add(H.id))}),j.push(D)}),j},b=(P,j,T,U)=>{const H=(T-P)*Math.PI/180,Y=(U-j)*Math.PI/180,Le=Math.sin(H/2)*Math.sin(H/2)+Math.cos(P*Math.PI/180)*Math.cos(T*Math.PI/180)*Math.sin(Y/2)*Math.sin(Y/2);return 6371*(2*Math.atan2(Math.sqrt(Le),Math.sqrt(1-Le)))},C=(P,j)=>{var D;x(null),k.current&&clearTimeout(k.current);const T=(D=j.originalEvent)==null?void 0:D.target,U=(T==null?void 0:T.getAttribute("data-checkbox"))==="true";if(r&&s&&U&&P.length===1){s(P[0].id);return}if(P.length===1)t(P[0]);else{const H=S.current.getContainer().getBoundingClientRect(),Y=j.originalEvent.clientX-H.left,Le=j.originalEvent.clientY-H.top;p({x:Y,y:Le}),_(P),c(!0)}},O=(P,j)=>{k.current&&clearTimeout(k.current),P.length===1&&(k.current=setTimeout(()=>{const T=S.current.getContainer().getBoundingClientRect(),U=j.originalEvent.clientX-T.left,D=j.originalEvent.clientY-T.top;x({project:P[0],position:{x:U,y:D}})},300))},B=()=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{x(null)},100)},z=()=>{c(!1)};F.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]);const R=w(e);return f.jsxs("div",{className:"relative w-full h-full",children:[f.jsxs(yx,{center:[43,-75],zoom:7,className:"w-full h-full z-0",ref:S,zoomControl:!n,children:[f.jsx(wx,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",attribution:' <a href="https://carto.com/attributions">CARTO</a>'}),f.jsx(Zx,{projects:e}),f.jsx(Dx,{chunkedLoading:!0,maxClusterRadius:50,spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,zoomToBoundsOnClick:!0,iconCreateFunction:P=>{const j=P.getChildCount();return gn.divIcon({html:`
                <div class="cluster-marker">
                  <div class="cluster-inner">
                    <span>${j}</span>
                  </div>
                </div>
              `,className:"custom-cluster-marker",iconSize:[40,40]})},children:R.map((P,j)=>{const T=P[0],U=P.some(D=>a.has(D.id));return f.jsx(xx,{position:T.coordinates,icon:$x(N(T.marketSector),U,r),eventHandlers:{click:D=>C(P,D),mouseover:D=>O(P,D),mouseout:B}},`group-${j}`)})})]}),v&&f.jsx(Fx,{project:v.project,position:v.position}),l&&f.jsx("div",{className:"absolute inset-0 z-30",children:f.jsx(Ux,{position:h,projects:g,onSelectProject:t,onClose:z})}),f.jsx("style",{jsx:!0,children:`
        .cluster-marker {
          background: #6d0020;
          border: 3px solid white;
          border-radius: 50%;
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }
        .cluster-inner {
          color: white;
          font-weight: bold;
          font-size: 14px;
        }
      `})]})},Wx=({images:e,initialIndex:t,onClose:n,projectTitle:r})=>{const[a,s]=F.useState(t);F.useEffect(()=>{const p=g=>{g.key==="Escape"&&n(),g.key==="ArrowLeft"&&c(),g.key==="ArrowRight"&&l()};return document.addEventListener("keydown",p),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",p),document.body.style.overflow="unset"}},[]);const l=()=>{s(p=>(p+1)%e.length)},c=()=>{s(p=>(p-1+e.length)%e.length)},h=()=>{const p=document.createElement("a");p.href=e[a],p.download=`${r}-image-${a+1}.jpg`,document.body.appendChild(p),p.click(),document.body.removeChild(p)};return f.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-95 flex items-center justify-center",children:[f.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black to-transparent p-6",children:f.jsxs("div",{className:"flex items-center justify-between text-white",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold",children:r}),f.jsxs("p",{className:"text-sm text-gray-300",children:[a+1," of ",e.length]})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("button",{onClick:h,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",title:"Download image",children:f.jsx(ag,{className:"h-5 w-5"})}),f.jsx("button",{onClick:n,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",title:"Close (Esc)",children:f.jsx(Zt,{className:"h-6 w-6"})})]})]})}),f.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-16",children:[f.jsx("img",{src:e[a],alt:`${r} - Image ${a+1}`,className:"max-w-full max-h-full object-contain"}),e.length>1&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:c,className:"absolute left-6 top-1/2 transform -translate-y-1/2 p-3 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full transition-all",title:"Previous image ()",children:f.jsx(sg,{className:"h-6 w-6"})}),f.jsx("button",{onClick:l,className:"absolute right-6 top-1/2 transform -translate-y-1/2 p-3 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full transition-all",title:"Next image ()",children:f.jsx(og,{className:"h-6 w-6"})})]})]}),e.length>1&&f.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-6",children:f.jsx("div",{className:"flex justify-center space-x-2 overflow-x-auto",children:e.map((p,g)=>f.jsx("button",{onClick:()=>s(g),className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all ${g===a?"border-white":"border-transparent opacity-60 hover:opacity-100"}`,children:f.jsx("img",{src:p,alt:`Thumbnail ${g+1}`,className:"w-full h-full object-cover"})},g))})}),f.jsx("div",{className:"absolute inset-0 -z-10",onClick:n})]})},Vx=e=>["image/jpeg","image/jpg","image/png","image/webp"].includes(e.type)?e.size>52428800?(alert("Image size must be less than 50MB."),!1):!0:(alert("Please upload only JPEG, PNG, or WebP images."),!1),qx=e=>new Promise(t=>{const n=document.createElement("canvas"),r=n.getContext("2d"),a=new Image;a.onload=()=>{let{width:s,height:l}=a;const c=e.size>20*1024*1024?800:1200;if(s>c||l>c){const p=Math.min(c/s,c/l);s=s*p,l=l*p}n.width=s,n.height=l,r.imageSmoothingEnabled=!0,r.imageSmoothingQuality="high",r.drawImage(a,0,0,s,l);let h=.8;e.size>30*1024*1024?h=.6:e.size>20*1024*1024?h=.7:e.size>10*1024*1024&&(h=.75),t(n.toDataURL("image/jpeg",h))},a.src=URL.createObjectURL(e)}),Cg=({images:e,onImagesChange:t,maxImages:n=10})=>{const[r,a]=F.useState(!1),[s,l]=F.useState(0),c=F.useRef(null),h=async v=>{if(e.length+v.length>n){alert(`Maximum ${n} images allowed`);return}a(!0),l(v.length);const x=[];for(let S=0;S<v.length;S++){const k=v[S];if(Vx(k))try{const N=await qx(k);x.push(N),l(w=>w-1)}catch(N){console.error("Error processing image:",N),l(w=>w-1)}else l(N=>N-1)}t([...e,...x]),a(!1),l(0)},p=v=>{const x=e.filter((S,k)=>k!==v);t(x)},g=v=>{v.preventDefault();const x=v.dataTransfer.files;x.length>0&&h(x)},_=v=>{v.preventDefault()};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors cursor-pointer",onDrop:g,onDragOver:_,onClick:()=>{var v;return(v=c.current)==null?void 0:v.click()},children:[f.jsx("input",{ref:c,type:"file",multiple:!0,accept:"image/*",onChange:v=>v.target.files&&h(v.target.files),className:"hidden"}),f.jsxs("div",{className:"space-y-2",children:[r?f.jsx(Us,{className:"h-8 w-8 text-[#6d0020] mx-auto animate-spin"}):f.jsx(ma,{className:"h-8 w-8 text-gray-400 mx-auto"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-900",children:r?`Processing ${s} image(s)...`:"Upload project images"}),f.jsx("p",{className:"text-xs text-gray-500",children:"Drag and drop or click to select  JPEG, PNG, WebP  Up to 50MB each"}),r&&f.jsx("p",{className:"text-xs text-[#6d0020] mt-1",children:"Large images are automatically resized for optimal performance"})]})]})]}),e.length>0&&f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[e.map((v,x)=>f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:f.jsx("img",{src:v,alt:`Upload ${x+1}`,className:"w-full h-full object-cover"})}),f.jsx("button",{onClick:S=>{S.stopPropagation(),p(x)},className:"absolute -top-2 -right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx(Zt,{className:"h-3 w-3"})})]},x)),e.length<n&&!r&&f.jsx("button",{onClick:()=>{var v;return(v=c.current)==null?void 0:v.click()},className:"aspect-square rounded-lg border-2 border-dashed border-gray-300 hover:border-gray-400 flex items-center justify-center transition-colors",children:f.jsxs("div",{className:"text-center",children:[f.jsx(tx,{className:"h-6 w-6 text-gray-400 mx-auto mb-1"}),f.jsx("span",{className:"text-xs text-gray-500",children:"Add More"})]})})]})]})},Lg=({value:e,onChange:t,onCoordinatesFound:n,placeholder:r="Enter address...",className:a=""})=>{const[s,l]=F.useState([]),[c,h]=F.useState(!1),[p,g]=F.useState(!1),[_,v]=F.useState(-1),[x,S]=F.useState(!1),k=F.useRef(null),N=F.useRef(null),w=F.useRef(),b=async z=>{if(z.length<3){l([]);return}h(!0);try{const R=await fetch(`https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&limit=5&q=${encodeURIComponent(z)}`);if(R.ok){const P=await R.json();l(P),g(!0)}}catch(R){console.error("Error searching addresses:",R)}finally{h(!1)}},C=z=>{const R=z.target.value;t(R),S(!1),v(-1),w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{b(R)},300)},O=z=>{t(z.display_name);const R=[parseFloat(z.lat),parseFloat(z.lon)];n&&n(R),S(!0),g(!1),l([])},B=z=>{if(!(!p||s.length===0))switch(z.key){case"ArrowDown":z.preventDefault(),v(R=>R<s.length-1?R+1:R);break;case"ArrowUp":z.preventDefault(),v(R=>R>0?R-1:-1);break;case"Enter":z.preventDefault(),_>=0&&_<s.length&&O(s[_]);break;case"Escape":g(!1),v(-1);break}};return F.useEffect(()=>{const z=R=>{k.current&&!k.current.contains(R.target)&&N.current&&!N.current.contains(R.target)&&g(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]),f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:"relative",children:[f.jsx("input",{ref:k,type:"text",value:e,onChange:C,onKeyDown:B,onFocus:()=>s.length>0&&g(!0),placeholder:r,className:`w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent ${a}`}),f.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),f.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:c?f.jsx(Us,{className:"h-4 w-4 text-gray-400 animate-spin"}):x?f.jsx(G0,{className:"h-4 w-4 text-green-500"}):null})]}),p&&s.length>0&&f.jsx("div",{ref:N,className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:s.map((z,R)=>f.jsx("button",{onClick:()=>O(z),className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 ${R===_?"bg-gray-50":""}`,children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(pa,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:z.display_name})})]})},z.place_id))})]})},Gx=({project:e,onClose:t,onSave:n})=>{var S;const[r,a]=F.useState(!1),[s,l]=F.useState(e.coordinates),[c,h]=F.useState({title:e.title,address:e.address,city:e.city,marketSector:e.marketSector,buildingType:e.buildingType||"",description:e.description,client:e.client,projectManager:e.projectManager,status:e.status,compensation:e.compensation.toString(),year:((S=e.year)==null?void 0:S.toString())||new Date().getFullYear().toString(),imageUrls:[...e.imageUrls],featured:e.featured||!1,recent:e.recent||!1}),p=k=>{const{name:N,value:w,type:b}=k.target;if(b==="checkbox"){const C=k.target.checked;h(O=>({...O,[N]:C}))}else h(C=>({...C,[N]:w}))},g=k=>{h(N=>({...N,imageUrls:k}))},_=k=>{if(h(N=>({...N,address:k})),k){const N=k.split(",");if(N.length>=2){const w=N[N.length-2].trim();h(b=>({...b,city:w}))}}},v=k=>{l(k)},x=async k=>{k.preventDefault(),a(!0);try{const N={...e,title:c.title,address:c.address,city:c.city,coordinates:s,marketSector:c.marketSector,buildingType:c.buildingType||void 0,description:c.description,client:c.client,projectManager:c.projectManager,status:c.status,compensation:parseFloat(c.compensation)||0,year:parseInt(c.year)||new Date().getFullYear(),imageUrls:c.imageUrls,featured:c.featured,recent:c.recent};await n(N)}catch(N){console.error("Error updating project:",N),alert("Error updating project. Please try again.")}finally{a(!1)}};return f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:f.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0",children:[f.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),f.jsxs("div",{className:"relative inline-block w-full max-w-4xl my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl z-50",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Edit Project"}),f.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:f.jsx(Zt,{className:"h-5 w-5 text-gray-400"})})]}),f.jsxs("form",{onSubmit:x,className:"p-4 sm:p-6 space-y-6 max-h-[80vh] overflow-y-auto",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Title *"}),f.jsx("input",{type:"text",name:"title",value:c.title,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Market Sector *"}),f.jsx("select",{name:"marketSector",value:c.marketSector,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base",children:qt.map(k=>f.jsx("option",{value:k.id,children:k.name},k.id))})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Building Type"}),f.jsx("input",{type:"text",name:"buildingType",value:c.buildingType,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base",placeholder:"e.g., Residence Hall, Office Building, Manufacturing Facility"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Optional - Specify the specific type of building (e.g., "Residence Hall" for education projects)'})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Address ",s!==e.coordinates&&f.jsx("span",{className:"text-green-600 text-xs",children:"(Location updated)"})]}),f.jsx(Lg,{value:c.address,onChange:_,onCoordinatesFound:v,placeholder:"Start typing an address..."}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Update address and select from suggestions to change location coordinates"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),f.jsx("input",{type:"text",name:"city",value:c.city,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),f.jsx("textarea",{name:"description",value:c.description,onChange:p,required:!0,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base resize-none"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client *"}),f.jsx("input",{type:"text",name:"client",value:c.client,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Manager"}),f.jsx("input",{type:"text",name:"projectManager",value:c.projectManager,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),f.jsxs("select",{name:"status",value:c.status,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base",children:[f.jsx("option",{value:"Active",children:"Active"}),f.jsx("option",{value:"Inactive",children:"Inactive"}),f.jsx("option",{value:"Dormant",children:"Dormant"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Value ($)"}),f.jsx("input",{type:"number",name:"compensation",value:c.compensation,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),f.jsx("input",{type:"number",name:"year",value:c.year,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Project Images"}),f.jsx(Cg,{images:c.imageUrls,onImagesChange:g,maxImages:10})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",name:"featured",checked:c.featured,onChange:p,className:"h-4 w-4 text-[#6d0020] focus:ring-[#6d0020] border-gray-300 rounded"}),f.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Featured Project"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",name:"recent",checked:c.recent,onChange:p,className:"h-4 w-4 text-[#6d0020] focus:ring-[#6d0020] border-gray-300 rounded"}),f.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Recent Project"})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end space-y-3 sm:space-y-0 sm:space-x-4 pt-6 border-t border-gray-200",children:[f.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-6 py-2 text-gray-700 hover:text-gray-900 transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:r,className:"w-full sm:w-auto flex items-center justify-center space-x-2 px-6 py-2 bg-[#6d0020] hover:bg-[#5a001a] disabled:bg-gray-400 text-white rounded-lg transition-colors min-h-[44px]",children:r?f.jsxs(f.Fragment,{children:[f.jsx(Us,{className:"h-4 w-4 animate-spin"}),f.jsx("span",{children:"Saving..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(ox,{className:"h-4 w-4"}),f.jsx("span",{children:"Save Changes"})]})})]})]})]})]})})},Kx=({project:e,onBack:t,allProjects:n,onUpdateProject:r,onDeleteProject:a})=>{const[s,l]=F.useState(0),[c,h]=F.useState(!1),[p,g]=F.useState(!1),[_,v]=F.useState(!1),[x,S]=F.useState(!1),[k,N]=F.useState(!1),w=r&&a,b=H=>qt.find(Y=>Y.id===H)||qt[0],C=b(e.marketSector),O=()=>{l(H=>H===e.imageUrls.length-1?0:H+1)},B=()=>{l(H=>H===0?e.imageUrls.length-1:H-1)},z=()=>{const H=`https://www.google.com/maps/search/?api=1&query=${e.coordinates[0]},${e.coordinates[1]}`;window.open(H,"_blank")},R=async()=>{const H=`${window.location.origin}${window.location.pathname}#project-${e.id}`;if(navigator.share)try{await navigator.share({title:e.title,text:`Check out this project: ${e.title} in ${e.city}`,url:H})}catch{await navigator.clipboard.writeText(H),alert("Project link copied to clipboard!")}else try{await navigator.clipboard.writeText(H),alert("Project link copied to clipboard!")}catch{prompt("Copy this project link:",H)}},P=H=>{l(H),h(!0)},j=async H=>{if(r){N(!0);try{await r(H),g(!1),v(!1)}catch(Y){console.error("Error updating project:",Y)}finally{N(!1)}}},T=async()=>{if(!a)return;const H=`Are you sure you want to delete "${e.title}"?

This action cannot be undone.`;if(window.confirm(H)){S(!0),v(!1);try{await a(e.id)}catch(Y){console.error("Error deleting project:",Y),S(!1)}}},U=()=>{g(!0),v(!1)},D=n.filter(H=>H.id!==e.id&&(H.city===e.city||H.marketSector===e.marketSector)).slice(0,3);return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-gray-600 hover:text-[#6d0020] transition-colors min-h-[44px]",disabled:x,children:[f.jsx(V0,{className:"h-5 w-5"}),f.jsx("span",{className:"hidden sm:inline",children:"Back to Map"}),f.jsx("span",{className:"sm:hidden",children:"Back"})]}),f.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4",children:f.jsxs("button",{onClick:R,className:"flex items-center space-x-1 sm:space-x-2 px-3 sm:px-4 py-2 bg-[#f7941d] hover:bg-[#e8851a] text-white rounded-lg transition-colors min-h-[44px]",disabled:x,children:[f.jsx(ax,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Share"})]})})]})})}),x&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-lg p-6 flex items-center space-x-3 mx-4",children:[f.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-[#6d0020]"}),f.jsx("span",{className:"text-gray-900",children:"Deleting project..."})]})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-6 lg:space-y-8",children:[f.jsx("div",{className:"relative",children:f.jsx("div",{className:"relative h-64 sm:h-80 lg:h-96 bg-gray-200 rounded-2xl overflow-hidden",children:e.imageUrls.length>0&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>P(s),className:"w-full h-full group cursor-pointer",children:[f.jsx("img",{src:e.imageUrls[s],alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center",children:f.jsx(Wu,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),e.imageUrls.length>1&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:B,className:"absolute left-2 sm:left-4 top-1/2 transform -translate-y-1/2 p-2 sm:p-3 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full transition-all min-h-[44px] min-w-[44px]",children:f.jsx(sg,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),f.jsx("button",{onClick:O,className:"absolute right-2 sm:right-4 top-1/2 transform -translate-y-1/2 p-2 sm:p-3 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full transition-all min-h-[44px] min-w-[44px]",children:f.jsx(og,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),f.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:e.imageUrls.map((H,Y)=>f.jsx("button",{onClick:()=>l(Y),className:`w-1 h-1 sm:w-3 sm:h-1 rounded-full transition-all min-h-[11px] min-w-[11px] ${Y===s?"bg-white":"bg-white bg-opacity-50"}`},Y))})]})]})})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-4",children:[f.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:C.color}}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:C.name}),e.featured&&f.jsx("span",{className:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium bg-[#f7941d] text-white rounded-full",children:"Featured"}),e.recent&&f.jsx("span",{className:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium bg-[#91982c] text-white rounded-full",children:"Recent"})]}),f.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:e.title}),f.jsxs("button",{onClick:z,className:"flex items-center space-x-2 text-gray-600 hover:text-[#6d0020] transition-colors group mb-6 min-h-[44px]",children:[f.jsx(pa,{className:"h-5 w-5"}),f.jsx("span",{className:"text-base sm:text-lg",children:e.city}),f.jsx(Q0,{className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl p-6 sm:p-8 shadow-sm",children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4",children:"Project Overview"}),f.jsx("p",{className:"text-gray-700 leading-relaxed text-base sm:text-lg",children:e.description})]}),e.imageUrls.length>1&&f.jsxs("div",{className:"bg-white rounded-2xl p-6 sm:p-8 shadow-sm",children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6",children:"Project Gallery"}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-4",children:e.imageUrls.map((H,Y)=>f.jsxs("button",{onClick:()=>P(Y),className:`relative aspect-square rounded-lg overflow-hidden transition-all group min-h-[120px] ${Y===s?"ring-4 ring-[#6d0020] ring-opacity-50":"hover:scale-105"}`,children:[f.jsx("img",{src:H,alt:`${e.title} - Image ${Y+1}`,className:"w-full h-full object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center",children:f.jsx(Wu,{className:"h-6 w-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},Y))})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm relative",children:[w&&f.jsx("div",{className:"absolute top-4 right-4",children:f.jsxs("div",{className:"relative",children:[f.jsx("button",{onClick:()=>v(!_),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation min-h-[44px] min-w-[44px]",disabled:x||k,children:f.jsx(lg,{className:"h-5 w-5 text-gray-600"})}),_&&f.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-20",children:[f.jsxs("button",{onClick:U,disabled:x||k,className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation min-h-[44px]",children:[f.jsx(lx,{className:"h-4 w-4"}),f.jsx("span",{children:k?"Updating...":"Edit Project"})]}),f.jsxs("button",{onClick:T,disabled:x||k,className:"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation min-h-[44px]",children:[f.jsx(eh,{className:"h-4 w-4"}),f.jsx("span",{children:x?"Deleting...":"Delete Project"})]})]})]})}),f.jsx("h3",{className:`text-lg sm:text-xl font-bold text-gray-900 mb-6 ${w?"pr-12":""}`,children:"Project Details"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx(ug,{className:"h-4 w-4 text-gray-400"}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Client"})]}),f.jsx("p",{className:"text-gray-900 font-medium",children:e.client})]}),e.projectManager&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx(Xc,{className:"h-4 w-4 text-gray-400"}),f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Project Manager"})]}),f.jsx("p",{className:"text-gray-900 font-medium",children:e.projectManager})]}),e.buildingType&&f.jsxs("div",{children:[f.jsx("div",{className:"flex items-center space-x-2 mb-2",children:f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Project Type"})}),f.jsx("p",{className:"text-gray-900 font-medium text-lg sm:text-xl",children:e.buildingType})]})]})]}),D.length>0&&f.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[f.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-6",children:"Related Projects"}),f.jsx("div",{className:"space-y-4",children:D.map(H=>{const Y=b(H.marketSector);return f.jsx("button",{onClick:()=>window.location.href=`#project-${H.id}`,className:"w-full text-left p-4 rounded-lg hover:bg-gray-50 transition-colors border border-gray-100 min-h-[80px]",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0 mt-2",style:{backgroundColor:Y.color}}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"font-medium text-gray-900 line-clamp-2 mb-1",children:H.title}),f.jsx("p",{className:"text-sm text-gray-500",children:H.city})]})]})},H.id)})})]})]})]})}),c&&f.jsx(Wx,{images:e.imageUrls,initialIndex:s,onClose:()=>h(!1),projectTitle:e.title}),p&&w&&f.jsx(Gx,{project:e,onClose:()=>g(!1),onSave:j}),_&&f.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>v(!1)})]})},Lf=({filters:e,onFiltersChange:t,projectCount:n,totalCount:r})=>{const a=l=>{const c=e.marketSectors.includes(l)?e.marketSectors.filter(h=>h!==l):[...e.marketSectors,l];t({...e,marketSectors:c})},s=()=>{t({marketSectors:[],searchQuery:"",status:[]})};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx(Xc,{className:"h-4 w-4 text-[#6d0020]"}),f.jsx("span",{className:"font-medium text-gray-900",children:"Results"})]}),f.jsx("p",{className:"text-2xl font-bold text-[#6d0020]",children:n}),f.jsxs("p",{className:"text-sm text-gray-600",children:["of ",r," projects"]})]}),(e.marketSectors.length>0||e.status.length>0||e.searchQuery)&&f.jsx("button",{onClick:s,className:"w-full text-sm text-[#6d0020] hover:text-[#5a001a] font-medium transition-colors",children:"Clear all filters"}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Market Sectors"}),f.jsx("div",{className:"space-y-2",children:qt.map(l=>{const c=e.marketSectors.includes(l.id);return f.jsxs("button",{onClick:()=>a(l.id),className:"w-full flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors group",children:[c?f.jsx(Hu,{className:"h-4 w-4 text-[#6d0020]"}):f.jsx(J0,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-600"}),f.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:l.color}}),f.jsx("span",{className:`text-sm flex-1 text-left ${c?"font-medium text-gray-900":"text-gray-700"}`,children:l.name})]},l.id)})})]})]})},Ku=async(e,t)=>{try{const n=e?`${e}, ${t}`:t;if(!n.trim())return null;const r=await fetch(`https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&limit=1&q=${encodeURIComponent(n)}`);if(!r.ok)throw new Error(`Geocoding request failed: ${r.status}`);const a=await r.json();if(a&&a.length>0){const s=a[0];return[parseFloat(s.lat),parseFloat(s.lon)]}if(e&&t){const s=await fetch(`https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&limit=1&q=${encodeURIComponent(t)}`);if(s.ok){const l=await s.json();if(l&&l.length>0){const c=l[0],h=parseFloat(c.lat)+(Math.random()-.5)*.01,p=parseFloat(c.lon)+(Math.random()-.5)*.01;return[h,p]}}}return null}catch(n){return console.error("Geocoding error:",n),null}},Jx=({onClose:e,onAddProject:t})=>{const[n,r]=F.useState(!1),[a,s]=F.useState(null),[l,c]=F.useState({title:"",address:"",city:"",marketSector:"commercial",buildingType:"",description:"",client:"",projectManager:"",status:"Active",compensation:"",year:new Date().getFullYear().toString(),imageUrls:[],featured:!1,recent:!0}),h=S=>{const{name:k,value:N,type:w}=S.target;if(w==="checkbox"){const b=S.target.checked;c(C=>({...C,[k]:b}))}else c(b=>({...b,[k]:N}))},p=S=>{c(k=>({...k,imageUrls:S}))},g=S=>{if(c(k=>({...k,address:S})),!l.city&&S){const k=S.split(",");if(k.length>=2){const N=k[k.length-2].trim();c(w=>({...w,city:N}))}}},_=S=>{s(S)},v=async S=>{const k=S.target.value;if(c(N=>({...N,city:k})),!l.address.trim()&&k.trim())try{const N=await Ku("",k);N&&s(N)}catch(N){console.error("Error geocoding city:",N)}},x=async S=>{S.preventDefault();let k=a;if(!k&&l.city.trim())try{k=await Ku(l.address,l.city)}catch(N){console.error("Error geocoding:",N)}if(!k){alert("Unable to determine location coordinates. Please check the city name or provide a more specific address.");return}r(!0);try{const N={title:l.title,address:l.address,city:l.city,coordinates:k,marketSector:l.marketSector,buildingType:l.buildingType||void 0,description:l.description,imageUrls:l.imageUrls,client:l.client,projectManager:l.projectManager,status:l.status,compensation:parseFloat(l.compensation)||0,year:parseInt(l.year)||new Date().getFullYear(),featured:l.featured,recent:l.recent};t(N)}catch(N){console.error("Error adding project:",N),alert("Error adding project. Please try again.")}finally{r(!1)}};return f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:f.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0",children:[f.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:e}),f.jsxs("div",{className:"relative inline-block w-full max-w-4xl my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl z-50",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Add New Project"}),f.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:f.jsx(Zt,{className:"h-5 w-5 text-gray-400"})})]}),f.jsxs("form",{onSubmit:x,className:"p-4 sm:p-6 space-y-6 max-h-[80vh] overflow-y-auto",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Title *"}),f.jsx("input",{type:"text",name:"title",value:l.title,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base",placeholder:"Enter project title"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Market Sector *"}),f.jsx("select",{name:"marketSector",value:l.marketSector,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base",children:qt.map(S=>f.jsx("option",{value:S.id,children:S.name},S.id))})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Building Type"}),f.jsx("input",{type:"text",name:"buildingType",value:l.buildingType,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base",placeholder:"e.g., Residence Hall, Office Building, Manufacturing Facility"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Optional - Specify the specific type of building (e.g., "Residence Hall" for education projects)'})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Address (Optional) ",a&&f.jsx("span",{className:"text-green-600 text-xs",children:"(Location found)"})]}),f.jsx(Lg,{value:l.address,onChange:g,onCoordinatesFound:_,placeholder:"Start typing an address (optional)..."}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional - If provided, select from suggestions to get precise coordinates"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["City * ",!l.address&&a&&f.jsx("span",{className:"text-green-600 text-xs",children:"(Location found)"})]}),f.jsx("input",{type:"text",name:"city",value:l.city,onChange:v,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base",placeholder:"City name"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Required - Will be used for map location if no specific address is provided"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),f.jsx("textarea",{name:"description",value:l.description,onChange:h,required:!0,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base resize-none",placeholder:"Project description"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client *"}),f.jsx("input",{type:"text",name:"client",value:l.client,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base",placeholder:"Client name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Manager"}),f.jsx("input",{type:"text",name:"projectManager",value:l.projectManager,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base",placeholder:"Project manager name"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),f.jsxs("select",{name:"status",value:l.status,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base",children:[f.jsx("option",{value:"Active",children:"Active"}),f.jsx("option",{value:"Inactive",children:"Inactive"}),f.jsx("option",{value:"Dormant",children:"Dormant"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Value ($)"}),f.jsx("input",{type:"number",name:"compensation",value:l.compensation,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base",placeholder:"0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),f.jsx("input",{type:"number",name:"year",value:l.year,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent text-base",placeholder:"2024"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Project Images"}),f.jsx(Cg,{images:l.imageUrls,onImagesChange:p,maxImages:10})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",name:"featured",checked:l.featured,onChange:h,className:"h-4 w-4 text-[#6d0020] focus:ring-[#6d0020] border-gray-300 rounded"}),f.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Featured Project"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",name:"recent",checked:l.recent,onChange:h,className:"h-4 w-4 text-[#6d0020] focus:ring-[#6d0020] border-gray-300 rounded"}),f.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Recent Project"})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end space-y-3 sm:space-y-0 sm:space-x-4 pt-6 border-t border-gray-200",children:[f.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-6 py-2 text-gray-700 hover:text-gray-900 transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto flex items-center justify-center space-x-2 px-6 py-2 bg-[#6d0020] hover:bg-[#5a001a] disabled:bg-gray-400 text-white rounded-lg transition-colors min-h-[44px]",children:n?f.jsxs(f.Fragment,{children:[f.jsx(Us,{className:"h-4 w-4 animate-spin"}),f.jsx("span",{children:"Adding Project..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(pa,{className:"h-4 w-4"}),f.jsx("span",{children:"Add Project"})]})})]})]})]})]})})},Qx=({onClose:e,onImport:t})=>{const[n,r]=F.useState(!1),[a,s]=F.useState(null),[l,c]=F.useState("idle"),h=F.useRef(null),p=S=>{S.preventDefault(),S.stopPropagation(),S.type==="dragenter"||S.type==="dragover"?r(!0):S.type==="dragleave"&&r(!1)},g=S=>{S.preventDefault(),S.stopPropagation(),r(!1);const k=S.dataTransfer.files[0];k&&k.type==="text/csv"&&s(k)},_=S=>{var N;const k=(N=S.target.files)==null?void 0:N[0];k&&s(k)},v=async()=>{if(a){c("importing");try{await t(a),c("success"),setTimeout(()=>{e()},1500)}catch{c("error")}}},x=["Name (or Long Name) - Project title","City - Project location","Project Type Description - Will be mapped to market sector","Primary Client Name - Client information","Address (optional) - Street address","Compensation (optional) - Project value","Project Manager Name (optional)","Status Description (optional) - Active/Inactive/Dormant"];return f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:f.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0",children:[f.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:e}),f.jsxs("div",{className:"relative inline-block w-full max-w-2xl my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl z-50",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Import Projects from CSV"}),f.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:f.jsx(Zt,{className:"h-5 w-5 text-gray-400"})})]}),f.jsxs("div",{className:"p-4 sm:p-6",children:[f.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 sm:p-8 text-center transition-colors ${n?"border-[#6d0020] bg-red-50":a?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:g,children:[f.jsx("input",{ref:h,type:"file",accept:".csv",onChange:_,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),f.jsx("div",{className:"space-y-4",children:a?f.jsxs(f.Fragment,{children:[f.jsx(Hu,{className:"h-12 w-12 text-green-500 mx-auto"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-lg font-medium text-gray-900",children:a.name}),f.jsxs("p",{className:"text-sm text-gray-500",children:[(a.size/1024).toFixed(1)," KB"]})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(ma,{className:"h-12 w-12 text-gray-400 mx-auto"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-base sm:text-lg font-medium text-gray-900",children:"Drop your CSV file here, or tap to browse"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Only CSV files are supported"})]})]})})]}),l==="importing"&&f.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg flex items-center space-x-3",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),f.jsx("span",{className:"text-blue-800",children:"Importing projects..."})]}),l==="success"&&f.jsxs("div",{className:"mt-4 p-4 bg-green-50 rounded-lg flex items-center space-x-3",children:[f.jsx(Hu,{className:"h-5 w-5 text-green-600"}),f.jsx("span",{className:"text-green-800",children:"Projects imported successfully!"})]}),l==="error"&&f.jsxs("div",{className:"mt-4 p-4 bg-red-50 rounded-lg flex items-center space-x-3",children:[f.jsx(W0,{className:"h-5 w-5 text-red-600"}),f.jsx("span",{className:"text-red-800",children:"Error importing file. Please check the format and try again."})]}),f.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[f.jsxs("div",{className:"flex items-start space-x-2 mb-3",children:[f.jsx(ex,{className:"h-5 w-5 text-gray-400 mt-0.5"}),f.jsx("h3",{className:"font-medium text-gray-900",children:"Expected CSV Format"})]}),f.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Your CSV should include these fields (column headers can vary):"}),f.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:x.map((S,k)=>f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"w-2 h-2 bg-gray-300 rounded-full mt-2 mr-2 flex-shrink-0"}),f.jsx("span",{className:"break-words",children:S})]},k))})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end space-y-3 sm:space-y-0 sm:space-x-4 mt-6 pt-6 border-t border-gray-200",children:[f.jsx("button",{onClick:e,className:"w-full sm:w-auto px-6 py-2 text-gray-700 hover:text-gray-900 transition-colors",children:"Cancel"}),f.jsxs("button",{onClick:v,disabled:!a||l==="importing",className:"w-full sm:w-auto flex items-center justify-center space-x-2 px-6 py-2 bg-[#6d0020] hover:bg-[#5a001a] disabled:bg-gray-400 text-white rounded-lg transition-colors min-h-[44px]",children:[f.jsx(ma,{className:"h-4 w-4"}),f.jsx("span",{children:"Import Projects"})]})]})]})]})]})})},Yx=({onClose:e,onLogin:t})=>{const[n,r]=F.useState(""),[a,s]=F.useState(""),[l,c]=F.useState(!1),[h,p]=F.useState(""),[g,_]=F.useState(!1),v=async x=>{x.preventDefault(),p(""),_(!0),n==="info@beardsley.com"&&a==="B3ARd$L3YY"?(localStorage.setItem("adminAuthenticated","true"),localStorage.setItem("adminEmail",n),t()):p("Invalid email or password"),_(!1)};return f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:f.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0",children:[f.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:e}),f.jsxs("div",{className:"relative inline-block w-full max-w-md my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl z-50",children:[f.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"p-2 bg-[#6d0020] bg-opacity-10 rounded-lg",children:f.jsx(Zl,{className:"h-5 w-5 text-[#6d0020]"})}),f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Admin Login"})]}),f.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:f.jsx(Zt,{className:"h-5 w-5 text-gray-400"})})]}),f.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),f.jsxs("div",{className:"relative",children:[f.jsx(ug,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),f.jsx("input",{type:"email",value:n,onChange:x=>r(x.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent",placeholder:"Enter admin email"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(Zl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),f.jsx("input",{type:l?"text":"password",value:a,onChange:x=>s(x.target.value),required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent",placeholder:"Enter admin password"}),f.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 hover:bg-gray-100 rounded transition-colors",children:l?f.jsx(Y0,{className:"h-4 w-4 text-gray-400"}):f.jsx(X0,{className:"h-4 w-4 text-gray-400"})})]})]}),h&&f.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:f.jsx("p",{className:"text-sm text-red-600",children:h})}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end space-y-3 sm:space-y-0 sm:space-x-4 pt-6 border-t border-gray-200",children:[f.jsx("button",{type:"button",onClick:e,className:"w-full sm:w-auto px-6 py-3 text-gray-700 hover:text-gray-900 transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:g,className:"w-full sm:w-auto flex items-center justify-center space-x-2 px-6 py-3 bg-[#6d0020] hover:bg-[#5a001a] disabled:bg-gray-400 text-white rounded-lg transition-colors min-h-[48px]",children:g?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):f.jsxs(f.Fragment,{children:[f.jsx(Zl,{className:"h-4 w-4"}),f.jsx("span",{children:"Login"})]})})]})]})]})]})})},Xx=({onAddProject:e,onImportCSV:t,onExportCSV:n,onLogout:r,selectedCount:a,onBulkDelete:s,onSelectAll:l,onClearSelection:c})=>{const[h,p]=F.useState(!1),g=F.useRef(null);F.useEffect(()=>{const v=x=>{g.current&&!g.current.contains(x.target)&&p(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const _=v=>{v(),p(!1)};return f.jsxs("div",{className:"relative",ref:g,children:[f.jsxs("button",{onClick:()=>p(!h),className:"flex items-center space-x-2 px-4 py-2 bg-[#6d0020] hover:bg-[#5a001a] text-white rounded-lg transition-colors min-h-[44px]",title:"Admin Actions",children:[f.jsx("span",{children:"Admin"}),a>0&&f.jsx("span",{className:"bg-white text-[#6d0020] text-xs px-2 py-1 rounded-full font-medium",children:a}),f.jsx(K0,{className:`h-4 w-4 transition-transform duration-200 ${h?"rotate-180":""}`})]}),h&&f.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[f.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:f.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Project Management"})}),f.jsxs("button",{onClick:()=>_(e),className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-3 transition-colors",children:[f.jsx(sx,{className:"h-4 w-4 text-[#6d0020]"}),f.jsx("span",{children:"Add Project"})]}),f.jsxs("button",{onClick:()=>_(t),className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-3 transition-colors",children:[f.jsx(ma,{className:"h-4 w-4 text-[#f7941d]"}),f.jsx("span",{children:"Import CSV"})]}),f.jsxs("button",{onClick:()=>_(n),className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-3 transition-colors",children:[f.jsx(ag,{className:"h-4 w-4 text-[#91982c]"}),f.jsx("span",{children:"Export CSV"})]}),f.jsxs("div",{className:"border-t border-gray-100 mt-1",children:[f.jsx("div",{className:"px-4 py-2",children:f.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Bulk Actions"})}),f.jsxs("button",{onClick:()=>_(l),className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-3 transition-colors",children:[f.jsx(q0,{className:"h-4 w-4 text-blue-600"}),f.jsx("span",{children:"Select All"})]}),a>0&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>_(c),className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-3 transition-colors",children:[f.jsx(ux,{className:"h-4 w-4 text-gray-600"}),f.jsx("span",{children:"Clear Selection"})]}),f.jsxs("button",{onClick:()=>_(s),className:"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 flex items-center space-x-3 transition-colors",children:[f.jsx(eh,{className:"h-4 w-4"}),f.jsxs("span",{children:["Delete Selected (",a,")"]})]})]})]}),f.jsxs("div",{className:"border-t border-gray-100 mt-1",children:[f.jsx("div",{className:"px-4 py-2",children:f.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Session"})}),f.jsxs("button",{onClick:()=>_(r),className:"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 flex items-center space-x-3 transition-colors",children:[f.jsx(nx,{className:"h-4 w-4"}),f.jsx("span",{children:"Logout"})]})]})]})]})},ew=({projectIds:e,projects:t,onClose:n,onConfirm:r})=>{const[a,s]=F.useState(!1),l=t.filter(p=>e.includes(p.id)),c=p=>qt.find(g=>g.id===p)||qt[0],h=async()=>{s(!0);try{await r(e)}catch(p){console.error("Error deleting projects:",p)}finally{s(!1)}};return f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:f.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0",children:[f.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:n}),f.jsxs("div",{className:"relative inline-block w-full max-w-2xl my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl z-50",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:f.jsx(bf,{className:"h-5 w-5 text-red-600"})}),f.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:["Delete ",l.length," Project",l.length!==1?"s":""]})]}),f.jsx("button",{onClick:n,disabled:a,className:"p-2 hover:bg-gray-100 rounded-full transition-colors disabled:opacity-50",children:f.jsx(Zt,{className:"h-5 w-5 text-gray-400"})})]}),f.jsxs("div",{className:"p-4 sm:p-6",children:[f.jsxs("div",{className:"mb-6",children:[f.jsxs("p",{className:"text-gray-700 mb-4",children:["Are you sure you want to delete the following ",l.length," project",l.length!==1?"s":"","? This action cannot be undone."]}),f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start space-x-2",children:[f.jsx(bf,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-red-800 mb-1",children:"Warning"}),f.jsx("p",{className:"text-sm text-red-700",children:"All project data, including images and details, will be permanently removed from the database."})]})]})})]}),f.jsx("div",{className:"max-h-80 overflow-y-auto border border-gray-200 rounded-lg",children:l.map((p,g)=>{const _=c(p.marketSector);return f.jsxs("div",{className:`p-4 flex items-start space-x-3 ${g!==l.length-1?"border-b border-gray-200":""}`,children:[f.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0 mt-2",style:{backgroundColor:_.color}}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"font-medium text-gray-900 line-clamp-1",children:p.title}),f.jsxs("p",{className:"text-sm text-gray-600 line-clamp-1",children:[p.client,"  ",p.city]}),p.buildingType&&f.jsx("p",{className:"text-sm text-gray-500 italic",children:p.buildingType})]}),f.jsxs("div",{className:"text-right flex-shrink-0",children:[f.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",p.compensation.toLocaleString()]}),f.jsx("p",{className:"text-xs text-gray-500",children:_.name})]})]},p.id)})}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end space-y-3 sm:space-y-0 sm:space-x-4 mt-6 pt-6 border-t border-gray-200",children:[f.jsx("button",{onClick:n,disabled:a,className:"w-full sm:w-auto px-6 py-2 text-gray-700 hover:text-gray-900 transition-colors disabled:opacity-50",children:"Cancel"}),f.jsx("button",{onClick:h,disabled:a,className:"w-full sm:w-auto flex items-center justify-center space-x-2 px-6 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg transition-colors min-h-[44px]",children:a?f.jsxs(f.Fragment,{children:[f.jsx(Us,{className:"h-4 w-4 animate-spin"}),f.jsx("span",{children:"Deleting..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(eh,{className:"h-4 w-4"}),f.jsxs("span",{children:["Delete ",l.length," Project",l.length!==1?"s":""]})]})})]})]})]})]})})};var Pg={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(We,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},a,s=!r.document&&!!r.postMessage,l=r.IS_PAPA_WORKER||!1,c={},h=0,p={};function g(P){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var T=B(j);T.chunkSize=parseInt(T.chunkSize),j.step||j.chunk||(T.chunkSize=null),this._handle=new k(T),(this._handle.streamer=this)._config=T}).call(this,P),this.parseChunk=function(j,T){var U=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<U){let H=this._config.newline;H||(D=this._config.quoteChar||'"',H=this._handle.guessLineEndings(j,D)),j=[...j.split(H).slice(U)].join(H)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(D=this._config.beforeFirstChunk(j))!==void 0&&(j=D),this.isFirstChunk=!1,this._halted=!1;var U=this._partialLine+j,D=(this._partialLine="",this._handle.parse(U,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(j=D.meta.cursor,U=(this._finished||(this._partialLine=U.substring(j-this._baseIndex),this._baseIndex=j),D&&D.data&&(this._rowCount+=D.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)r.postMessage({results:D,workerId:p.WORKER_ID,finished:U});else if(R(this._config.chunk)&&!T){if(this._config.chunk(D,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=D=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(D.data),this._completeResults.errors=this._completeResults.errors.concat(D.errors),this._completeResults.meta=D.meta),this._completed||!U||!R(this._config.complete)||D&&D.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),U||D&&D.meta.paused||this._nextChunk(),D}this._halted=!0},this._sendError=function(j){R(this._config.error)?this._config.error(j):l&&this._config.error&&r.postMessage({workerId:p.WORKER_ID,error:j,finished:!1})}}function _(P){var j;(P=P||{}).chunkSize||(P.chunkSize=p.RemoteChunkSize),g.call(this,P),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(T){this._input=T,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),s||(j.onload=z(this._chunkLoaded,this),j.onerror=z(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var T,U=this._config.downloadRequestHeaders;for(T in U)j.setRequestHeader(T,U[T])}var D;this._config.chunkSize&&(D=this._start+this._config.chunkSize-1,j.setRequestHeader("Range","bytes="+this._start+"-"+D));try{j.send(this._config.downloadRequestBody)}catch(H){this._chunkError(H.message)}s&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize||j.responseText.length,this._finished=!this._config.chunkSize||this._start>=(T=>(T=T.getResponseHeader("Content-Range"))!==null?parseInt(T.substring(T.lastIndexOf("/")+1)):-1)(j),this.parseChunk(j.responseText)))},this._chunkError=function(T){T=j.statusText||T,this._sendError(new Error(T))}}function v(P){(P=P||{}).chunkSize||(P.chunkSize=p.LocalChunkSize),g.call(this,P);var j,T,U=typeof FileReader<"u";this.stream=function(D){this._input=D,T=D.slice||D.webkitSlice||D.mozSlice,U?((j=new FileReader).onload=z(this._chunkLoaded,this),j.onerror=z(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var D=this._input,H=(this._config.chunkSize&&(H=Math.min(this._start+this._config.chunkSize,this._input.size),D=T.call(D,this._start,H)),j.readAsText(D,this._config.encoding));U||this._chunkLoaded({target:{result:H}})},this._chunkLoaded=function(D){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(D.target.result)},this._chunkError=function(){this._sendError(j.error)}}function x(P){var j;g.call(this,P=P||{}),this.stream=function(T){return j=T,this._nextChunk()},this._nextChunk=function(){var T,U;if(!this._finished)return T=this._config.chunkSize,j=T?(U=j.substring(0,T),j.substring(T)):(U=j,""),this._finished=!j,this.parseChunk(U)}}function S(P){g.call(this,P=P||{});var j=[],T=!0,U=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(D){this._input=D,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){U&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):T=!0},this._streamData=z(function(D){try{j.push(typeof D=="string"?D:D.toString(this._config.encoding)),T&&(T=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(H){this._streamError(H)}},this),this._streamError=z(function(D){this._streamCleanUp(),this._sendError(D)},this),this._streamEnd=z(function(){this._streamCleanUp(),U=!0,this._streamData("")},this),this._streamCleanUp=z(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function k(P){var j,T,U,D,H=Math.pow(2,53),Y=-H,Le=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ye=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,oe=this,I=0,V=0,Z=!1,G=!1,J=[],K={data:[],errors:[],meta:{}};function re(le){return P.skipEmptyLines==="greedy"?le.join("").trim()==="":le.length===1&&le[0].length===0}function ie(){if(K&&U&&(Se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),U=!1),P.skipEmptyLines&&(K.data=K.data.filter(function(ae){return!re(ae)})),te()){let ae=function(Be,Pe){R(P.transformHeader)&&(Be=P.transformHeader(Be,Pe)),J.push(Be)};var q=ae;if(K)if(Array.isArray(K.data[0])){for(var le=0;te()&&le<K.data.length;le++)K.data[le].forEach(ae);K.data.splice(0,1)}else K.data.forEach(ae)}function pe(ae,Be){for(var Pe=P.header?{}:[],be=0;be<ae.length;be++){var he=be,Ve=ae[be],Ve=((ve,Ee)=>(Ue=>(P.dynamicTypingFunction&&P.dynamicTyping[Ue]===void 0&&(P.dynamicTyping[Ue]=P.dynamicTypingFunction(Ue)),(P.dynamicTyping[Ue]||P.dynamicTyping)===!0))(ve)?Ee==="true"||Ee==="TRUE"||Ee!=="false"&&Ee!=="FALSE"&&((Ue=>{if(Le.test(Ue)&&(Ue=parseFloat(Ue),Y<Ue&&Ue<H))return 1})(Ee)?parseFloat(Ee):ye.test(Ee)?new Date(Ee):Ee===""?null:Ee):Ee)(he=P.header?be>=J.length?"__parsed_extra":J[be]:he,Ve=P.transform?P.transform(Ve,he):Ve);he==="__parsed_extra"?(Pe[he]=Pe[he]||[],Pe[he].push(Ve)):Pe[he]=Ve}return P.header&&(be>J.length?Se("FieldMismatch","TooManyFields","Too many fields: expected "+J.length+" fields but parsed "+be,V+Be):be<J.length&&Se("FieldMismatch","TooFewFields","Too few fields: expected "+J.length+" fields but parsed "+be,V+Be)),Pe}var ee;K&&(P.header||P.dynamicTyping||P.transform)&&(ee=1,!K.data.length||Array.isArray(K.data[0])?(K.data=K.data.map(pe),ee=K.data.length):K.data=pe(K.data,0),P.header&&K.meta&&(K.meta.fields=J),V+=ee)}function te(){return P.header&&J.length===0}function Se(le,pe,ee,q){le={type:le,code:pe,message:ee},q!==void 0&&(le.row=q),K.errors.push(le)}R(P.step)&&(D=P.step,P.step=function(le){K=le,te()?ie():(ie(),K.data.length!==0&&(I+=le.data.length,P.preview&&I>P.preview?T.abort():(K.data=K.data[0],D(K,oe))))}),this.parse=function(le,pe,ee){var q=P.quoteChar||'"',q=(P.newline||(P.newline=this.guessLineEndings(le,q)),U=!1,P.delimiter?R(P.delimiter)&&(P.delimiter=P.delimiter(le),K.meta.delimiter=P.delimiter):((q=((ae,Be,Pe,be,he)=>{var Ve,ve,Ee,Ue;he=he||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var on=0;on<he.length;on++){for(var Lt,In=he[on],Ye=0,At=0,Fe=0,it=(Ee=void 0,new w({comments:be,delimiter:In,newline:Be,preview:10}).parse(ae)),It=0;It<it.data.length;It++)Pe&&re(it.data[It])?Fe++:(Lt=it.data[It].length,At+=Lt,Ee===void 0?Ee=Lt:0<Lt&&(Ye+=Math.abs(Lt-Ee),Ee=Lt));0<it.data.length&&(At/=it.data.length-Fe),(ve===void 0||Ye<=ve)&&(Ue===void 0||Ue<At)&&1.99<At&&(ve=Ye,Ve=In,Ue=At)}return{successful:!!(P.delimiter=Ve),bestDelimiter:Ve}})(le,P.newline,P.skipEmptyLines,P.comments,P.delimitersToGuess)).successful?P.delimiter=q.bestDelimiter:(U=!0,P.delimiter=p.DefaultDelimiter),K.meta.delimiter=P.delimiter),B(P));return P.preview&&P.header&&q.preview++,j=le,T=new w(q),K=T.parse(j,pe,ee),ie(),Z?{meta:{paused:!0}}:K||{meta:{paused:!1}}},this.paused=function(){return Z},this.pause=function(){Z=!0,T.abort(),j=R(P.chunk)?"":j.substring(T.getCharIndex())},this.resume=function(){oe.streamer._halted?(Z=!1,oe.streamer.parseChunk(j,!0)):setTimeout(oe.resume,3)},this.aborted=function(){return G},this.abort=function(){G=!0,T.abort(),K.meta.aborted=!0,R(P.complete)&&P.complete(K),j=""},this.guessLineEndings=function(ae,q){ae=ae.substring(0,1048576);var q=new RegExp(N(q)+"([^]*?)"+N(q),"gm"),ee=(ae=ae.replace(q,"")).split("\r"),q=ae.split(`
`),ae=1<q.length&&q[0].length<ee[0].length;if(ee.length===1||ae)return`
`;for(var Be=0,Pe=0;Pe<ee.length;Pe++)ee[Pe][0]===`
`&&Be++;return Be>=ee.length/2?`\r
`:"\r"}}function N(P){return P.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w(P){var j=(P=P||{}).delimiter,T=P.newline,U=P.comments,D=P.step,H=P.preview,Y=P.fastMode,Le=null,ye=!1,oe=P.quoteChar==null?'"':P.quoteChar,I=oe;if(P.escapeChar!==void 0&&(I=P.escapeChar),(typeof j!="string"||-1<p.BAD_DELIMITERS.indexOf(j))&&(j=","),U===j)throw new Error("Comment character same as delimiter");U===!0?U="#":(typeof U!="string"||-1<p.BAD_DELIMITERS.indexOf(U))&&(U=!1),T!==`
`&&T!=="\r"&&T!==`\r
`&&(T=`
`);var V=0,Z=!1;this.parse=function(G,J,K){if(typeof G!="string")throw new Error("Input must be a string");var re=G.length,ie=j.length,te=T.length,Se=U.length,le=R(D),pe=[],ee=[],q=[],ae=V=0;if(!G)return Ye();if(Y||Y!==!1&&G.indexOf(oe)===-1){for(var Be=G.split(T),Pe=0;Pe<Be.length;Pe++){if(q=Be[Pe],V+=q.length,Pe!==Be.length-1)V+=T.length;else if(K)return Ye();if(!U||q.substring(0,Se)!==U){if(le){if(pe=[],Ue(q.split(j)),At(),Z)return Ye()}else Ue(q.split(j));if(H&&H<=Pe)return pe=pe.slice(0,H),Ye(!0)}}return Ye()}for(var be=G.indexOf(j,V),he=G.indexOf(T,V),Ve=new RegExp(N(I)+N(oe),"g"),ve=G.indexOf(oe,V);;)if(G[V]===oe)for(ve=V,V++;;){if((ve=G.indexOf(oe,ve+1))===-1)return K||ee.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:pe.length,index:V}),Lt();if(ve===re-1)return Lt(G.substring(V,ve).replace(Ve,oe));if(oe===I&&G[ve+1]===I)ve++;else if(oe===I||ve===0||G[ve-1]!==I){be!==-1&&be<ve+1&&(be=G.indexOf(j,ve+1));var Ee=on((he=he!==-1&&he<ve+1?G.indexOf(T,ve+1):he)===-1?be:Math.min(be,he));if(G.substr(ve+1+Ee,ie)===j){q.push(G.substring(V,ve).replace(Ve,oe)),G[V=ve+1+Ee+ie]!==oe&&(ve=G.indexOf(oe,V)),be=G.indexOf(j,V),he=G.indexOf(T,V);break}if(Ee=on(he),G.substring(ve+1+Ee,ve+1+Ee+te)===T){if(q.push(G.substring(V,ve).replace(Ve,oe)),In(ve+1+Ee+te),be=G.indexOf(j,V),ve=G.indexOf(oe,V),le&&(At(),Z))return Ye();if(H&&pe.length>=H)return Ye(!0);break}ee.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:pe.length,index:V}),ve++}}else if(U&&q.length===0&&G.substring(V,V+Se)===U){if(he===-1)return Ye();V=he+te,he=G.indexOf(T,V),be=G.indexOf(j,V)}else if(be!==-1&&(be<he||he===-1))q.push(G.substring(V,be)),V=be+ie,be=G.indexOf(j,V);else{if(he===-1)break;if(q.push(G.substring(V,he)),In(he+te),le&&(At(),Z))return Ye();if(H&&pe.length>=H)return Ye(!0)}return Lt();function Ue(Fe){pe.push(Fe),ae=V}function on(Fe){var it=0;return it=Fe!==-1&&(Fe=G.substring(ve+1,Fe))&&Fe.trim()===""?Fe.length:it}function Lt(Fe){return K||(Fe===void 0&&(Fe=G.substring(V)),q.push(Fe),V=re,Ue(q),le&&At()),Ye()}function In(Fe){V=Fe,Ue(q),q=[],he=G.indexOf(T,V)}function Ye(Fe){if(P.header&&!J&&pe.length&&!ye){var it=pe[0],It=Object.create(null),jr=new Set(it);let Tr=!1;for(let _n=0;_n<it.length;_n++){let Rt=it[_n];if(It[Rt=R(P.transformHeader)?P.transformHeader(Rt,_n):Rt]){let Rn,Mi=It[Rt];for(;Rn=Rt+"_"+Mi,Mi++,jr.has(Rn););jr.add(Rn),it[_n]=Rn,It[Rt]++,Tr=!0,(Le=Le===null?{}:Le)[Rn]=Rt}else It[Rt]=1,it[_n]=Rt;jr.add(Rt)}Tr&&console.warn("Duplicate headers found and renamed."),ye=!0}return{data:pe,errors:ee,meta:{delimiter:j,linebreak:T,aborted:Z,truncated:!!Fe,cursor:ae+(J||0),renamedHeaders:Le}}}function At(){D(Ye()),pe=[],ee=[]}},this.abort=function(){Z=!0},this.getCharIndex=function(){return V}}function b(P){var j=P.data,T=c[j.workerId],U=!1;if(j.error)T.userError(j.error,j.file);else if(j.results&&j.results.data){var D={abort:function(){U=!0,C(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(R(T.userStep)){for(var H=0;H<j.results.data.length&&(T.userStep({data:j.results.data[H],errors:j.results.errors,meta:j.results.meta},D),!U);H++);delete j.results}else R(T.userChunk)&&(T.userChunk(j.results,D,j.file),delete j.results)}j.finished&&!U&&C(j.workerId,j.results)}function C(P,j){var T=c[P];R(T.userComplete)&&T.userComplete(j),T.terminate(),delete c[P]}function O(){throw new Error("Not implemented.")}function B(P){if(typeof P!="object"||P===null)return P;var j,T=Array.isArray(P)?[]:{};for(j in P)T[j]=B(P[j]);return T}function z(P,j){return function(){P.apply(j,arguments)}}function R(P){return typeof P=="function"}return p.parse=function(P,j){var T=(j=j||{}).dynamicTyping||!1;if(R(T)&&(j.dynamicTypingFunction=T,T={}),j.dynamicTyping=T,j.transform=!!R(j.transform)&&j.transform,!j.worker||!p.WORKERS_SUPPORTED)return T=null,p.NODE_STREAM_INPUT,typeof P=="string"?(P=(U=>U.charCodeAt(0)!==65279?U:U.slice(1))(P),T=new(j.download?_:x)(j)):P.readable===!0&&R(P.read)&&R(P.on)?T=new S(j):(r.File&&P instanceof File||P instanceof Object)&&(T=new v(j)),T.stream(P);(T=(()=>{var U;return!!p.WORKERS_SUPPORTED&&(U=(()=>{var D=r.URL||r.webkitURL||null,H=n.toString();return p.BLOB_URL||(p.BLOB_URL=D.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",H,")();"],{type:"text/javascript"})))})(),(U=new r.Worker(U)).onmessage=b,U.id=h++,c[U.id]=U)})()).userStep=j.step,T.userChunk=j.chunk,T.userComplete=j.complete,T.userError=j.error,j.step=R(j.step),j.chunk=R(j.chunk),j.complete=R(j.complete),j.error=R(j.error),delete j.worker,T.postMessage({input:P,config:j,workerId:T.id})},p.unparse=function(P,j){var T=!1,U=!0,D=",",H=`\r
`,Y='"',Le=Y+Y,ye=!1,oe=null,I=!1,V=((()=>{if(typeof j=="object"){if(typeof j.delimiter!="string"||p.BAD_DELIMITERS.filter(function(J){return j.delimiter.indexOf(J)!==-1}).length||(D=j.delimiter),typeof j.quotes!="boolean"&&typeof j.quotes!="function"&&!Array.isArray(j.quotes)||(T=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||(ye=j.skipEmptyLines),typeof j.newline=="string"&&(H=j.newline),typeof j.quoteChar=="string"&&(Y=j.quoteChar),typeof j.header=="boolean"&&(U=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");oe=j.columns}j.escapeChar!==void 0&&(Le=j.escapeChar+Y),j.escapeFormulae instanceof RegExp?I=j.escapeFormulae:typeof j.escapeFormulae=="boolean"&&j.escapeFormulae&&(I=/^[=+\-@\t\r].*$/)}})(),new RegExp(N(Y),"g"));if(typeof P=="string"&&(P=JSON.parse(P)),Array.isArray(P)){if(!P.length||Array.isArray(P[0]))return Z(null,P,ye);if(typeof P[0]=="object")return Z(oe||Object.keys(P[0]),P,ye)}else if(typeof P=="object")return typeof P.data=="string"&&(P.data=JSON.parse(P.data)),Array.isArray(P.data)&&(P.fields||(P.fields=P.meta&&P.meta.fields||oe),P.fields||(P.fields=Array.isArray(P.data[0])?P.fields:typeof P.data[0]=="object"?Object.keys(P.data[0]):[]),Array.isArray(P.data[0])||typeof P.data[0]=="object"||(P.data=[P.data])),Z(P.fields||[],P.data||[],ye);throw new Error("Unable to serialize unrecognized input");function Z(J,K,re){var ie="",te=(typeof J=="string"&&(J=JSON.parse(J)),typeof K=="string"&&(K=JSON.parse(K)),Array.isArray(J)&&0<J.length),Se=!Array.isArray(K[0]);if(te&&U){for(var le=0;le<J.length;le++)0<le&&(ie+=D),ie+=G(J[le],le);0<K.length&&(ie+=H)}for(var pe=0;pe<K.length;pe++){var ee=(te?J:K[pe]).length,q=!1,ae=te?Object.keys(K[pe]).length===0:K[pe].length===0;if(re&&!te&&(q=re==="greedy"?K[pe].join("").trim()==="":K[pe].length===1&&K[pe][0].length===0),re==="greedy"&&te){for(var Be=[],Pe=0;Pe<ee;Pe++){var be=Se?J[Pe]:Pe;Be.push(K[pe][be])}q=Be.join("").trim()===""}if(!q){for(var he=0;he<ee;he++){0<he&&!ae&&(ie+=D);var Ve=te&&Se?J[he]:he;ie+=G(K[pe][Ve],he)}pe<K.length-1&&(!re||0<ee&&!ae)&&(ie+=H)}}return ie}function G(J,K){var re,ie;return J==null?"":J.constructor===Date?JSON.stringify(J).slice(1,25):(ie=!1,I&&typeof J=="string"&&I.test(J)&&(J="'"+J,ie=!0),re=J.toString().replace(V,Le),(ie=ie||T===!0||typeof T=="function"&&T(J,K)||Array.isArray(T)&&T[K]||((te,Se)=>{for(var le=0;le<Se.length;le++)if(-1<te.indexOf(Se[le]))return!0;return!1})(re,p.BAD_DELIMITERS)||-1<re.indexOf(D)||re.charAt(0)===" "||re.charAt(re.length-1)===" ")?Y+re+Y:re)}},p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!s&&!!r.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=w,p.ParserHandle=k,p.NetworkStreamer=_,p.FileStreamer=v,p.StringStreamer=x,p.ReadableStreamStreamer=S,r.jQuery&&((a=r.jQuery).fn.parse=function(P){var j=P.config||{},T=[];return this.each(function(H){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var Y=0;Y<this.files.length;Y++)T.push({file:this.files[Y],inputElem:this,instanceConfig:a.extend({},j)})}),U(),this;function U(){if(T.length===0)R(P.complete)&&P.complete();else{var H,Y,Le,ye,oe=T[0];if(R(P.before)){var I=P.before(oe.file,oe.inputElem);if(typeof I=="object"){if(I.action==="abort")return H="AbortError",Y=oe.file,Le=oe.inputElem,ye=I.reason,void(R(P.error)&&P.error({name:H},Y,Le,ye));if(I.action==="skip")return void D();typeof I.config=="object"&&(oe.instanceConfig=a.extend(oe.instanceConfig,I.config))}else if(I==="skip")return void D()}var V=oe.instanceConfig.complete;oe.instanceConfig.complete=function(Z){R(V)&&V(Z,oe.file,oe.inputElem),D()},p.parse(oe.file,oe.instanceConfig)}}function D(){T.splice(0,1),U()}}),l&&(r.onmessage=function(P){P=P.data,p.WORKER_ID===void 0&&P&&(p.WORKER_ID=P.workerId),typeof P.input=="string"?r.postMessage({workerId:p.WORKER_ID,results:p.parse(P.input,P.config),finished:!0}):(r.File&&P.input instanceof File||P.input instanceof Object)&&(P=p.parse(P.input,P.config))&&r.postMessage({workerId:p.WORKER_ID,results:P,finished:!0})}),(_.prototype=Object.create(g.prototype)).constructor=_,(v.prototype=Object.create(g.prototype)).constructor=v,(x.prototype=Object.create(x.prototype)).constructor=x,(S.prototype=Object.create(g.prototype)).constructor=S,p})})(Pg);var tw=Pg.exports;const Eg=Hf(tw),nw=async e=>new Promise((t,n)=>{Eg.parse(e,{header:!0,complete:async r=>{try{const a=[],s=r.data;for(const l of s){if(!l.Name&&!l["Long Name"]||!l.City)continue;let c=l.City.trim();!c.toLowerCase().includes("ny")&&!c.toLowerCase().includes("new york")&&(c+=", NY");const h=await Ku("",c);if(h){const p=(Math.random()-.5)*.01,g=(Math.random()-.5)*.01,_=[h[0]+p,h[1]+g],v={title:l["Long Name"]||l.Name||"Untitled Project",address:l.Address||l["Address Description"]||"",city:l.City,coordinates:_,marketSector:Bx(l["Project Type Description"]||""),description:l["Long Name"]||l.Name||"No description available",imageUrls:["https://images.pexels.com/photos/323780/pexels-photo-323780.jpeg","https://images.pexels.com/photos/277667/pexels-photo-277667.jpeg"],client:l["Primary Client Name"]||"Unknown Client",projectManager:l["Project Manager Name"]||"TBD",status:l["Status Description"]||"Active",compensation:parseFloat(l.Compensation||"0")||0,year:new Date().getFullYear(),featured:Math.random()>.8,recent:Math.random()>.7};a.push(v)}else console.warn(`Could not geocode city: ${l.City} for project: ${l.Name||l["Long Name"]}`)}t(a)}catch(a){n(a)}},error:r=>{n(r)}})}),iw=e=>{const t=e.map(s=>({"Project Title":s.title,Address:s.address,City:s.city,"Market Sector":s.marketSector,Description:s.description,Client:s.client,"Project Manager":s.projectManager,Status:s.status,"Project Value":s.compensation,Year:s.year,Latitude:s.coordinates[0],Longitude:s.coordinates[1]})),n=Eg.unparse(t),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");if(a.download!==void 0){const s=URL.createObjectURL(r);a.setAttribute("href",s),a.setAttribute("download",`projects_export_${new Date().toISOString().split("T")[0]}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}},rw="modulepreload",sw=function(e){return"/"+e},Pf={},$s=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(n.map(h=>{if(h=sw(h),h in Pf)return;Pf[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":rw,p||(_.as="script"),_.crossOrigin="",_.href=h,c&&_.setAttribute("nonce",c),document.head.appendChild(_),p)return new Promise((v,x)=>{_.addEventListener("load",v),_.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})},ow=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$s(async()=>{const{default:r}=await Promise.resolve().then(()=>Pr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class uh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class aw extends uh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lw extends uh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uw extends uh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ju;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ju||(Ju={}));var cw=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function h(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?s(g.value):a(g.value).then(c,h)}p((r=r.apply(e,t||[])).next())})};class hw{constructor(t,{headers:n={},customFetch:r,region:a=Ju.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=ow(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return cw(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:l}=n;let c={},{region:h}=n;h||(h=this.region),h&&h!=="any"&&(c["x-region"]=h);let p;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(c["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(c["Content-Type"]="application/json",p=JSON.stringify(l)));const g=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:p}).catch(S=>{throw new aw(S)}),_=g.headers.get("x-relay-error");if(_&&_==="true")throw new lw(g);if(!g.ok)throw new uw(g);let v=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield g.json():v==="application/octet-stream"?x=yield g.blob():v==="text/event-stream"?x=g:v==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null}}catch(a){return{data:null,error:a}}})}}var wt={},ch={},Ra={},Zs={},za={},Da={},dw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wr=dw();const fw=wr.fetch,jg=wr.fetch.bind(wr),Tg=wr.Headers,pw=wr.Request,mw=wr.Response,Pr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Tg,Request:pw,Response:mw,default:jg,fetch:fw},Symbol.toStringTag,{value:"Module"})),gw=As(Pr);var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});let _w=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ba.default=_w;var Ng=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Da,"__esModule",{value:!0});const vw=Ng(gw),yw=Ng(Ba);let xw=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=vw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var l,c,h;let p=null,g=null,_=null,v=s.status,x=s.statusText;if(s.ok){if(this.method!=="HEAD"){const w=await s.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=w:g=JSON.parse(w))}const k=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),N=(c=s.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");k&&N&&N.length>1&&(_=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,_=null,v=406,x="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const k=await s.text();try{p=JSON.parse(k),Array.isArray(p)&&s.status===404&&(g=[],p=null,v=200,x="OK")}catch{s.status===404&&k===""?(v=204,x="No Content"):p={message:k}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,v=200,x="OK"),p&&this.shouldThrowOnError)throw new yw.default(p)}return{error:p,data:g,count:_,status:v,statusText:x}});return this.shouldThrowOnError||(a=a.catch(s=>{var l,c,h;return{error:{message:`${(l=s==null?void 0:s.name)!==null&&l!==void 0?l:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(c=s==null?void 0:s.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(h=s==null?void 0:s.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};Da.default=xw;var ww=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(za,"__esModule",{value:!0});const kw=ww(Da);let bw=class extends kw.default{select(t){let n=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:a,referencedTable:s=a}={}){const l=s?`${s}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:a=r}={}){const s=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(l,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:a=!1,wal:s=!1,format:l="text"}={}){var c;const h=[t?"analyze":null,n?"verbose":null,r?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${p}"; options=${h};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};za.default=bw;var Sw=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zs,"__esModule",{value:!0});const Cw=Sw(za);let Lw=class extends Cw.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${l}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Zs.default=Lw;var Pw=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ra,"__esModule",{value:!0});const Yr=Pw(Zs);let Ew=class{constructor(t,{headers:n={},schema:r,fetch:a}){this.url=t,this.headers=n,this.schema=r,this.fetch=a}select(t,{head:n=!1,count:r}={}){const a=n?"HEAD":"GET";let s=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",l),r&&(this.headers.Prefer=`count=${r}`),new Yr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const a="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const l=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new Yr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:a,defaultToNull:s=!0}={}){const l="POST",c=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),s||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const h=t.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new Yr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new Yr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Yr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ra.default=Ew;var Ua={},Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.version=void 0;Fa.version="0.0.0-automated";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.DEFAULT_HEADERS=void 0;const jw=Fa;Ua.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${jw.version}`};var Mg=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ch,"__esModule",{value:!0});const Tw=Mg(Ra),Nw=Mg(Zs),Mw=Ua;let Ow=class Og{constructor(t,{headers:n={},schema:r,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},Mw.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new Tw.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Og(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:a=!1,count:s}={}){let l;const c=new URL(`${this.url}/rpc/${t}`);let h;r||a?(l=r?"HEAD":"GET",Object.entries(n).filter(([g,_])=>_!==void 0).map(([g,_])=>[g,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([g,_])=>{c.searchParams.append(g,_)})):(l="POST",h=n);const p=Object.assign({},this.headers);return s&&(p.Prefer=`count=${s}`),new Nw.default({method:l,url:c,headers:p,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}};ch.default=Ow;var Er=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wt,"__esModule",{value:!0});wt.PostgrestError=wt.PostgrestBuilder=wt.PostgrestTransformBuilder=wt.PostgrestFilterBuilder=wt.PostgrestQueryBuilder=wt.PostgrestClient=void 0;const Ag=Er(ch);wt.PostgrestClient=Ag.default;const Ig=Er(Ra);wt.PostgrestQueryBuilder=Ig.default;const Rg=Er(Zs);wt.PostgrestFilterBuilder=Rg.default;const zg=Er(za);wt.PostgrestTransformBuilder=zg.default;const Dg=Er(Da);wt.PostgrestBuilder=Dg.default;const Bg=Er(Ba);wt.PostgrestError=Bg.default;var Aw=wt.default={PostgrestClient:Ag.default,PostgrestQueryBuilder:Ig.default,PostgrestFilterBuilder:Rg.default,PostgrestTransformBuilder:zg.default,PostgrestBuilder:Dg.default,PostgrestError:Bg.default};const{PostgrestClient:Iw,PostgrestQueryBuilder:Tk,PostgrestFilterBuilder:Nk,PostgrestTransformBuilder:Mk,PostgrestBuilder:Ok,PostgrestError:Ak}=Aw;let Qu;typeof window>"u"?Qu=require("ws"):Qu=window.WebSocket;const Rw=Qu,zw="2.11.10",Dw={"X-Client-Info":`realtime-js/${zw}`},Bw="1.0.0",Ug=1e4,Uw=1e3;var fr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fr||(fr={}));var ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ft||(ft={}));var en;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(en||(en={}));var Yu;(function(e){e.websocket="websocket"})(Yu||(Yu={}));var vi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vi||(vi={}));class Fw{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),s=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(t.slice(l,l+a));l=l+a;const h=r.decode(t.slice(l,l+s));l=l+s;const p=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:h,payload:p}}}class Fg{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Te||(Te={}));const Ef=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,l)=>(s[l]=$w(l,e,t,a),s),{})},$w=(e,t,n,r)=>{const a=t.find(c=>c.name===e),s=a==null?void 0:a.type,l=n[e];return s&&!r.includes(s)?$g(s,l):Xu(l)},$g=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Vw(t,n)}switch(e){case Te.bool:return Zw(t);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return Hw(t);case Te.json:case Te.jsonb:return Ww(t);case Te.timestamp:return qw(t);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return Xu(t);default:return Xu(t)}},Xu=e=>e,Zw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Hw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ww=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Vw=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const l=e.slice(1,n);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(c=>$g(t,c))}return e},qw=e=>typeof e=="string"?e.replace(" ","T"):e,Zg=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Hl{constructor(t,n,r={},a=Ug){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var jf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(jf||(jf={}));class fs{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:s,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fs.syncState(this.state,a,s,l),this.pendingDiffs.forEach(h=>{this.state=fs.syncDiff(this.state,h,s,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=fs.syncDiff(this.state,a,s,l),c())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const s=this.cloneDeep(t),l=this.transformState(n),c={},h={};return this.map(s,(p,g)=>{l[p]||(h[p]=g)}),this.map(l,(p,g)=>{const _=s[p];if(_){const v=g.map(N=>N.presence_ref),x=_.map(N=>N.presence_ref),S=g.filter(N=>x.indexOf(N.presence_ref)<0),k=_.filter(N=>v.indexOf(N.presence_ref)<0);S.length>0&&(c[p]=S),k.length>0&&(h[p]=k)}else c[p]=g}),this.syncDiff(s,{joins:c,leaves:h},r,a)}static syncDiff(t,n,r,a){const{joins:s,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(s,(c,h)=>{var p;const g=(p=t[c])!==null&&p!==void 0?p:[];if(t[c]=this.cloneDeep(h),g.length>0){const _=t[c].map(x=>x.presence_ref),v=g.filter(x=>_.indexOf(x.presence_ref)<0);t[c].unshift(...v)}r(c,g,h)}),this.map(l,(c,h)=>{let p=t[c];if(!p)return;const g=h.map(_=>_.presence_ref);p=p.filter(_=>g.indexOf(_.presence_ref)<0),t[c]=p,a(c,p,h),p.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Tf||(Tf={}));var Nf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Nf||(Nf={}));var Sn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Sn||(Sn={}));class hh{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hl(this,en.join,this.params,this.timeout),this.rejoinTimer=new Fg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(en.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new fs(this),this.broadcastEndpointURL=Zg(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:l,private:c}}=this.params;this._onError(g=>t==null?void 0:t(Sn.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Sn.CLOSED));const h={},p={broadcast:s,presence:l,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&a!==void 0?a:[],private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var _;if(this.socket.setAuth(),g===void 0){t==null||t(Sn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(_=v==null?void 0:v.length)!==null&&_!==void 0?_:0,S=[];for(let k=0;k<x;k++){const N=v[k],{filter:{event:w,schema:b,table:C,filter:O}}=N,B=g&&g[k];if(B&&B.event===w&&B.schema===b&&B.table===C&&B.filter===O)S.push(Object.assign(Object.assign({},N),{id:B.id}));else{this.unsubscribe(),this.state=ft.errored,t==null||t(Sn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(Sn.SUBSCRIBED);return}}).receive("error",g=>{this.state=ft.errored,t==null||t(Sn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Sn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:l}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,c,h;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.ack)&&s("ok"),p.receive("ok",()=>s("ok")),p.receive("error",()=>s("error")),p.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ft.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(en.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const a=new Hl(this,en.leave,{},t);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const a=new AbortController,s=setTimeout(()=>a.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(s),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Hl(this,t,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,s;const l=t.toLocaleLowerCase(),{close:c,error:h,leave:p,join:g}=en;if(r&&[c,h,p,g].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var S,k,N;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((N=(k=x.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===l}).map(x=>x.callback(v,r)):(s=this.bindings[l])===null||s===void 0||s.filter(x=>{var S,k,N,w,b,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const O=x.id,B=(S=x.filter)===null||S===void 0?void 0:S.event;return O&&((k=n.ids)===null||k===void 0?void 0:k.includes(O))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const O=(b=(w=x==null?void 0:x.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return O==="*"||O===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:k,table:N,commit_timestamp:w,type:b,errors:C}=S;v=Object.assign(Object.assign({},{schema:k,table:N,commit_timestamp:w,eventType:b,new:{},old:{},errors:C}),this._getPayloadRecords(S))}x.callback(v,r)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),s={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&hh.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(en.close,{},t)}_onError(t){this._on(en.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ef(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ef(t.columns,t.old_record)),n}}const Mf=()=>{},Gw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Kw{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Dw,this.params={},this.timeout=Ug,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mf,this.ref=0,this.logger=Mf,this.conn=null,this.sendBuffer=[],this.serializer=new Fw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let l;return s?l=s:typeof fetch>"u"?l=(...c)=>$s(async()=>{const{default:h}=await Promise.resolve().then(()=>Pr);return{default:h}},void 0).then(({default:h})=>h(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${t}/${Yu.websocket}`,this.httpEndpoint=Zg(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,l)=>l(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Fg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Rw),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Jw(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bw}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fr.connecting:return vi.Connecting;case fr.open:return vi.Open;case fr.closing:return vi.Closing;default:return vi.Closed}}isConnected(){return this.connectionState()===vi.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===r);if(a)return a;{const s=new hh(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:a,ref:s}=t,l=()=>{this.encode(t,c=>{var h;(h=this.conn)===null||h===void 0||h.send(c)})};this.log("push",`${n} ${r} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(en.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Uw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:a,payload:s,ref:l}=n;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${a} ${l&&"("+l+")"||""}`,s),Array.from(this.channels).filter(c=>c._isMember(r)).forEach(c=>c._trigger(a,s,l)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(en.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Gw],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Jw{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=fr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class dh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function et(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Qw extends dh{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ec extends dh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Yw=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function h(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?s(g.value):a(g.value).then(c,h)}p((r=r.apply(e,t||[])).next())})};const Hg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$s(async()=>{const{default:r}=await Promise.resolve().then(()=>Pr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Xw=()=>Yw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $s(()=>Promise.resolve().then(()=>Pr),void 0)).Response:Response}),tc=e=>{if(Array.isArray(e))return e.map(n=>tc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=tc(r)}),t};var Ni=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function h(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?s(g.value):a(g.value).then(c,h)}p((r=r.apply(e,t||[])).next())})};const Wl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),e1=(e,t,n)=>Ni(void 0,void 0,void 0,function*(){const r=yield Xw();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new Qw(Wl(a),e.status||500))}).catch(a=>{t(new ec(Wl(a),a))}):t(new ec(Wl(e),e))}),t1=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function Hs(e,t,n,r,a,s){return Ni(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(n,t1(t,r,a,s)).then(h=>{if(!h.ok)throw h;return r!=null&&r.noResolveJson?h:h.json()}).then(h=>l(h)).catch(h=>e1(h,c,r))})})}function ga(e,t,n,r){return Ni(this,void 0,void 0,function*(){return Hs(e,"GET",t,n,r)})}function Zn(e,t,n,r,a){return Ni(this,void 0,void 0,function*(){return Hs(e,"POST",t,r,a,n)})}function n1(e,t,n,r,a){return Ni(this,void 0,void 0,function*(){return Hs(e,"PUT",t,r,a,n)})}function i1(e,t,n,r){return Ni(this,void 0,void 0,function*(){return Hs(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Wg(e,t,n,r,a){return Ni(this,void 0,void 0,function*(){return Hs(e,"DELETE",t,r,a,n)})}var yt=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function h(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?s(g.value):a(g.value).then(c,h)}p((r=r.apply(e,t||[])).next())})};const r1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Of={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class s1{constructor(t,n={},r,a){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Hg(a)}uploadOrUpdate(t,n,r,a){return yt(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},Of),a);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),h&&s.append("metadata",this.encodeMetadata(h)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",l.cacheControl),h&&s.append("metadata",this.encodeMetadata(h))):(s=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,h&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),a!=null&&a.headers&&(c=Object.assign(Object.assign({},c),a.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),_=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:t,body:s,headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{})),v=yield _.json();return _.ok?{data:{path:p,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(s){if(et(s))return{data:null,error:s};throw s}})}upload(t,n,r){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return yt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),l=this._getFinalPath(s),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let h;const p=Object.assign({upsert:Of.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",p.cacheControl)):(h=r,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const _=yield this.fetch(c.toString(),{method:"PUT",body:h,headers:g}),v=yield _.json();return _.ok?{data:{path:s,fullPath:v.Key},error:null}:{data:null,error:v}}catch(h){if(et(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,n){return yt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const s=yield Zn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),l=new URL(this.url+s.url),c=l.searchParams.get("token");if(!c)throw new dh("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}update(t,n,r){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return yt(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(et(a))return{data:null,error:a};throw a}})}copy(t,n,r){return yt(this,void 0,void 0,function*(){try{return{data:{path:(yield Zn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(et(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return yt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield Zn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(a){if(et(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return yt(this,void 0,void 0,function*(){try{const a=yield Zn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(a){if(et(a))return{data:null,error:a};throw a}})}download(t,n){return yt(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=s?`?${s}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield ga(this.fetch,`${this.url}/${a}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(et(c))return{data:null,error:c};throw c}})}info(t){return yt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ga(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:tc(r),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}exists(t){return yt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield i1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(et(r)&&r instanceof ec){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&a.push(s);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&a.push(h);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${p}`)}}}remove(t){return yt(this,void 0,void 0,function*(){try{return{data:yield Wg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}list(t,n,r){return yt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},r1),n),{prefix:t||""});return{data:yield Zn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(et(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const o1="2.7.1",a1={"X-Client-Info":`storage-js/${o1}`};var Zi=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function h(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?s(g.value):a(g.value).then(c,h)}p((r=r.apply(e,t||[])).next())})};class l1{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},a1),n),this.fetch=Hg(r)}listBuckets(){return Zi(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(et(t))return{data:null,error:t};throw t}})}getBucket(t){return Zi(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Zi(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Zi(this,void 0,void 0,function*(){try{return{data:yield n1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Zi(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Zi(this,void 0,void 0,function*(){try{return{data:yield Wg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}}class u1 extends l1{constructor(t,n={},r){super(t,n,r)}from(t){return new s1(this.url,this.headers,t,this.fetch)}}const c1="2.50.0";let is="";typeof Deno<"u"?is="deno":typeof document<"u"?is="web":typeof navigator<"u"&&navigator.product==="ReactNative"?is="react-native":is="node";const h1={"X-Client-Info":`supabase-js-${is}/${c1}`},d1={headers:h1},f1={schema:"public"},p1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},m1={};var g1=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function h(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?s(g.value):a(g.value).then(c,h)}p((r=r.apply(e,t||[])).next())})};const _1=e=>{let t;return e?t=e:typeof fetch>"u"?t=jg:t=fetch,(...n)=>t(...n)},v1=()=>typeof Headers>"u"?Tg:Headers,y1=(e,t,n)=>{const r=_1(n),a=v1();return(s,l)=>g1(void 0,void 0,void 0,function*(){var c;const h=(c=yield t())!==null&&c!==void 0?c:e;let p=new a(l==null?void 0:l.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),r(s,Object.assign(Object.assign({},l),{headers:p}))})};var x1=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function h(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?s(g.value):a(g.value).then(c,h)}p((r=r.apply(e,t||[])).next())})};function w1(e){return e.endsWith("/")?e:e+"/"}function k1(e,t){var n,r;const{db:a,auth:s,realtime:l,global:c}=e,{db:h,auth:p,realtime:g,global:_}=t,v={db:Object.assign(Object.assign({},h),a),auth:Object.assign(Object.assign({},p),s),realtime:Object.assign(Object.assign({},g),l),global:Object.assign(Object.assign(Object.assign({},_),c),{headers:Object.assign(Object.assign({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>x1(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}const Vg="2.70.0",qi=30*1e3,nc=3,Vl=nc*qi,b1="http://localhost:9999",S1="supabase.auth.token",C1={"X-Client-Info":`gotrue-js/${Vg}`},ic="X-Supabase-Api-Version",qg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},L1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,P1=6e5;class fh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class E1 extends fh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function j1(e){return ce(e)&&e.name==="AuthApiError"}class Gg extends fh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class li extends fh{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class Un extends li{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function T1(e){return ce(e)&&e.name==="AuthSessionMissingError"}class Po extends li{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Eo extends li{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class jo extends li{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function N1(e){return ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class Af extends li{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rc extends li{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ql(e){return ce(e)&&e.name==="AuthRetryableFetchError"}class If extends li{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ps extends li{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rf=` 	
\r=`.split(""),M1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Rf.length;t+=1)e[Rf[t].charCodeAt(0)]=-2;for(let t=0;t<_a.length;t+=1)e[_a[t].charCodeAt(0)]=t;return e})();function zf(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(_a[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(_a[r]),t.queuedBits-=6}}function Kg(e,t,n){const r=M1[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Df(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{I1(l,r,n)};for(let l=0;l<e.length;l+=1)Kg(e.charCodeAt(l),a,s);return t.join("")}function O1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function A1(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}O1(r,t)}}function I1(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function R1(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Kg(e.charCodeAt(a),n,r);return new Uint8Array(t)}function z1(e){const t=[];return A1(e,n=>t.push(n)),new Uint8Array(t)}function D1(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};return e.forEach(a=>zf(a,n,r)),zf(null,n,r),t.join("")}function B1(e){return Math.round(Date.now()/1e3)+e}function U1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Qt=()=>typeof window<"u"&&typeof document<"u",pi={tested:!1,writable:!1},ms=()=>{if(!Qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pi.tested)return pi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pi.tested=!0,pi.writable=!0}catch{pi.tested=!0,pi.writable=!1}return pi.writable};function F1(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const Jg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>$s(async()=>{const{default:r}=await Promise.resolve().then(()=>Pr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},$1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qg=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},To=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},No=async(e,t)=>{await e.removeItem(t)};class $a{constructor(){this.promise=new $a.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}$a.promiseConstructor=Promise;function Gl(e){const t=e.split(".");if(t.length!==3)throw new ps("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!L1.test(t[r]))throw new ps("JWT not in base64url format");return{header:JSON.parse(Df(t[0])),payload:JSON.parse(Df(t[1])),signature:R1(t[2]),raw:{header:t[0],payload:t[1]}}}async function Z1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function H1(e,t){return new Promise((r,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){r(l);return}}catch(l){if(!t(s,l)){a(l);return}}})()})}function W1(e){return("0"+e.toString(16)).substr(-2)}function V1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let s=0;s<56;s++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,W1).join("")}async function q1(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function G1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await q1(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hi(e,t,n=!1){const r=V1();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Qg(e,`${t}-code-verifier`,a);const s=await G1(r);return[s,r===s?"plain":"s256"]}const K1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J1(e){const t=e.headers.get(ic);if(!t||!t.match(K1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Q1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Y1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const X1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wi(e){if(!X1.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var ek=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const _i=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tk=[502,503,504];async function Bf(e){var t;if(!$1(e))throw new rc(_i(e),0);if(tk.includes(e.status))throw new rc(_i(e),e.status);let n;try{n=await e.json()}catch(s){throw new Gg(_i(s),s)}let r;const a=J1(e);if(a&&a.getTime()>=qg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new If(_i(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Un}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new If(_i(n),e.status,n.weak_password.reasons);throw new E1(_i(n),e.status||500,r)}const nk=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function me(e,t,n,r){var a;const s=Object.assign({},r==null?void 0:r.headers);s[ic]||(s[ic]=qg["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const l=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await ik(e,t,n+c,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function ik(e,t,n,r,a,s){const l=nk(t,r,a,s);let c;try{c=await e(n,Object.assign({},l))}catch(h){throw console.error(h),new rc(_i(h),0)}if(c.ok||await Bf(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(h){await Bf(h)}}function kn(e){var t;let n=null;ak(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=B1(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Uf(e){const t=kn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Vn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rk(e){return{data:e,error:null}}function sk(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s}=e,l=ek(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s},h=Object.assign({},l);return{data:{properties:c,user:h},error:null}}function ok(e){return e}function ak(e){return e.access_token&&e.refresh_token&&e.expires_in}const Kl=["global","local","others"];var lk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class uk{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Jg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Kl[0]){if(Kl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kl.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Vn})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=lk(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:sk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Vn})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,s,l,c,h;try{const p={nextPage:null,lastPage:0,total:0},g=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:ok});if(g.error)throw g.error;const _=await g.json(),v=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(h=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);p[`${N}Page`]=k}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ce(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){Wi(t);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Vn})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Wi(t);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Vn})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Wi(t);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Vn})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Wi(t.userId);try{const{data:n,error:r}=await me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Wi(t.userId),Wi(t.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}}const ck={getItem:e=>ms()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ms()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ms()&&globalThis.localStorage.removeItem(e)}};function Ff(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function hk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vi={debug:!!(globalThis&&ms()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dk extends Yg{}async function fk(e,t,n){Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vi.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}hk();const pk={url:b1,storageKey:S1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $f(e,t,n){return await n()}class Os{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Os.nextInstanceID,Os.nextInstanceID+=1,this.instanceID>0&&Qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},pk),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new uk({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Jg(a.fetch),this.lock=a.lock||$f,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Qt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=fk:this.lock=$f,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:ms()?this.storage=ck:(this.memoryStorage={},this.storage=Ff(this.memoryStorage)):(this.memoryStorage={},this.storage=Ff(this.memoryStorage)),Qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=F1(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Qt()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),N1(s)){const h=(t=s.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ce(n)?{error:n}:{error:new Gg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const s=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:kn}),{data:l,error:c}=s;if(c||!l)return{data:{user:null,session:null},error:c};const h=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(s){if(ce(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,a;try{let s;if("email"in t){const{email:g,password:_,options:v}=t;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await Hi(this.storage,this.storageKey)),s=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:g,password:_,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:x,code_challenge_method:S},xform:kn})}else if("phone"in t){const{phone:g,password:_,options:v}=t;s=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:_,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(a=v==null?void 0:v.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:kn})}else throw new Eo("You must provide either an email or phone number and a password");const{data:l,error:c}=s;if(c||!l)return{data:{user:null,session:null},error:c};const h=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(s){if(ce(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:l,options:c}=t;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Uf})}else if("phone"in t){const{phone:s,password:l,options:c}=t;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Uf})}else throw new Eo("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Po}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,a,s,l,c,h,p,g,_,v,x;let S,k;if("message"in t)S=t.message,k=t.signature;else{const{chain:N,wallet:w,statement:b,options:C}=t;let O;if(Qt())if(typeof w=="object")O=w;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))O=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=w}const B=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const z=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),b?{statement:b}:null));let R;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")R=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)R=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)S=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),k=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${B.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(a=(r=C==null?void 0:C.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=C==null?void 0:C.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((h=C==null?void 0:C.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C==null?void 0:C.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((_=(g=C==null?void 0:C.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||_===void 0)&&_.length?["Resources",...C.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const z=await O.signMessage(new TextEncoder().encode(S),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=z}}try{const{data:N,error:w}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:D1(k)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:kn});if(w)throw w;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Po}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:w})}catch(N){if(ce(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const n=await To(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:s,error:l}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:kn});if(await No(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Po}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(ce(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:s,nonce:l}=t,c=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:kn}),{data:h,error:p}=c;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Po}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:p})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,s,l;try{if("email"in t){const{email:c,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Hi(this.storage,this.storageKey));const{error:_}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in t){const{phone:c,options:h}=t,{data:p,error:g}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},create_user:(s=h==null?void 0:h.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(l=h==null?void 0:h.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g}}throw new Eo("You must provide either an email or phone number.")}catch(c){if(ce(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var n,r;try{let a,s;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:kn});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,p=l.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(a){if(ce(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let s=null,l=null;return this.flowType==="pkce"&&([s,l]=await Hi(this.storage,this.storageKey)),await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:rk})}catch(s){if(ce(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Un;const{error:a}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:s}=t,{error:l}=await me(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:a,options:s}=t,{data:l,error:c}=await me(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Eo("You must provide either an email or phone number and a type")}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await To(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Vl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,p,g)=>(!l&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,p,g))})}return{data:{session:t},error:null}}const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vn}):await this._useSession(async n=>{var r,a,s;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Un}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Vn})})}catch(n){if(ce(n))return T1(n)&&(await this._removeSession(),await No(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:s}=r;if(s)throw s;if(!a.session)throw new Un;const l=a.session;let c=null,h=null;this.flowType==="pkce"&&t.email!=null&&([c,h]=await Hi(this.storage,this.storageKey));const{data:p,error:g}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:h}),jwt:l.access_token,xform:Vn});if(g)throw g;return l.user=p.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Un;const n=Date.now()/1e3;let r=n,a=!0,s=null;const{payload:l}=Gl(t.access_token);if(l.exp&&(r=l.exp,a=r<=n),a){const{session:c,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!c)return{data:{user:null,session:null},error:null};s=c}else{const{data:c,error:h}=await this._getUser(t.access_token);if(h)throw h;s={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(ce(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Un;const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Qt())throw new jo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new jo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Af("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Af("No code detected.");const{data:b,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:c,expires_at:h,token_type:p}=t;if(!s||!c||!l||!p)throw new jo("No session defined in URL");const g=Math.round(Date.now()/1e3),_=parseInt(c);let v=g+_;h&&(v=parseInt(h));const x=v-g;x*1e3<=qi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${_}s`);const S=v-_;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,g);const{data:k,error:N}=await this._getUser(s);if(N)throw N;const w={provider_token:r,provider_refresh_token:a,access_token:s,expires_in:_,expires_at:v,refresh_token:l,token_type:p,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(r){if(ce(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await To(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:s}=n;if(s)return{error:s};const l=(r=a.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(j1(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await No(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=U1(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:s},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Hi(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(ce(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async s=>{var l,c,h,p,g;const{data:_,error:v}=s;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",x,{headers:this.headers,jwt:(g=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return Qt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ce(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:s,error:l}=n;if(l)throw l;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await H1(async a=>(a>0&&await Z1(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kn})),(a,s)=>{const l=200*Math.pow(2,a);return s&&ql(s)&&Date.now()+l-r<qi})}catch(r){if(this._debug(n,"error",r),ce(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Qt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await To(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Vl;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Vl}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),ql(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new $a;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Un;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(a,"error",s),ce(s)){const l={session:null,error:s};return ql(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(h){s.push(h)}});if(await Promise.all(l),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Qg(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await No(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/qi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${qi}ms, refresh threshold is ${nc} ticks`),a<=nc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,l]=await Hi(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(c.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);a.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:s}=n;return s?{data:null,error:s}:await me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:s,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:h,error:p}=await me(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((a=h==null?void 0:h.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:s}=n;if(s)return{data:null,error:s};const{data:l,error:c}=await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(ce(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:s}=n;return s?{data:null,error:s}:await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ce(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],a=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),s=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:s}=t;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Gl(a.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const g=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r||(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+P1>Date.now()))return r;const{data:a,error:s}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new ps("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),r=a.keys.find(l=>l.kid===t),!r)throw new ps("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:x,error:S}=await this.getSession();if(S||!x.session)return{data:null,error:S};r=x.session.access_token}const{header:a,payload:s,signature:l,raw:{header:c,payload:h}}=Gl(r);if(Q1(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:s,header:a,signature:l},error:null}}const p=Y1(a.alg),g=await this.fetchJwk(a.kid,n),_=await crypto.subtle.importKey("jwk",g,p,!0,["verify"]);if(!await crypto.subtle.verify(p,_,l,z1(`${c}.${h}`)))throw new ps("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}}Os.nextInstanceID=0;const mk=Os;class gk extends mk{constructor(t){super(t)}}var _k=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function h(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?s(g.value):a(g.value).then(c,h)}p((r=r.apply(e,t||[])).next())})};class vk{constructor(t,n,r){var a,s,l;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=w1(t),h=new URL(c);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const p=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:f1,realtime:m1,auth:Object.assign(Object.assign({},p1),{storageKey:p}),global:d1},_=k1(r??{},g);this.storageKey=(a=_.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=_.global.headers)!==null&&s!==void 0?s:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=_.auth)!==null&&l!==void 0?l:{},this.headers,_.global.fetch),this.fetch=y1(n,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new Iw(new URL("rest/v1",h).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),_.accessToken||this._listenForAuthEvents()}get functions(){return new hw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new u1(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return _k(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:s,flowType:l,lock:c,debug:h},p,g){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gk({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),p),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,flowType:l,lock:c,debug:h,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Kw(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yk=(e,t,n)=>new vk(e,t,n),Xg="https://yltpdzjwcsmymbrirkio.supabase.co",xk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlsdHBkemp3Y3NteW1icmlya2lvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk2NDcxMDAsImV4cCI6MjA2NTIyMzEwMH0.X9E0FC9wimJQ4P9LDEE8UMmgQ9RKeI0Ear4ZpXEr1Z4",wk=e=>{try{return new URL(e),!0}catch{return!1}},kk=wk(Xg);let Cn;kk?Cn=yk(Xg,xk):(console.warn("Supabase is not configured. Please set up your Supabase credentials."),Cn={from:()=>({select:()=>Promise.reject(new Error("Supabase not configured. Please connect to Supabase first.")),insert:()=>Promise.reject(new Error("Supabase not configured. Please connect to Supabase first.")),update:()=>Promise.reject(new Error("Supabase not configured. Please connect to Supabase first.")),delete:()=>Promise.reject(new Error("Supabase not configured. Please connect to Supabase first.")),upsert:()=>Promise.reject(new Error("Supabase not configured. Please connect to Supabase first."))}),auth:{signUp:()=>Promise.reject(new Error("Supabase not configured. Please connect to Supabase first.")),signIn:()=>Promise.reject(new Error("Supabase not configured. Please connect to Supabase first.")),signOut:()=>Promise.reject(new Error("Supabase not configured. Please connect to Supabase first.")),getUser:()=>Promise.reject(new Error("Supabase not configured. Please connect to Supabase first.")),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}})},storage:{from:()=>({upload:()=>Promise.reject(new Error("Supabase not configured. Please connect to Supabase first.")),download:()=>Promise.reject(new Error("Supabase not configured. Please connect to Supabase first.")),remove:()=>Promise.reject(new Error("Supabase not configured. Please connect to Supabase first."))})}});const Zf=e=>({id:e.id,title:e.title,address:e.address||"",city:e.city,coordinates:[parseFloat(e.latitude),parseFloat(e.longitude)],marketSector:e.market_sector,buildingType:e.building_type||void 0,description:e.description,imageUrls:e.image_urls||[],client:e.client,projectManager:e.project_manager||"",status:e.status,compensation:parseFloat(e.compensation)||0,year:e.year,featured:e.featured||!1,recent:e.recent||!1}),Jl=e=>({..."id"in e&&{id:e.id},title:e.title,address:e.address,city:e.city,latitude:e.coordinates[0],longitude:e.coordinates[1],market_sector:e.marketSector,building_type:e.buildingType||null,description:e.description,image_urls:e.imageUrls,client:e.client,project_manager:e.projectManager,status:e.status,compensation:e.compensation,year:e.year,featured:e.featured,recent:e.recent}),Pt={async getAll(){const{data:e,error:t}=await Cn.from("projects").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching projects:",t),new Error(`Failed to fetch projects: ${t.message}`);return(e==null?void 0:e.map(Zf))||[]},async add(e){const t=Jl(e),{data:n,error:r}=await Cn.from("projects").insert(t).select("id").single();if(r)throw console.error("Error adding project:",r),new Error(`Failed to add project: ${r.message}`);return n.id},async update(e,t){const n=await this.getById(e);if(!n)throw new Error("Project not found");const r={...n,...t},a=Jl(r);delete a.id;const{error:s}=await Cn.from("projects").update(a).eq("id",e);if(s)throw console.error("Error updating project:",s),new Error(`Failed to update project: ${s.message}`)},async delete(e){const{error:t}=await Cn.from("projects").delete().eq("id",e);if(t)throw console.error("Error deleting project:",t),new Error(`Failed to delete project: ${t.message}`)},async getById(e){const{data:t,error:n}=await Cn.from("projects").select("*").eq("id",e).single();if(n){if(n.code==="PGRST116")return null;throw console.error("Error fetching project:",n),new Error(`Failed to fetch project: ${n.message}`)}return t?Zf(t):null},async bulkAdd(e){if(e.length===0)return;const t=e.map(Jl),{error:n}=await Cn.from("projects").insert(t);if(n)throw console.error("Error bulk adding projects:",n),new Error(`Failed to import projects: ${n.message}`)},async clear(){const{error:e}=await Cn.from("projects").delete().neq("id","00000000-0000-0000-0000-000000000000");if(e)throw console.error("Error clearing projects:",e),new Error(`Failed to clear projects: ${e.message}`)}},bk=[{title:"BMPC BMPI NN801 Electronic Network",address:"Knolls",city:"West Milton",coordinates:[43.0184,-73.819],marketSector:"industrial",buildingType:"Manufacturing Facility",description:"State-of-the-art industrial facility featuring advanced electronic network infrastructure for marine propulsion systems. This project showcases cutting-edge technology integration and sustainable design principles.",imageUrls:["https://images.pexels.com/photos/236705/pexels-photo-236705.jpeg","https://images.pexels.com/photos/256381/pexels-photo-256381.jpeg"],client:"Fluor Marine Propulsion, LLC",projectManager:"Andrea DeLany, CBCP",status:"Active",compensation:114600,year:2024,featured:!0,recent:!0},{title:"Parks Horse Island Additional Design Services",address:"Thousand Islands Reg",city:"Sackets Harbor",coordinates:[43.9469,-76.1188],marketSector:"parks",buildingType:"Visitor Center",description:"Comprehensive design services for recreational facility enhancement, focusing on visitor experience and environmental preservation. The project includes modern amenities while respecting the natural landscape.",imageUrls:["https://images.pexels.com/photos/417074/pexels-photo-417074.jpeg","https://images.pexels.com/photos/1029604/pexels-photo-1029604.jpeg"],client:"New York State Office of Parks, Recreation & Historic Preservation",projectManager:"Thomas Ascienzo, LEED AP BD+C",status:"Active",compensation:180251,year:2024,featured:!1,recent:!0},{title:"Excelsior Park Townhouses - Phase 2",address:"Excelsior Park",city:"Saratoga Springs",coordinates:[43.0831,-73.7845],marketSector:"housing",buildingType:"Townhouse Complex",description:"Modern townhome development featuring energy-efficient design and contemporary living spaces. This phase expands the community with 24 additional units designed for modern families.",imageUrls:["https://images.pexels.com/photos/323780/pexels-photo-323780.jpeg","https://images.pexels.com/photos/1396122/pexels-photo-1396122.jpeg"],client:"Witt Construction, Inc.",projectManager:"Jace Brown, R.A.",status:"Active",compensation:141e3,year:2024,featured:!0,recent:!1}];function Sk(){const[e,t]=F.useState([]),[n,r]=F.useState([]),[a,s]=F.useState(null),[l,c]=F.useState(!1),[h,p]=F.useState(!1),[g,_]=F.useState(!1),[v,x]=F.useState(!1),[S,k]=F.useState(!1),[N,w]=F.useState(!1),[b,C]=F.useState(!1),[O,B]=F.useState(!1),[z,R]=F.useState(!0),[P,j]=F.useState(null),[T,U]=F.useState(!1),[D,H]=F.useState(new Set),[Y,Le]=F.useState({marketSectors:[],searchQuery:"",status:[]}),ye=a?e.find(ee=>ee.id===a):null;F.useEffect(()=>{const ee=localStorage.getItem("adminAuthenticated");U(ee==="true")},[]),F.useEffect(()=>{(async()=>{try{j(null);const q=await Pt.getAll();if(q.length===0){await Pt.bulkAdd(bk);const ae=await Pt.getAll();t(ae)}else t(q)}catch(q){console.error("Error loading projects:",q),j("Failed to load projects. Please check your database connection."),t([])}finally{R(!1)}})()},[]),F.useEffect(()=>{let ee=e;if(Y.marketSectors.length>0&&(ee=ee.filter(q=>Y.marketSectors.includes(q.marketSector))),Y.status.length>0&&(ee=ee.filter(q=>Y.status.includes(q.status))),Y.searchQuery.trim()){const q=Y.searchQuery.toLowerCase();ee=ee.filter(ae=>ae.title.toLowerCase().includes(q)||ae.city.toLowerCase().includes(q)||ae.client.toLowerCase().includes(q)||ae.description.toLowerCase().includes(q)||ae.buildingType&&ae.buildingType.toLowerCase().includes(q))}r(ee)},[Y,e]);const oe=()=>{U(!0),x(!1),C(!1)},I=()=>{localStorage.removeItem("adminAuthenticated"),localStorage.removeItem("adminEmail"),U(!1),p(!1),_(!1),H(new Set)},V=async ee=>{try{j(null);const q=await nw(ee);await Pt.bulkAdd(q);const ae=await Pt.getAll();t(ae),_(!1)}catch(q){console.error("Error importing CSV:",q),j("Error importing CSV file. Please check the format and try again.")}},Z=async ee=>{try{j(null),await Pt.add(ee);const q=await Pt.getAll();t(q),p(!1)}catch(q){console.error("Error adding project:",q),j("Error adding project. Please try again.")}},G=async ee=>{try{j(null),await Pt.update(ee.id,ee);const q=await Pt.getAll();t(q)}catch(q){throw console.error("Error updating project:",q),j("Error updating project. Please try again."),q}},J=async ee=>{try{j(null),await Pt.delete(ee);const q=await Pt.getAll();t(q),s(null)}catch(q){throw console.error("Error deleting project:",q),j("Error deleting project. Please try again."),q}},K=async ee=>{try{j(null);for(const ae of ee)await Pt.delete(ae);const q=await Pt.getAll();t(q),H(new Set),k(!1)}catch(q){throw console.error("Error bulk deleting projects:",q),j("Error deleting projects. Please try again."),q}},re=()=>{iw(n)},ie=ee=>{s(ee.id)},te=()=>{s(null),H(new Set)},Se=ee=>{const q=new Set(D);q.has(ee)?q.delete(ee):q.add(ee),H(q)},le=()=>{H(new Set(n.map(ee=>ee.id)))},pe=()=>{H(new Set)};return F.useEffect(()=>{const ee=q=>{const ae=q.target;N&&!ae.closest(".mobile-menu")&&!ae.closest(".mobile-menu-trigger")&&w(!1),b&&!ae.closest(".options-dropdown")&&!ae.closest(".options-dropdown-trigger")&&C(!1)};return document.addEventListener("mousedown",ee),()=>document.removeEventListener("mousedown",ee)},[N,b]),z?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("img",{src:"/BDA-logo-RGB.png",alt:"Beardsley",className:"h-16 mx-auto mb-4 animate-pulse"}),f.jsx("p",{className:"text-gray-600",children:"Loading projects..."})]})}):P?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[f.jsx("img",{src:"/BDA-logo-RGB.png",alt:"Beardsley",className:"h-16 mx-auto mb-4"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Database Connection Error"}),f.jsx("p",{className:"text-gray-600 mb-4",children:P}),f.jsx("p",{className:"text-sm text-gray-500",children:"Please ensure your Supabase configuration is correct in the .env file."}),f.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-[#6d0020] text-white rounded-lg hover:bg-[#5a001a] transition-colors",children:"Retry"})]})}):ye?f.jsx(Kx,{project:ye,onBack:te,allProjects:e,onUpdateProject:T?G:void 0,onDeleteProject:T?J:void 0}):f.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[!O&&f.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 relative z-40",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsx("div",{className:"flex items-center space-x-3",children:f.jsx("img",{src:"/BDA-logo-RGB.png",alt:"Beardsley",className:"h-11"})}),f.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(Sf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),f.jsx("input",{type:"text",placeholder:"Search projects...",value:Y.searchQuery,onChange:ee=>Le(q=>({...q,searchQuery:ee.target.value})),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent w-64"})]}),f.jsxs("button",{onClick:()=>c(!l),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[f.jsx($l,{className:"h-4 w-4"}),f.jsx("span",{children:"Filters"})]}),f.jsxs("div",{className:"relative options-dropdown",children:[f.jsx("button",{onClick:()=>C(!b),className:"options-dropdown-trigger flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:f.jsx(lg,{className:"h-4 w-4"})}),b&&f.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:T?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:f.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Admin Actions"})}),f.jsx("button",{onClick:()=>{p(!0),C(!1)},className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Add Project"}),f.jsx("button",{onClick:()=>{_(!0),C(!1)},className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Import CSV"}),f.jsx("button",{onClick:()=>{re(),C(!1)},className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Export CSV"})]}):f.jsx("button",{onClick:()=>x(!0),className:"w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Admin Login"})})]}),T&&f.jsx(Xx,{onAddProject:()=>p(!0),onImportCSV:()=>_(!0),onExportCSV:re,onLogout:I,selectedCount:D.size,onBulkDelete:()=>k(!0),onSelectAll:le,onClearSelection:pe})]}),f.jsx("button",{onClick:()=>w(!N),className:"lg:hidden mobile-menu-trigger p-2 rounded-lg hover:bg-gray-100 transition-colors",children:N?f.jsx(Zt,{className:"h-6 w-6 text-gray-600"}):f.jsx(ix,{className:"h-6 w-6 text-gray-600"})})]}),f.jsx("div",{className:"lg:hidden pb-4",children:f.jsxs("div",{className:"relative",children:[f.jsx(Sf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),f.jsx("input",{type:"text",placeholder:"Search projects...",value:Y.searchQuery,onChange:ee=>Le(q=>({...q,searchQuery:ee.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6d0020] focus:border-transparent"})]})}),T&&D.size>0&&f.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-40 bg-white shadow-lg border border-gray-200 rounded-lg px-4 py-3 w-[90%] max-w-xl",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{className:"text-sm font-medium text-gray-800",children:[D.size," project",D.size!==1?"s":""," selected"]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("button",{onClick:pe,className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:"Clear"}),f.jsx("button",{onClick:()=>k(!0),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white text-sm rounded transition-colors",children:"Delete Selected"})]})]})})]})}),N&&f.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>w(!1)}),f.jsx("div",{className:"mobile-menu fixed right-0 top-0 h-full w-80 max-w-[85vw] bg-white shadow-xl transform transition-transform",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Menu"}),f.jsx("button",{onClick:()=>w(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:f.jsx(Zt,{className:"h-5 w-5 text-gray-600"})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("button",{onClick:()=>{c(!l),w(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors text-left",children:[f.jsx($l,{className:"h-5 w-5 text-gray-600"}),f.jsx("span",{className:"font-medium",children:"Filters"})]}),T?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>{re(),w(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 bg-[#91982c] hover:bg-[#7d8428] text-white rounded-lg transition-colors text-left",children:f.jsx("span",{className:"font-medium",children:"Export CSV"})}),f.jsx("button",{onClick:()=>{_(!0),w(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 bg-[#f7941d] hover:bg-[#e8851a] text-white rounded-lg transition-colors text-left",children:f.jsx("span",{className:"font-medium",children:"Import CSV"})}),f.jsx("button",{onClick:()=>{p(!0),w(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 bg-[#6d0020] hover:bg-[#5a001a] text-white rounded-lg transition-colors text-left",children:f.jsx("span",{className:"font-medium",children:"Add Project"})}),D.size>0&&f.jsx("button",{onClick:()=>{k(!0),w(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors text-left",children:f.jsxs("span",{className:"font-medium",children:["Delete Selected (",D.size,")"]})}),f.jsx("button",{onClick:()=>{I(),w(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors text-left",children:f.jsx("span",{className:"font-medium",children:"Logout"})})]}):f.jsx("button",{onClick:()=>{x(!0),w(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 bg-[#6d0020] hover:bg-[#5a001a] text-white rounded-lg transition-colors text-left",children:f.jsx("span",{className:"font-medium",children:"Admin Login"})})]})]})})]}),f.jsxs("div",{className:`flex ${O?"h-screen":"h-[calc(100vh-4rem)] lg:h-[calc(100vh-4rem)]"} relative`,children:[!O&&l&&f.jsx("div",{className:"hidden lg:block w-80 bg-white border-r border-gray-200 overflow-y-auto relative z-30",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),f.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:f.jsx(Zt,{className:"h-4 w-4 text-gray-400"})})]}),f.jsx(Lf,{filters:Y,onFiltersChange:Le,projectCount:n.length,totalCount:e.length})]})}),l&&f.jsxs("div",{className:"lg:hidden fixed inset-0 z-40",children:[f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>c(!1)}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white rounded-t-2xl max-h-[80vh] overflow-y-auto",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),f.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:f.jsx(Zt,{className:"h-4 w-4 text-gray-400"})})]}),f.jsx(Lf,{filters:Y,onFiltersChange:Le,projectCount:n.length,totalCount:e.length})]})})]}),f.jsxs("div",{className:"flex-1 relative z-10",children:[f.jsx("button",{onClick:()=>B(!O),className:"absolute top-4 right-4 z-40 p-2 bg-white hover:bg-gray-50 rounded-lg shadow-lg border border-gray-200 transition-colors",title:O?"Exit Fullscreen":"Enter Fullscreen",children:O?f.jsx(rx,{className:"h-5 w-5 text-gray-600"}):f.jsx(Wu,{className:"h-5 w-5 text-gray-600"})}),!O&&f.jsx("button",{onClick:()=>c(!0),className:"lg:hidden absolute top-4 left-4 z-40 p-2 bg-white hover:bg-gray-50 rounded-lg shadow-lg border border-gray-200 transition-colors",title:"Open Filters",children:f.jsx($l,{className:"h-5 w-5 text-gray-600"})}),f.jsx(Hx,{projects:n,onProjectSelect:ie,isFullscreen:O,isAdminMode:T,selectedProjectIds:D,onToggleProjectSelection:Se})]})]}),v&&f.jsx("div",{className:"relative z-50",children:f.jsx(Yx,{onClose:()=>x(!1),onLogin:oe})}),h&&T&&f.jsx("div",{className:"relative z-50",children:f.jsx(Jx,{onClose:()=>p(!1),onAddProject:Z})}),g&&T&&f.jsx("div",{className:"relative z-50",children:f.jsx(Qx,{onClose:()=>_(!1),onImport:V})}),S&&T&&f.jsx("div",{className:"relative z-50",children:f.jsx(ew,{projectIds:Array.from(D),projects:e,onClose:()=>k(!1),onConfirm:K})}),P&&f.jsx("div",{className:"fixed bottom-4 right-4 left-4 lg:left-auto z-50 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{className:"flex-1",children:P}),f.jsx("button",{onClick:()=>j(null),className:"text-white hover:text-gray-200 flex-shrink-0",children:""})]})})]})}rg(document.getElementById("root")).render(f.jsx(F.StrictMode,{children:f.jsx(Sk,{})}));
